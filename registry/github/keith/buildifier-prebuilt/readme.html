<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">buildifier-prebuilt</h1><a id="user-content-buildifier-prebuilt" class="anchor" aria-label="Permalink: buildifier-prebuilt" href="#buildifier-prebuilt"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://github.com/keith/buildifier-prebuilt/actions/workflows/ci.yml"><img src="https://github.com/keith/buildifier-prebuilt/actions/workflows/ci.yml/badge.svg?event=schedule" alt="Build" style="max-width: 100%;"></a></p>
<p dir="auto">This repo contains bazel rules for <code>buildifier</code> and <code>buildozer</code> using
prebuilt binaries with bazel toolchains instead of requiring you depend
on <code>rules_go</code>. This also means you won't download every possible version
of these binaries, you'll only download the ones for the platform you're
running on.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Usage</h2><a id="user-content-usage" class="anchor" aria-label="Permalink: Usage" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">You can create a rule for running buildifier:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@buildifier_prebuilt//:rules.bzl&quot;, &quot;buildifier&quot;)

buildifier(
    name = &quot;buildifier.check&quot;,
    exclude_patterns = [
        &quot;./.git/*&quot;,
    ],
    lint_mode = &quot;warn&quot;,
    mode = &quot;diff&quot;,
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@buildifier_prebuilt//:rules.bzl"</span>, <span class="pl-s">"buildifier"</span>)

<span class="pl-en">buildifier</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"buildifier.check"</span>,
    <span class="pl-s1">exclude_patterns</span> <span class="pl-c1">=</span> [
        <span class="pl-s">"./.git/*"</span>,
    ],
    <span class="pl-s1">lint_mode</span> <span class="pl-c1">=</span> <span class="pl-s">"warn"</span>,
    <span class="pl-s1">mode</span> <span class="pl-c1">=</span> <span class="pl-s">"diff"</span>,
)</pre></div>
<p dir="auto">That can be run with:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="bazel run //:buildifier.check"><pre>bazel run //:buildifier.check</pre></div>
<p dir="auto">Or you can run buildifier or buildozer directly:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="bazel run -- @buildifier_prebuilt//:buildozer ARGS
bazel run -- @buildifier_prebuilt//:buildifier ARGS"><pre>bazel run -- @buildifier_prebuilt//:buildozer ARGS
bazel run -- @buildifier_prebuilt//:buildifier ARGS</pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Installation</h2><a id="user-content-installation" class="anchor" aria-label="Permalink: Installation" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Bzlmod: Add <code>bazel_dep</code> to <code>MODULE.bazel</code> file</h3><a id="user-content-bzlmod-add-bazel_dep-to-modulebazel-file" class="anchor" aria-label="Permalink: Bzlmod: Add bazel_dep to MODULE.bazel file" href="#bzlmod-add-bazel_dep-to-modulebazel-file"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>

<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="bazel_dep(
    name = &quot;buildifier_prebuilt&quot;,
    version = &quot;7.3.1&quot;,
    dev_dependency = True,
)"><pre><span class="pl-en">bazel_dep</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"buildifier_prebuilt"</span>,
    <span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"7.3.1"</span>,
    <span class="pl-s1">dev_dependency</span> <span class="pl-c1">=</span> <span class="pl-c1">True</span>,
)</pre></div>

<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Legacy: Add declarations to <code>WORKSPACE</code> file</h3><a id="user-content-legacy-add-declarations-to-workspace-file" class="anchor" aria-label="Permalink: Legacy: Add declarations to WORKSPACE file" href="#legacy-add-declarations-to-workspace-file"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Add the following to your <code>WORKSPACE</code> file.</p>

<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@bazel_tools//tools/build_defs/repo:http.bzl&quot;, &quot;http_archive&quot;)

http_archive(
    name = &quot;buildifier_prebuilt&quot;,
    sha256 = &quot;7f85b688a4b558e2d9099340cfb510ba7179f829454fba842370bccffb67d6cc&quot;,
    strip_prefix = &quot;buildifier-prebuilt-7.3.1&quot;,
    urls = [
        &quot;http://github.com/keith/buildifier-prebuilt/archive/7.3.1.tar.gz&quot;,
    ],
)

load(&quot;@buildifier_prebuilt//:deps.bzl&quot;, &quot;buildifier_prebuilt_deps&quot;)

buildifier_prebuilt_deps()

load(&quot;@bazel_skylib//:workspace.bzl&quot;, &quot;bazel_skylib_workspace&quot;)

bazel_skylib_workspace()

load(&quot;@buildifier_prebuilt//:defs.bzl&quot;, &quot;buildifier_prebuilt_register_toolchains&quot;)

buildifier_prebuilt_register_toolchains()"><pre><span class="pl-en">load</span>(<span class="pl-s">"@bazel_tools//tools/build_defs/repo:http.bzl"</span>, <span class="pl-s">"http_archive"</span>)

<span class="pl-en">http_archive</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"buildifier_prebuilt"</span>,
    <span class="pl-s1">sha256</span> <span class="pl-c1">=</span> <span class="pl-s">"7f85b688a4b558e2d9099340cfb510ba7179f829454fba842370bccffb67d6cc"</span>,
    <span class="pl-s1">strip_prefix</span> <span class="pl-c1">=</span> <span class="pl-s">"buildifier-prebuilt-7.3.1"</span>,
    <span class="pl-s1">urls</span> <span class="pl-c1">=</span> [
        <span class="pl-s">"http://github.com/keith/buildifier-prebuilt/archive/7.3.1.tar.gz"</span>,
    ],
)

<span class="pl-en">load</span>(<span class="pl-s">"@buildifier_prebuilt//:deps.bzl"</span>, <span class="pl-s">"buildifier_prebuilt_deps"</span>)

<span class="pl-en">buildifier_prebuilt_deps</span>()

<span class="pl-en">load</span>(<span class="pl-s">"@bazel_skylib//:workspace.bzl"</span>, <span class="pl-s">"bazel_skylib_workspace"</span>)

<span class="pl-en">bazel_skylib_workspace</span>()

<span class="pl-en">load</span>(<span class="pl-s">"@buildifier_prebuilt//:defs.bzl"</span>, <span class="pl-s">"buildifier_prebuilt_register_toolchains"</span>)

<span class="pl-en">buildifier_prebuilt_register_toolchains</span>()</pre></div>

<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Specify Version of Buildtools</h2><a id="user-content-specify-version-of-buildtools" class="anchor" aria-label="Permalink: Specify Version of Buildtools" href="#specify-version-of-buildtools"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">By default releases of these rules hardcode the most up to date versions of the tools at release
time. If you would like to specify a specific version of buildtools to use, you can do one of the
following.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Option 1: Quick and Easy</h3><a id="user-content-option-1-quick-and-easy" class="anchor" aria-label="Permalink: Option 1: Quick and Easy" href="#option-1-quick-and-easy"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Update the <code>buildifier_prebuilt_register_toolchains</code> declaration in your <code>WORKSPACE</code> file to specify
the version.</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="# Use buildtools version 4.2.5.

# Bzlmod
buildifier_prebuilt = use_extension(&quot;//:defs.bzl&quot;, &quot;buildifier_prebuilt_deps_extension&quot;)
buildifier_prebuilt.toolchains(version = &quot;4.2.5&quot;)
use_repo(
    buildifier_prebuilt,
    &quot;buildifier_prebuilt_toolchains&quot;,
)

# Workspace
buildifier_prebuilt_register_toolchains(
    assets = buildtools_assets(version = &quot;4.2.5&quot;),
)"><pre><span class="pl-c"># Use buildtools version 4.2.5.</span>

<span class="pl-c"># Bzlmod</span>
<span class="pl-s1">buildifier_prebuilt</span> <span class="pl-c1">=</span> <span class="pl-en">use_extension</span>(<span class="pl-s">"//:defs.bzl"</span>, <span class="pl-s">"buildifier_prebuilt_deps_extension"</span>)
<span class="pl-s1">buildifier_prebuilt</span>.<span class="pl-en">toolchains</span>(<span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"4.2.5"</span>)
<span class="pl-en">use_repo</span>(
    <span class="pl-s1">buildifier_prebuilt</span>,
    <span class="pl-s">"buildifier_prebuilt_toolchains"</span>,
)

<span class="pl-c"># Workspace</span>
<span class="pl-en">buildifier_prebuilt_register_toolchains</span>(
    <span class="pl-s1">assets</span> <span class="pl-c1">=</span> <span class="pl-en">buildtools_assets</span>(<span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"4.2.5"</span>),
)</pre></div>
<p dir="auto">The above example will download version 4.2.5 of the <code>buildtools</code> binaries. The only downside is
that you will see warnings stating that a canonical version can be specified using SHA256 values.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Option 2: Manually Add SHA256 Values</h3><a id="user-content-option-2-manually-add-sha256-values" class="anchor" aria-label="Permalink: Option 2: Manually Add SHA256 Values" href="#option-2-manually-add-sha256-values"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">To add SHA256 values to the declaration, add a <code>sha256_values</code> attribute and specify the values in a
<code>dict</code> where the key is <code>&lt;tool&gt;_&lt;platform&gt;_&lt;arch&gt;</code> and the value is the SHA256 value.</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="# Use buildtools version 4.2.5.

# Bzlmod
buildifier_prebuilt = use_extension(&quot;//:defs.bzl&quot;, &quot;buildifier_prebuilt_deps_extension&quot;)
buildifier_prebuilt.toolchains(
    sha256_values = {
        &quot;buildifier_darwin_amd64&quot;: &quot;757f246040aceb2c9550d02ef5d1f22d3ef1ff53405fe76ef4c6239ef1ea2cc1&quot;,
        &quot;buildifier_darwin_arm64&quot;: &quot;4cf02e051f6cda18765935cb6e77cc938cf8b405064589a50fe9582f82c7edaf&quot;,
        &quot;buildifier_linux_amd64&quot;: &quot;f94e71b22925aff76ce01a49e1c6c6d31f521bbbccff047b81f2ea01fd01a945&quot;,
        &quot;buildifier_linux_arm64&quot;: &quot;2113d79e45efb51e2b3013c8737cb66cadae3fd89bd7e820438cb06201e50874&quot;,
        &quot;buildozer_darwin_amd64&quot;: &quot;3fe671620e6cb7d2386f9da09c1de8de88b02b9dd9275cdecd8b9e417f74df1b&quot;,
        &quot;buildozer_darwin_arm64&quot;: &quot;ff4d297023fe3e0fd14113c78f04cef55289ca5bfe5e45a916be738b948dc743&quot;,
        &quot;buildozer_linux_amd64&quot;: &quot;e8e39b71c52318a9030dd9fcb9bbfd968d0e03e59268c60b489e6e6fc1595d7b&quot;,
        &quot;buildozer_linux_arm64&quot;: &quot;96227142969540def1d23a9e8225524173390d23f3d7fd56ce9c4436953f02fc&quot;,
    },
    version = &quot;4.2.5&quot;,
)
use_repo(
    buildifier_prebuilt,
    &quot;buildifier_prebuilt_toolchains&quot;,
)

# Workspace
buildifier_prebuilt_register_toolchains(
    assets = buildtools_assets(version = &quot;4.2.5&quot;),
    sha256_values = {
        &quot;buildifier_darwin_amd64&quot;: &quot;757f246040aceb2c9550d02ef5d1f22d3ef1ff53405fe76ef4c6239ef1ea2cc1&quot;,
        &quot;buildifier_darwin_arm64&quot;: &quot;4cf02e051f6cda18765935cb6e77cc938cf8b405064589a50fe9582f82c7edaf&quot;,
        &quot;buildifier_linux_amd64&quot;: &quot;f94e71b22925aff76ce01a49e1c6c6d31f521bbbccff047b81f2ea01fd01a945&quot;,
        &quot;buildifier_linux_arm64&quot;: &quot;2113d79e45efb51e2b3013c8737cb66cadae3fd89bd7e820438cb06201e50874&quot;,
        &quot;buildozer_darwin_amd64&quot;: &quot;3fe671620e6cb7d2386f9da09c1de8de88b02b9dd9275cdecd8b9e417f74df1b&quot;,
        &quot;buildozer_darwin_arm64&quot;: &quot;ff4d297023fe3e0fd14113c78f04cef55289ca5bfe5e45a916be738b948dc743&quot;,
        &quot;buildozer_linux_amd64&quot;: &quot;e8e39b71c52318a9030dd9fcb9bbfd968d0e03e59268c60b489e6e6fc1595d7b&quot;,
        &quot;buildozer_linux_arm64&quot;: &quot;96227142969540def1d23a9e8225524173390d23f3d7fd56ce9c4436953f02fc&quot;,
    },
)"><pre><span class="pl-c"># Use buildtools version 4.2.5.</span>

<span class="pl-c"># Bzlmod</span>
<span class="pl-s1">buildifier_prebuilt</span> <span class="pl-c1">=</span> <span class="pl-en">use_extension</span>(<span class="pl-s">"//:defs.bzl"</span>, <span class="pl-s">"buildifier_prebuilt_deps_extension"</span>)
<span class="pl-s1">buildifier_prebuilt</span>.<span class="pl-en">toolchains</span>(
    <span class="pl-s1">sha256_values</span> <span class="pl-c1">=</span> {
        <span class="pl-s">"buildifier_darwin_amd64"</span>: <span class="pl-s">"757f246040aceb2c9550d02ef5d1f22d3ef1ff53405fe76ef4c6239ef1ea2cc1"</span>,
        <span class="pl-s">"buildifier_darwin_arm64"</span>: <span class="pl-s">"4cf02e051f6cda18765935cb6e77cc938cf8b405064589a50fe9582f82c7edaf"</span>,
        <span class="pl-s">"buildifier_linux_amd64"</span>: <span class="pl-s">"f94e71b22925aff76ce01a49e1c6c6d31f521bbbccff047b81f2ea01fd01a945"</span>,
        <span class="pl-s">"buildifier_linux_arm64"</span>: <span class="pl-s">"2113d79e45efb51e2b3013c8737cb66cadae3fd89bd7e820438cb06201e50874"</span>,
        <span class="pl-s">"buildozer_darwin_amd64"</span>: <span class="pl-s">"3fe671620e6cb7d2386f9da09c1de8de88b02b9dd9275cdecd8b9e417f74df1b"</span>,
        <span class="pl-s">"buildozer_darwin_arm64"</span>: <span class="pl-s">"ff4d297023fe3e0fd14113c78f04cef55289ca5bfe5e45a916be738b948dc743"</span>,
        <span class="pl-s">"buildozer_linux_amd64"</span>: <span class="pl-s">"e8e39b71c52318a9030dd9fcb9bbfd968d0e03e59268c60b489e6e6fc1595d7b"</span>,
        <span class="pl-s">"buildozer_linux_arm64"</span>: <span class="pl-s">"96227142969540def1d23a9e8225524173390d23f3d7fd56ce9c4436953f02fc"</span>,
    },
    <span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"4.2.5"</span>,
)
<span class="pl-en">use_repo</span>(
    <span class="pl-s1">buildifier_prebuilt</span>,
    <span class="pl-s">"buildifier_prebuilt_toolchains"</span>,
)

<span class="pl-c"># Workspace</span>
<span class="pl-en">buildifier_prebuilt_register_toolchains</span>(
    <span class="pl-s1">assets</span> <span class="pl-c1">=</span> <span class="pl-en">buildtools_assets</span>(<span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"4.2.5"</span>),
    <span class="pl-s1">sha256_values</span> <span class="pl-c1">=</span> {
        <span class="pl-s">"buildifier_darwin_amd64"</span>: <span class="pl-s">"757f246040aceb2c9550d02ef5d1f22d3ef1ff53405fe76ef4c6239ef1ea2cc1"</span>,
        <span class="pl-s">"buildifier_darwin_arm64"</span>: <span class="pl-s">"4cf02e051f6cda18765935cb6e77cc938cf8b405064589a50fe9582f82c7edaf"</span>,
        <span class="pl-s">"buildifier_linux_amd64"</span>: <span class="pl-s">"f94e71b22925aff76ce01a49e1c6c6d31f521bbbccff047b81f2ea01fd01a945"</span>,
        <span class="pl-s">"buildifier_linux_arm64"</span>: <span class="pl-s">"2113d79e45efb51e2b3013c8737cb66cadae3fd89bd7e820438cb06201e50874"</span>,
        <span class="pl-s">"buildozer_darwin_amd64"</span>: <span class="pl-s">"3fe671620e6cb7d2386f9da09c1de8de88b02b9dd9275cdecd8b9e417f74df1b"</span>,
        <span class="pl-s">"buildozer_darwin_arm64"</span>: <span class="pl-s">"ff4d297023fe3e0fd14113c78f04cef55289ca5bfe5e45a916be738b948dc743"</span>,
        <span class="pl-s">"buildozer_linux_amd64"</span>: <span class="pl-s">"e8e39b71c52318a9030dd9fcb9bbfd968d0e03e59268c60b489e6e6fc1595d7b"</span>,
        <span class="pl-s">"buildozer_linux_arm64"</span>: <span class="pl-s">"96227142969540def1d23a9e8225524173390d23f3d7fd56ce9c4436953f02fc"</span>,
    },
)</pre></div>
<p dir="auto">The downside to this is that you will need to manually download each binary that you will use in
your builds and calculate the SHA256 value.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Option 3: Quick, Easy and Canonical</h3><a id="user-content-option-3-quick-easy-and-canonical" class="anchor" aria-label="Permalink: Option 3: Quick, Easy and Canonical" href="#option-3-quick-easy-and-canonical"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">We have included a utility which will generate a <code>buildifier_prebuilt_register_toolchains</code>
declaration with the appropriate SHA256 values. If you execute it without any arguments, it will
use the latest release of <code>buildtools</code>. Just copy and paste the declaration into your <code>WORKSPACE</code>
file.</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="# Generate the declaration for the latest
$ bazel run //tools:generate_assets_declaration
load(&quot;@buildifier_prebuilt//:defs.bzl&quot;, &quot;buildifier_prebuilt_register_toolchains&quot;, &quot;buildtools_assets&quot;)

buildifier_prebuilt_register_toolchains(
    assets = buildtools_assets(
        version = &quot;4.2.5&quot;,
        names = [&quot;buildifier&quot;, &quot;buildozer&quot;],
        platforms = [&quot;darwin&quot;, &quot;linux&quot;],
        arches = [&quot;amd64&quot;, &quot;arm64&quot;],
        sha256_values = {
            &quot;buildifier_darwin_amd64&quot;: &quot;757f246040aceb2c9550d02ef5d1f22d3ef1ff53405fe76ef4c6239ef1ea2cc1&quot;,
            &quot;buildifier_darwin_arm64&quot;: &quot;4cf02e051f6cda18765935cb6e77cc938cf8b405064589a50fe9582f82c7edaf&quot;,
            &quot;buildifier_linux_amd64&quot;: &quot;f94e71b22925aff76ce01a49e1c6c6d31f521bbbccff047b81f2ea01fd01a945&quot;,
            &quot;buildifier_linux_arm64&quot;: &quot;2113d79e45efb51e2b3013c8737cb66cadae3fd89bd7e820438cb06201e50874&quot;,
            &quot;buildozer_darwin_amd64&quot;: &quot;3fe671620e6cb7d2386f9da09c1de8de88b02b9dd9275cdecd8b9e417f74df1b&quot;,
            &quot;buildozer_darwin_arm64&quot;: &quot;ff4d297023fe3e0fd14113c78f04cef55289ca5bfe5e45a916be738b948dc743&quot;,
            &quot;buildozer_linux_amd64&quot;: &quot;e8e39b71c52318a9030dd9fcb9bbfd968d0e03e59268c60b489e6e6fc1595d7b&quot;,
            &quot;buildozer_linux_arm64&quot;: &quot;96227142969540def1d23a9e8225524173390d23f3d7fd56ce9c4436953f02fc&quot;,
        },
    ),
)"><pre><span class="pl-c"><span class="pl-c">#</span> Generate the declaration for the latest</span>
$ bazel run //tools:generate_assets_declaration
load(<span class="pl-s"><span class="pl-pds">"</span>@buildifier_prebuilt//:defs.bzl<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>buildifier_prebuilt_register_toolchains<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>buildtools_assets<span class="pl-pds">"</span></span>)

buildifier_prebuilt_register_toolchains(
    assets = buildtools_assets(
        version = <span class="pl-s"><span class="pl-pds">"</span>4.2.5<span class="pl-pds">"</span></span>,
        names = [<span class="pl-s"><span class="pl-pds">"</span>buildifier<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>buildozer<span class="pl-pds">"</span></span>],
        platforms = [<span class="pl-s"><span class="pl-pds">"</span>darwin<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>linux<span class="pl-pds">"</span></span>],
        arches = [<span class="pl-s"><span class="pl-pds">"</span>amd64<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>arm64<span class="pl-pds">"</span></span>],
        sha256_values = {
            <span class="pl-s"><span class="pl-pds">"</span>buildifier_darwin_amd64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>757f246040aceb2c9550d02ef5d1f22d3ef1ff53405fe76ef4c6239ef1ea2cc1<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>buildifier_darwin_arm64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>4cf02e051f6cda18765935cb6e77cc938cf8b405064589a50fe9582f82c7edaf<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>buildifier_linux_amd64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>f94e71b22925aff76ce01a49e1c6c6d31f521bbbccff047b81f2ea01fd01a945<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>buildifier_linux_arm64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2113d79e45efb51e2b3013c8737cb66cadae3fd89bd7e820438cb06201e50874<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>buildozer_darwin_amd64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>3fe671620e6cb7d2386f9da09c1de8de88b02b9dd9275cdecd8b9e417f74df1b<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>buildozer_darwin_arm64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>ff4d297023fe3e0fd14113c78f04cef55289ca5bfe5e45a916be738b948dc743<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>buildozer_linux_amd64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>e8e39b71c52318a9030dd9fcb9bbfd968d0e03e59268c60b489e6e6fc1595d7b<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>buildozer_linux_arm64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>96227142969540def1d23a9e8225524173390d23f3d7fd56ce9c4436953f02fc<span class="pl-pds">"</span></span>,
        },
    ),
)</pre></div>
<p dir="auto">You may also specify a specific version of <code>buildtools</code> by adding it to the end of the command.</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="# Generate the declaration for version 4.2.3
$ bazel run //tools:generate_assets_declaration -- 4.2.3
load(&quot;@buildifier_prebuilt//:defs.bzl&quot;, &quot;buildifier_prebuilt_register_toolchains&quot;, &quot;buildtools_assets&quot;)

buildifier_prebuilt_register_toolchains(
    assets = buildtools_assets(
        version = &quot;4.2.3&quot;,
        names = [&quot;buildifier&quot;, &quot;buildozer&quot;],
        platforms = [&quot;darwin&quot;, &quot;linux&quot;],
        arches = [&quot;amd64&quot;, &quot;arm64&quot;],
        sha256_values = {
            &quot;buildifier_darwin_amd64&quot;: &quot;954ec397089344b1564e45dc095e9331e121eb0f20e72032fcc8e94de78e5663&quot;,
            &quot;buildifier_darwin_arm64&quot;: &quot;9434043897a3c3821fda87046918e5a6c4320d8352df700f62046744c4d168a3&quot;,
            &quot;buildifier_linux_amd64&quot;: &quot;a19126536bae9a3917a7fc4bdbbf0378371a1d1683ab2415857cf53bce9dee49&quot;,
            &quot;buildifier_linux_arm64&quot;: &quot;39bd9d01d3638902a1e4cef353048ed160f0575f5df1bef175bd7637386d183c&quot;,
            &quot;buildozer_darwin_amd64&quot;: &quot;edcabae1d97bdc42559d7d1d65dfe7f8970db8d95d4bc9e7bf6656a9f2fb5592&quot;,
            &quot;buildozer_darwin_arm64&quot;: &quot;f8d0994620dec1247328f13db1d434b6489dd007f8e9b961dbd9363bc6fe7071&quot;,
            &quot;buildozer_linux_amd64&quot;: &quot;6b4177321b770fb788b618caa453d34561b8c05081ae8b27657e527c2a3b5d52&quot;,
            &quot;buildozer_linux_arm64&quot;: &quot;edfa964b283352ffd7503faca503de8f06dfcd1c7c96a6737e9452167e93c687&quot;,
        },
    ),
)"><pre><span class="pl-c"><span class="pl-c">#</span> Generate the declaration for version 4.2.3</span>
$ bazel run //tools:generate_assets_declaration -- 4.2.3
load(<span class="pl-s"><span class="pl-pds">"</span>@buildifier_prebuilt//:defs.bzl<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>buildifier_prebuilt_register_toolchains<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>buildtools_assets<span class="pl-pds">"</span></span>)

buildifier_prebuilt_register_toolchains(
    assets = buildtools_assets(
        version = <span class="pl-s"><span class="pl-pds">"</span>4.2.3<span class="pl-pds">"</span></span>,
        names = [<span class="pl-s"><span class="pl-pds">"</span>buildifier<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>buildozer<span class="pl-pds">"</span></span>],
        platforms = [<span class="pl-s"><span class="pl-pds">"</span>darwin<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>linux<span class="pl-pds">"</span></span>],
        arches = [<span class="pl-s"><span class="pl-pds">"</span>amd64<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>arm64<span class="pl-pds">"</span></span>],
        sha256_values = {
            <span class="pl-s"><span class="pl-pds">"</span>buildifier_darwin_amd64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>954ec397089344b1564e45dc095e9331e121eb0f20e72032fcc8e94de78e5663<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>buildifier_darwin_arm64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>9434043897a3c3821fda87046918e5a6c4320d8352df700f62046744c4d168a3<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>buildifier_linux_amd64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>a19126536bae9a3917a7fc4bdbbf0378371a1d1683ab2415857cf53bce9dee49<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>buildifier_linux_arm64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>39bd9d01d3638902a1e4cef353048ed160f0575f5df1bef175bd7637386d183c<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>buildozer_darwin_amd64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>edcabae1d97bdc42559d7d1d65dfe7f8970db8d95d4bc9e7bf6656a9f2fb5592<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>buildozer_darwin_arm64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>f8d0994620dec1247328f13db1d434b6489dd007f8e9b961dbd9363bc6fe7071<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>buildozer_linux_amd64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>6b4177321b770fb788b618caa453d34561b8c05081ae8b27657e527c2a3b5d52<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>buildozer_linux_arm64<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>edfa964b283352ffd7503faca503de8f06dfcd1c7c96a6737e9452167e93c687<span class="pl-pds">"</span></span>,
        },
    ),
)</pre></div>
<p dir="auto">NOTE: The utility uses the <a href="https://cli.github.com/">GitHub CLI</a>. If you haven't already done so,
install it.</p>
</article></div>