<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">SimpleHTTP</h1><a id="user-content-simplehttp" class="anchor" aria-label="Permalink: SimpleHTTP" href="#simplehttp"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<hr>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="/simplehttp.svg"><img src="/simplehttp.svg" alt="SimpleHTTP Icon" title="SimpleHTTP" style="max-width: 100%;"></a></p>
<p dir="auto">A minimalistic HTTP server library, complying with basic HTTP/1.1 standards.</p>
<p dir="auto">This library is designed for basic internal HTTP servers, such as building a Meta API to access meta information internally.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Features</h3><a id="user-content-features" class="anchor" aria-label="Permalink: Features" href="#features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<hr>
<ul dir="auto">
<li>Basic HTTP header and query parameter parsing</li>
<li>Non-blocking event loop architecture for efficient connection handling</li>
<li>Support for chunked Transfer-Encoding</li>
<li>Dynamic body reading inside handler</li>
<li>TCP and Unix Socket support</li>
<li>No external dependencies</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Limitations</h3><a id="user-content-limitations" class="anchor" aria-label="Permalink: Limitations" href="#limitations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<hr>
<ul dir="auto">
<li>No TLS support</li>
<li>No compression</li>
<li>Limited feature set</li>
<li>Lacks advanced security measures</li>
<li>Linux kernel compatibility only</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Example</h3><a id="user-content-example" class="anchor" aria-label="Permalink: Example" href="#example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<hr>
<p dir="auto">Basic example of how to use the SimpleHTTP server:</p>
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="#include &quot;simplehttp/simplehttp.hpp&quot;

using namespace SimpleHTTP;

vector&lt;string&gt; list;

Server server();

server.Init(&quot;0.0.0.0&quot;, 8080);

server.Route(&quot;POST&quot;, &quot;/add&quot;, [&amp;](Request &amp;req, Body &amp;body, Response &amp;res) -&gt; Task&lt;bool&gt; {
  auto tokenHeader = req.getHeader(&quot;authorization&quot;);
  if (!tokenHeader || *tokenHeader!=TOKEN) {
    res
      .setStatusCode(401).setStatusReason(&quot;Unauthorized&quot;)
      .setContentType(&quot;text/plain&quot;).setBody(&quot;Invalid authorization token provided!\n&quot;);
    co_return true;
  }
  
  // Read all data from the body
  vector&lt;unsigned char&gt; data = co_await body.readAll();
  
  // Insert data into the list
  list.push_back(string(data.begin(), data.end()));

  res.setStatusCode(200).setStatusReason(&quot;OK&quot;);
  co_return true;
});

server.Route(&quot;GET&quot;, &quot;/get&quot;, [&amp;](Request &amp;req, Body &amp;body, Response &amp;res) -&gt; Task&lt;bool&gt; {
  try {
    auto indexParam = req.getQueryParam(&quot;index&quot;);
    if (!indexParam)
      throw runtime_error(&quot;No element index parameter was specified!&quot;);
    
    // Convert index string to integer
    int index = stoi(*req.getQueryParam(&quot;index&quot;));
      
    // Obtain object from vector
    string item = list.at(index);
      
    res
      .setStatusCode(200).setStatusReason(&quot;OK&quot;)
      .setContentType(&quot;text/plain&quot;).setBody(item+&quot;\n&quot;);
      
  } catch (exception &amp;_) {
    res
      .setStatusCode(404).setStatusReason(&quot;Not Found&quot;)
      .setContentType(&quot;text/plain&quot;).setBody(&quot;Element was not found!\n&quot;);
  }
  co_return true;
});

server.Serve();"><pre>#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">"</span>simplehttp/simplehttp.hpp<span class="pl-pds">"</span></span>

<span class="pl-k">using</span> <span class="pl-k">namespace</span> <span class="pl-en">SimpleHTTP</span><span class="pl-k">;</span>

vector&lt;string&gt; list;

Server <span class="pl-en">server</span>();

server.Init(<span class="pl-s"><span class="pl-pds">"</span>0.0.0.0<span class="pl-pds">"</span></span>, <span class="pl-c1">8080</span>);

server.Route(<span class="pl-s"><span class="pl-pds">"</span>POST<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>/add<span class="pl-pds">"</span></span>, [&amp;](Request &amp;req, Body &amp;body, Response &amp;res) -&gt; Task&lt;<span class="pl-k">bool</span>&gt; {
  <span class="pl-k">auto</span> tokenHeader = req.<span class="pl-c1">getHeader</span>(<span class="pl-s"><span class="pl-pds">"</span>authorization<span class="pl-pds">"</span></span>);
  <span class="pl-k">if</span> (!tokenHeader || *tokenHeader!=TOKEN) {
    res
      .<span class="pl-c1">setStatusCode</span>(<span class="pl-c1">401</span>).<span class="pl-c1">setStatusReason</span>(<span class="pl-s"><span class="pl-pds">"</span>Unauthorized<span class="pl-pds">"</span></span>)
      .<span class="pl-c1">setContentType</span>(<span class="pl-s"><span class="pl-pds">"</span>text/plain<span class="pl-pds">"</span></span>).<span class="pl-c1">setBody</span>(<span class="pl-s"><span class="pl-pds">"</span>Invalid authorization token provided!<span class="pl-cce">\n</span><span class="pl-pds">"</span></span>);
    <span class="pl-k">co_return</span> <span class="pl-c1">true</span>;
  }
  
  <span class="pl-c"><span class="pl-c">//</span> Read all data from the body</span>
  vector&lt;<span class="pl-k">unsigned</span> <span class="pl-k">char</span>&gt; data = <span class="pl-k">co_await</span> body.<span class="pl-c1">readAll</span>();
  
  <span class="pl-c"><span class="pl-c">//</span> Insert data into the list</span>
  list.<span class="pl-c1">push_back</span>(<span class="pl-c1">string</span>(data.<span class="pl-c1">begin</span>(), data.<span class="pl-c1">end</span>()));

  res.<span class="pl-c1">setStatusCode</span>(<span class="pl-c1">200</span>).<span class="pl-c1">setStatusReason</span>(<span class="pl-s"><span class="pl-pds">"</span>OK<span class="pl-pds">"</span></span>);
  <span class="pl-k">co_return</span> <span class="pl-c1">true</span>;
});

server.Route(<span class="pl-s"><span class="pl-pds">"</span>GET<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>/get<span class="pl-pds">"</span></span>, [&amp;](Request &amp;req, Body &amp;body, Response &amp;res) -&gt; Task&lt;<span class="pl-k">bool</span>&gt; {
  <span class="pl-k">try</span> {
    <span class="pl-k">auto</span> indexParam = req.<span class="pl-c1">getQueryParam</span>(<span class="pl-s"><span class="pl-pds">"</span>index<span class="pl-pds">"</span></span>);
    <span class="pl-k">if</span> (!indexParam)
      <span class="pl-k">throw</span> <span class="pl-smi">runtime_error</span>(<span class="pl-s"><span class="pl-pds">"</span>No element index parameter was specified!<span class="pl-pds">"</span></span>);
    
    <span class="pl-c"><span class="pl-c">//</span> Convert index string to integer</span>
    <span class="pl-k">int</span> index = <span class="pl-c1">stoi</span>(*req.<span class="pl-c1">getQueryParam</span>(<span class="pl-s"><span class="pl-pds">"</span>index<span class="pl-pds">"</span></span>));
      
    <span class="pl-c"><span class="pl-c">//</span> Obtain object from vector</span>
    string item = list.<span class="pl-c1">at</span>(index);
      
    res
      .<span class="pl-c1">setStatusCode</span>(<span class="pl-c1">200</span>).<span class="pl-c1">setStatusReason</span>(<span class="pl-s"><span class="pl-pds">"</span>OK<span class="pl-pds">"</span></span>)
      .<span class="pl-c1">setContentType</span>(<span class="pl-s"><span class="pl-pds">"</span>text/plain<span class="pl-pds">"</span></span>).<span class="pl-c1">setBody</span>(item+<span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>);
      
  } <span class="pl-k">catch</span> (exception &amp;_) {
    res
      .<span class="pl-c1">setStatusCode</span>(<span class="pl-c1">404</span>).<span class="pl-c1">setStatusReason</span>(<span class="pl-s"><span class="pl-pds">"</span>Not Found<span class="pl-pds">"</span></span>)
      .<span class="pl-c1">setContentType</span>(<span class="pl-s"><span class="pl-pds">"</span>text/plain<span class="pl-pds">"</span></span>).<span class="pl-c1">setBody</span>(<span class="pl-s"><span class="pl-pds">"</span>Element was not found!<span class="pl-cce">\n</span><span class="pl-pds">"</span></span>);
  }
  <span class="pl-k">co_return</span> <span class="pl-c1">true</span>;
});

server.Serve();</pre></div>
<p dir="auto">You can also find more examples in the <code>example</code> directory.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Compatibility</h3><a id="user-content-compatibility" class="anchor" aria-label="Permalink: Compatibility" href="#compatibility"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<hr>
<p dir="auto">Including the SimpleHTTP header, requires compiling with <code>C++20</code> standard or above.</p>
<p dir="auto">You can enable it in your Bazel build file by adding a flag to the <code>copts</code>:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cc_binary(
    ...
    copts = [&quot;-std=c++20&quot;],
    ...
)"><pre class="notranslate"><code>cc_binary(
    ...
    copts = ["-std=c++20"],
    ...
)
</code></pre></div>
<p dir="auto">Also ensure that the std lib used supports <code>&lt;format&gt;</code> and <code>&lt;coroutine&gt;</code> headers. At least those versions are required:</p>
<ul dir="auto">
<li>GCC libstdc++ 13.1</li>
<li>Clang libc++ 15.0</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Development</h3><a id="user-content-development" class="anchor" aria-label="Permalink: Development" href="#development"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<hr>
<p dir="auto">In SimpleHTTP everything happens on the <code>main</code> branch.
If you work on a PR which takes more then 2 commits, create a feature branch and squash merge it.</p>
<p dir="auto">All library relevant code is located in the single header file <code>simplehttp/simplehttp.hpp</code>.</p>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">Concept</h4><a id="user-content-concept" class="anchor" aria-label="Permalink: Concept" href="#concept"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="/flowchart.png"><img src="/flowchart.png" alt="simplehttp flowchart" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">Examples</h4><a id="user-content-examples" class="anchor" aria-label="Permalink: Examples" href="#examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">In the <code>example</code> directory you will find some examples for the use of the library, with corresponding bazel build rules.</p>
<p dir="auto">You can also use the examples for testing the application during development.</p>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">Tests</h4><a id="user-content-tests" class="anchor" aria-label="Permalink: Tests" href="#tests"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">In the <code>test</code> directory you will find simple end-to-end tests which are used for automated testing.</p>
<p dir="auto">Tests are performed with the bazel test runner inside a sandboxed environment.</p>
<p dir="auto">All tests are based on the <code>libcurl</code> http client library.</p>
<p dir="auto">Due to the simplicity of SimpleHTTP, there are no unit tests.</p>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">Naming/Structural concept</h4><a id="user-content-namingstructural-concept" class="anchor" aria-label="Permalink: Naming/Structural concept" href="#namingstructural-concept"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>Naming concept</strong></p>
<p dir="auto">The following name concept is used:</p>
<ul dir="auto">
<li>Variables = camelCase</li>
<li>Functions = PascalCase</li>
<li>Classes   = PascalCase</li>
</ul>
<p dir="auto">Other types are named according to common sense</p>
<p dir="auto"><em>Exception</em>: Filedescriptor ("fd") may always be written in snake case (e.g. getfd()) because "Fd" looks damn ugly.</p>
<p dir="auto"><strong>Structural concept</strong></p>
<p dir="auto">For clarity, code is split up into namespaces:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Namespace</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>SimpleHTTP</strong></td>
<td>Base namespace, containing code used by the library user</td>
</tr>
<tr>
<td><strong>SimpleHTTP::internal</strong></td>
<td>Internal namespace, containing internal code used from the eventloop</td>
</tr>
<tr>
<td><strong>SimpleHTTP::internal::helper</strong></td>
<td>Helper namespace, containing helper functions and classes</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">Another important concept used is the abstraction of the <strong>Request, Body, Response</strong> objects.</p>
<p dir="auto">These objects essentially use two abstract interfaces, an internal interface (e.g. RequestInternal) used by the
simplehttp event loop, and an external interface (e.g. Request) that is used by the library user within the defined coroutine.</p>
<p dir="auto">Both interfaces are inherited by an implementation class (e.g. RequestImpl), which overrides the virtual members.</p>
<p dir="auto">The reason for this concept/pattern is to hide the internal members of the objects from the library user.</p>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">Code-Completion</h4><a id="user-content-code-completion" class="anchor" aria-label="Permalink: Code-Completion" href="#code-completion"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">For code-completion and documentation, I recommend using <em>clangd</em>.
To generate the <em>compile_commands.json</em> file there are various options, I recommend to use this tool:</p>
<p dir="auto"><a href="https://github.com/kiron1/bazel-compile-commands">bazel-compile-commands</a></p>
<p dir="auto"><a href="https://github.com/kiron1/bazel-compile-commands/releases">bazel-compile-commands releases</a></p>
<p dir="auto">With the following command:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="bazel-compile-commands -R c++14=c++23 -R -fno-canonical-system-headers=&quot;&quot;"><pre>bazel-compile-commands -R c++14=c++23 -R -fno-canonical-system-headers=<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span></pre></div>
</article></div>