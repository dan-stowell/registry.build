<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Gazebo Fuel Tools: Classes and tools for interacting with Gazebo Fuel</h1><a id="user-content-gazebo-fuel-tools-classes-and-tools-for-interacting-with-gazebo-fuel" class="anchor" aria-label="Permalink: Gazebo Fuel Tools: Classes and tools for interacting with Gazebo Fuel" href="#gazebo-fuel-tools-classes-and-tools-for-interacting-with-gazebo-fuel"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>Maintainer:</strong> nate AT openrobotics DOT org</p>
<p dir="auto"><a href="https://github.com/gazebosim/gz-fuel-tools/issues"><img src="https://camo.githubusercontent.com/8a59bb959b78ee981ec6dcfb928012dc19d2054daae75e316223396c4c6cb058/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6973737565732d7261772f67617a65626f73696d2f677a2d6675656c2d746f6f6c732e737667" alt="GitHub open issues" data-canonical-src="https://img.shields.io/github/issues-raw/gazebosim/gz-fuel-tools.svg" style="max-width: 100%;"></a>
<a href="https://github.com/gazebosim/gz-fuel-tools/pulls"><img src="https://camo.githubusercontent.com/3b3ba1da75624f1d8c6a709fa64150b82c99e8706f1c682e8491eaf3b9e75962/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6973737565732d70722d7261772f67617a65626f73696d2f677a2d6675656c2d746f6f6c732e737667" alt="GitHub open pull requests" data-canonical-src="https://img.shields.io/github/issues-pr-raw/gazebosim/gz-fuel-tools.svg" style="max-width: 100%;"></a>
<a href="https://community.gazebosim.org" rel="nofollow"><img src="https://camo.githubusercontent.com/c1d6df1f0c966e9155251afa14d84ea13f442d77d8cc3d857611ec7553b55b58/68747470733a2f2f696d672e736869656c64732e696f2f646973636f757273652f68747470732f636f6d6d756e6974792e67617a65626f73696d2e6f72672f746f706963732e737667" alt="Discourse topics" data-canonical-src="https://img.shields.io/discourse/https/community.gazebosim.org/topics.svg" style="max-width: 100%;"></a>
<a href="https://www.apache.org/licenses/LICENSE-2.0" rel="nofollow"><img src="https://camo.githubusercontent.com/66983804d9ebbae354e7de8ea1881fb16d413dc0524f91529369a1862576ea56/68747470733a2f2f696d672e736869656c64732e696f2f686578706d2f6c2f706c75672e737667" alt="Hex.pm" data-canonical-src="https://img.shields.io/hexpm/l/plug.svg" style="max-width: 100%;"></a></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Build</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td>Test coverage</td>
<td><a href="https://codecov.io/gh/gazebosim/gz-fuel-tools/tree/gz-fuel-tools11" rel="nofollow"><img src="https://camo.githubusercontent.com/0b429e152268e3f6f16bd0cc0f235e32f62c61cea1ca7366f4b3ab73b9fb1883/68747470733a2f2f636f6465636f762e696f2f67682f67617a65626f73696d2f677a2d6675656c2d746f6f6c732f747265652f677a2d6675656c2d746f6f6c7331312f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/gazebosim/gz-fuel-tools/tree/gz-fuel-tools11/graph/badge.svg" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td>Ubuntu Noble</td>
<td><a href="https://build.osrfoundation.org/job/gz_fuel_tools-ci-gz-fuel-tools11-noble-amd64" rel="nofollow"><img src="https://camo.githubusercontent.com/1fd572615acabd21857da7f9ac47223c21b3e0006195ec2938db66b2d4ff5aef/68747470733a2f2f6275696c642e6f7372666f756e646174696f6e2e6f72672f6275696c645374617475732f69636f6e3f6a6f623d677a5f6675656c5f746f6f6c732d63692d677a2d6675656c2d746f6f6c7331312d6e6f626c652d616d643634" alt="Build Status" data-canonical-src="https://build.osrfoundation.org/buildStatus/icon?job=gz_fuel_tools-ci-gz-fuel-tools11-noble-amd64" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td>Homebrew</td>
<td><a href="https://build.osrfoundation.org/job/gz_fuel_tools-ci-gz-fuel-tools11-homebrew-amd64" rel="nofollow"><img src="https://camo.githubusercontent.com/31c91286afc9f43c81381158499c7638f990f83fc80953e9d6f1d244e6c903e9/68747470733a2f2f6275696c642e6f7372666f756e646174696f6e2e6f72672f6275696c645374617475732f69636f6e3f6a6f623d677a5f6675656c5f746f6f6c732d63692d677a2d6675656c2d746f6f6c7331312d686f6d65627265772d616d643634" alt="Build Status" data-canonical-src="https://build.osrfoundation.org/buildStatus/icon?job=gz_fuel_tools-ci-gz-fuel-tools11-homebrew-amd64" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td>Windows</td>
<td><a href="https://build.osrfoundation.org/job/gz_fuel_tools-11-cnlwin/" rel="nofollow"><img src="https://camo.githubusercontent.com/4e7326c7b9f356cabfd3ef0aed366f2888d9c34e498753011cab1b68a4e5eb32/68747470733a2f2f6275696c642e6f7372666f756e646174696f6e2e6f72672f6275696c645374617475732f69636f6e3f6a6f623d677a5f6675656c5f746f6f6c732d31312d636e6c77696e" alt="Build Status" data-canonical-src="https://build.osrfoundation.org/buildStatus/icon?job=gz_fuel_tools-11-cnlwin" style="max-width: 100%;"></a></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">Gazebo Fuel Tools is composed by a client library and command line tools for
interacting with Gazebo Fuel servers.</p>
<p dir="auto"><a href="http://github.com/gazebosim/gz-fuel-tools">http://github.com/gazebosim/gz-fuel-tools</a></p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Building and installing</h1><a id="user-content-building-and-installing" class="anchor" aria-label="Permalink: Building and installing" href="#building-and-installing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">See the <a href="https://gazebosim.org/api/fuel_tools/11/install.html" rel="nofollow">installation tutorial</a>.</p>
<p dir="auto">Make sure <code>GZ_CONFIG_PATH</code> is set to the right install location so that <code>gz fuel</code> will work.
Default is <code>/usr/local/share/gz</code>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Examples</h2><a id="user-content-examples" class="anchor" aria-label="Permalink: Examples" href="#examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">For a complete list of commands run <code>gz fuel -h</code> on the command line.</p>
<p dir="auto"><strong>List all models</strong></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="$ gz fuel list -t model -r | head
https://fuel.gazebosim.org/anonymous/test_model_595389531
https://fuel.gazebosim.org/anonymous/test_model_122023392
https://fuel.gazebosim.org/anonymous/test_model_429486665
https://fuel.gazebosim.org/anonymous/test_model_887243621
https://fuel.gazebosim.org/anonymous/test_model_084900530
https://fuel.gazebosim.org/anonymous/test_model_240061059
https://fuel.gazebosim.org/anonymous/test_model_464734097
https://fuel.gazebosim.org/anonymous/test_model_658598990
https://fuel.gazebosim.org/anonymous/test_model_834617935
https://fuel.gazebosim.org/anonymous/test_model_380348669"><pre>$ gz fuel list -t model -r <span class="pl-k">|</span> head
https://fuel.gazebosim.org/anonymous/test_model_595389531
https://fuel.gazebosim.org/anonymous/test_model_122023392
https://fuel.gazebosim.org/anonymous/test_model_429486665
https://fuel.gazebosim.org/anonymous/test_model_887243621
https://fuel.gazebosim.org/anonymous/test_model_084900530
https://fuel.gazebosim.org/anonymous/test_model_240061059
https://fuel.gazebosim.org/anonymous/test_model_464734097
https://fuel.gazebosim.org/anonymous/test_model_658598990
https://fuel.gazebosim.org/anonymous/test_model_834617935
https://fuel.gazebosim.org/anonymous/test_model_380348669</pre></div>
<p dir="auto"><strong>Download a model</strong></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="$ gz fuel download -u https://fuel.gazebosim.org/1.0/OpenRobotics/models/Ambulance -v 4
Downloading model:
  Name: Ambulance
  Owner: openrobotics
  Server:
    URL: https://fuel.gazebosim.org
    Version: 1.0

Download succeeded."><pre>$ gz fuel download -u https://fuel.gazebosim.org/1.0/OpenRobotics/models/Ambulance -v 4
Downloading model:
  Name: Ambulance
  Owner: openrobotics
  Server:
    URL: https://fuel.gazebosim.org
    Version: 1.0

Download succeeded.</pre></div>
<p dir="auto"><strong>Private access tokens</strong>
Private models and worlds can be downloaded using access tokens.
Access tokens are generated on <code>app.gazebosim.org</code>. After logging in,
go to <code>Settings-&gt;Access Tokens</code>.</p>
<p dir="auto">An access token can be used with CLI commands via the <code>--header</code> option:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="$ gz fuel download -u https://fuel.gazebosim.org/1.0/openrobotics/models/ambulance --header 'Private-Token: &lt;access_token&gt;'"><pre>$ gz fuel download -u https://fuel.gazebosim.org/1.0/openrobotics/models/ambulance --header <span class="pl-s"><span class="pl-pds">'</span>Private-Token: &lt;access_token&gt;<span class="pl-pds">'</span></span></pre></div>
<p dir="auto">Or, an access token can be stored in a <code>~/.gz/fuel/config.yaml</code> file. The token is then
automatically used by the command line tool and API calls. Use the <code>configure</code> helper
tool create your <code>~/.gz/fuel/config.yaml</code> file.</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="$ gz fuel configure"><pre>$ gz fuel configure</pre></div>
<p dir="auto"><strong>C++ Get List models</strong></p>
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="  // Create a client (uses https://fuel.gazebosim.org by default)
  gz::fuel_tools::ClientConfig conf;
  gz::fuel_tools::FuelClient client(conf);
  gz::fuel_tools::ModelIter iter = client.Models();
  while (iter)
  {
    std::cout &lt;&lt; &quot;Got model: &quot; &lt;&lt; iter-&gt;Identification().Name() &lt;&lt; &quot;\n&quot;;
  }"><pre>  <span class="pl-c"><span class="pl-c">//</span> Create a client (uses https://fuel.gazebosim.org by default)</span>
  gz::fuel_tools::ClientConfig conf;
  gz::fuel_tools::FuelClient <span class="pl-en">client</span>(conf);
  gz::fuel_tools::ModelIter iter = client.Models();
  <span class="pl-k">while</span> (iter)
  {
    std::cout &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span>Got model: <span class="pl-pds">"</span></span> &lt;&lt; iter-&gt;<span class="pl-c1">Identification</span>().<span class="pl-c1">Name</span>() &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>;
  }</pre></div>
<p dir="auto"><strong>Upload a model</strong></p>
<p dir="auto">Create an account on
<a href="https://app.gazebosim.org/" rel="nofollow">https://app.gazebosim.org/</a> and log
in.</p>
<p dir="auto">Create a private token at
<a href="https://app.gazebosim.org/settings#access_tokens" rel="nofollow">https://app.gazebosim.org/settings#access_tokens</a>. Store the generated token someplace safe.</p>
<p dir="auto">The private token can then be used to upload a model:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="gz fuel upload -m ~/path_to_model --header 'Private-token: &lt;TOKEN&gt;'"><pre>gz fuel upload -m <span class="pl-k">~</span>/path_to_model --header <span class="pl-s"><span class="pl-pds">'</span>Private-token: &lt;TOKEN&gt;<span class="pl-pds">'</span></span></pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Dependencies</h2><a id="user-content-dependencies" class="anchor" aria-label="Permalink: Dependencies" href="#dependencies"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">On ubuntu run</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="sudo apt install ruby-ffi libzip-dev libcurl-dev libjsoncpp-dev"><pre>sudo apt install ruby-ffi libzip-dev libcurl-dev libjsoncpp-dev</pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Roadmap</h2><a id="user-content-roadmap" class="anchor" aria-label="Permalink: Roadmap" href="#roadmap"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>
<p dir="auto">Create the notion of "asset repository" or similar. An asset repository abstracts an entity that can store assets. It can be local or remote. This is the interface for "asset repository":</p>
<ul dir="auto">
<li>List(category).
E.g.: localRepository.List("models")
remote1Repository.List("models")</li>
<li>Details(assetIdentifier).
E.g.: ModelIdentifier model;
model.Owner("the_owner");
model.Name("the_name");
localRepository.Details(model)
remote1Repository.Details(model)</li>
<li>Create(assetIdentifier, path_to_the_asset).
E.g.: ModelIdentifier model;
model.Owner("the_owner");
model.Name("the_name");
localRepository.Create(model, path_to_the_asset)
remote1Repository.Create(model, path_to_the_asset)</li>
<li>Delete(assetIdentifier).
E.g.: ModelIdentifier model;
model.Owner("the_owner");
model.Name("the_name");
localRepository.Delete(model)
remote1Repository.Delete(model)</li>
<li>CopyTo(assetIdentifier, dst_repository).
E.g.: ModelIdentifier model;
model.Owner("the_owner");
model.Name("the_name");
localRepository.CopyTo(model, remote1Repository)
remote1Repository.CopyTo(model, localRepository)</li>
<li>"LocalRepository" and "RemoteRepository" should implement this interface.
(Most of the pieces are there, we just need to refactor the code a bit).</li>
</ul>
</li>
<li>
<p dir="auto">Think about how to detect when new versions of remote models have been uploaded.</p>
<ul dir="auto">
<li>Idea of a hash.</li>
</ul>
</li>
<li>
<p dir="auto">Add Gazebo Fuel command line utilities for:</p>
<ul dir="auto">
<li>detail</li>
<li>create</li>
<li>delete</li>
<li>copyTo</li>
</ul>
</li>
<li>
<p dir="auto">How to test the client library:</p>
<ul dir="auto">
<li>Directly against the real backend (staging?)</li>
<li>Clone, and compile a local backend?</li>
<li>Mocking the backend has the problem of not being in sync with the real backend and missing potential issues.</li>
</ul>
</li>
</ul>
</article></div>