<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto"><code>bazel_rules_detekt</code></h1><a id="user-content-bazel_rules_detekt" class="anchor" aria-label="Permalink: bazel_rules_detekt" href="#bazel_rules_detekt"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The <a href="https://github.com/detekt/detekt">Detekt</a> (a Kotlin static analysis tool) integration
for <a href="https://bazel.build" rel="nofollow">the Bazel build system</a>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Features</h2><a id="user-content-features" class="anchor" aria-label="Permalink: Features" href="#features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>configuration and baseline files;</li>
<li>HTML, text and XML reports;</li>
<li><a href="https://detekt.github.io/detekt/extensions.html" rel="nofollow">plugins</a>;</li>
<li>customizable Detekt version and JVM flags;</li>
<li><a href="https://blog.bazel.build/2015/12/10/java-workers.html" rel="nofollow">persistent workers</a> support;</li>
<li><a href="docs/rule.md">and more</a>.</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Usage</h2><a id="user-content-usage" class="anchor" aria-label="Permalink: Usage" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto"><code>MODULE.bazel</code> Configuration</h3><a id="user-content-modulebazel-configuration" class="anchor" aria-label="Permalink: MODULE.bazel Configuration" href="#modulebazel-configuration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="bazel_dep(name = &quot;rules_detekt&quot;, version = &quot;...&quot;)"><pre><span class="pl-en">bazel_dep</span>(<span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"rules_detekt"</span>, <span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"..."</span>)</pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto"><code>WORKSPACE</code> Configuration</h3><a id="user-content-workspace-configuration" class="anchor" aria-label="Permalink: WORKSPACE Configuration" href="#workspace-configuration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">First of all you need to declare the rule in the <code>WORKSPACE</code> file.
Please refer to <a href="https://github.com/buildfoundation/bazel_rules_detekt/releases">GitHub releases</a> for the version and
the SHA-256 hashsum.</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@bazel_tools//tools/build_defs/repo:http.bzl&quot;, &quot;http_archive&quot;)

rules_detekt_version = &quot;see-github-releases-page&quot;
rules_detekt_sha = &quot;see-github-releases-page&quot;

http_archive(
    name = &quot;rules_detekt&quot;,
    sha256 = rules_detekt_sha,
    strip_prefix = &quot;bazel_rules_detekt-{v}&quot;.format(v = rules_detekt_version),
    url = &quot;https://github.com/buildfoundation/bazel_rules_detekt/archive/v{v}.tar.gz&quot;.format(v = rules_detekt_version),
)

load(&quot;@rules_detekt//detekt:dependencies.bzl&quot;, &quot;rules_detekt_dependencies&quot;)
rules_detekt_dependencies()

load(&quot;@rules_detekt//detekt:toolchains.bzl&quot;, &quot;rules_detekt_toolchains&quot;)
rules_detekt_toolchains()"><pre><span class="pl-en">load</span>(<span class="pl-s">"@bazel_tools//tools/build_defs/repo:http.bzl"</span>, <span class="pl-s">"http_archive"</span>)

<span class="pl-s1">rules_detekt_version</span> <span class="pl-c1">=</span> <span class="pl-s">"see-github-releases-page"</span>
<span class="pl-s1">rules_detekt_sha</span> <span class="pl-c1">=</span> <span class="pl-s">"see-github-releases-page"</span>

<span class="pl-en">http_archive</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"rules_detekt"</span>,
    <span class="pl-s1">sha256</span> <span class="pl-c1">=</span> <span class="pl-s1">rules_detekt_sha</span>,
    <span class="pl-s1">strip_prefix</span> <span class="pl-c1">=</span> <span class="pl-s">"bazel_rules_detekt-{v}"</span>.<span class="pl-c1">format</span>(<span class="pl-s1">v</span> <span class="pl-c1">=</span> <span class="pl-s1">rules_detekt_version</span>),
    <span class="pl-s1">url</span> <span class="pl-c1">=</span> <span class="pl-s">"https://github.com/buildfoundation/bazel_rules_detekt/archive/v{v}.tar.gz"</span>.<span class="pl-c1">format</span>(<span class="pl-s1">v</span> <span class="pl-c1">=</span> <span class="pl-s1">rules_detekt_version</span>),
)

<span class="pl-en">load</span>(<span class="pl-s">"@rules_detekt//detekt:dependencies.bzl"</span>, <span class="pl-s">"rules_detekt_dependencies"</span>)
<span class="pl-en">rules_detekt_dependencies</span>()

<span class="pl-en">load</span>(<span class="pl-s">"@rules_detekt//detekt:toolchains.bzl"</span>, <span class="pl-s">"rules_detekt_toolchains"</span>)
<span class="pl-en">rules_detekt_toolchains</span>()</pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">bazelrc Configuration</h3><a id="user-content-bazelrc-configuration" class="anchor" aria-label="Permalink: bazelrc Configuration" href="#bazelrc-configuration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Users on Bazel releases prior to 5.1.0 need to enable the JSON Persistent Worker protocol in their <code>.bazelrc</code> like so:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="build --experimental_worker_allow_json_protocol"><pre>build --experimental_worker_allow_json_protocol</pre></div>
<p dir="auto">This option <a href="https://github.com/bazelbuild/bazel/commit/9e16a6484e94c358aa77a6ed7b1ded3243b65e8f">became stable</a>
and <a href="https://github.com/bazelbuild/bazel/commit/09df7c0a14b9bf13d4aa18f5a02b4651e626d5f4">enabled by default for newer Bazel releases</a>.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto"><code>BUILD</code> Configuration</h3><a id="user-content-build-configuration" class="anchor" aria-label="Permalink: BUILD Configuration" href="#build-configuration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Once declared in the <code>WORSKPACE</code> or <code>MODULE.bazel</code> file, the rule can be loaded in the <code>BUILD</code> file.</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@rules_detekt//detekt:defs.bzl&quot;, &quot;detekt_test&quot;)

detekt_test(
    name = &quot;my_detekt&quot;,
    srcs = glob([&quot;src/main/kotlin/**/*.kt&quot;]),
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@rules_detekt//detekt:defs.bzl"</span>, <span class="pl-s">"detekt_test"</span>)

<span class="pl-en">detekt_test</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"my_detekt"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> <span class="pl-en">glob</span>([<span class="pl-s">"src/main/kotlin/**/*.kt"</span>]),
)</pre></div>
<p dir="auto">See <a href="docs/rule.md">available attributes</a>.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Execution</h3><a id="user-content-execution" class="anchor" aria-label="Permalink: Execution" href="#execution"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-text-shell-session notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="$ bazel build //mypackage:my_detekt"><pre>$ <span class="pl-s1">bazel build //mypackage:my_detekt</span></pre></div>
<p dir="auto">Results will be cached on successful runs.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Advanced Configuration</h3><a id="user-content-advanced-configuration" class="anchor" aria-label="Permalink: Advanced Configuration" href="#advanced-configuration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">Detekt Version</h4><a id="user-content-detekt-version" class="anchor" aria-label="Permalink: Detekt Version" href="#detekt-version"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Change the <code>MODULE.bazel</code> file:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="detekt = use_extension(&quot;//detekt:extensions.bzl&quot;, &quot;detekt&quot;)
detekt.detekt_version(
    version = &quot;x.x.x&quot;,
    sha256 = &quot;x.x.x.sha256&quot;,
)
use_repo(detekt, &quot;detekt_cli_all&quot;)"><pre><span class="pl-s1">detekt</span> <span class="pl-c1">=</span> <span class="pl-en">use_extension</span>(<span class="pl-s">"//detekt:extensions.bzl"</span>, <span class="pl-s">"detekt"</span>)
<span class="pl-s1">detekt</span>.<span class="pl-c1">detekt_version</span>(
    <span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"x.x.x"</span>,
    <span class="pl-s1">sha256</span> <span class="pl-c1">=</span> <span class="pl-s">"x.x.x.sha256"</span>,
)
<span class="pl-en">use_repo</span>(<span class="pl-s1">detekt</span>, <span class="pl-s">"detekt_cli_all"</span>)</pre></div>
<p dir="auto">Or change the <code>WORKSPACE</code> file:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@rules_detekt//detekt:versions.bzl&quot;, &quot;detekt_version&quot;)
load(&quot;@rules_detekt//detekt:dependencies.bzl&quot;, &quot;rules_detekt_dependencies&quot;)

rules_detekt_dependencies(
    detekt_version = detekt_version(
        version = &quot;x.x.x&quot;,
        sha256 = &quot;x.x.x.sha256&quot;,
    )
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@rules_detekt//detekt:versions.bzl"</span>, <span class="pl-s">"detekt_version"</span>)
<span class="pl-en">load</span>(<span class="pl-s">"@rules_detekt//detekt:dependencies.bzl"</span>, <span class="pl-s">"rules_detekt_dependencies"</span>)

<span class="pl-en">rules_detekt_dependencies</span>(
    <span class="pl-s1">detekt_version</span> <span class="pl-c1">=</span> <span class="pl-en">detekt_version</span>(
        <span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"x.x.x"</span>,
        <span class="pl-s1">sha256</span> <span class="pl-c1">=</span> <span class="pl-s">"x.x.x.sha256"</span>,
    )
)</pre></div>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">JVM Flags</h4><a id="user-content-jvm-flags" class="anchor" aria-label="Permalink: JVM Flags" href="#jvm-flags"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Define a toolchain in a <code>BUILD</code> file:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@rules_detekt//detekt:toolchain.bzl&quot;, &quot;detekt_toolchain&quot;)

detekt_toolchain(
    name = &quot;my_detekt_toolchain_impl&quot;,
    jvm_flags = [&quot;-Xms16m&quot;, &quot;-Xmx128m&quot;],
)

toolchain(
    name = &quot;my_detekt_toolchain&quot;,
    toolchain = &quot;my_detekt_toolchain_impl&quot;,
    toolchain_type = &quot;@rules_detekt//detekt:toolchain_type&quot;,
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@rules_detekt//detekt:toolchain.bzl"</span>, <span class="pl-s">"detekt_toolchain"</span>)

<span class="pl-en">detekt_toolchain</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"my_detekt_toolchain_impl"</span>,
    <span class="pl-s1">jvm_flags</span> <span class="pl-c1">=</span> [<span class="pl-s">"-Xms16m"</span>, <span class="pl-s">"-Xmx128m"</span>],
)

<span class="pl-en">toolchain</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"my_detekt_toolchain"</span>,
    <span class="pl-s1">toolchain</span> <span class="pl-c1">=</span> <span class="pl-s">"my_detekt_toolchain_impl"</span>,
    <span class="pl-s1">toolchain_type</span> <span class="pl-c1">=</span> <span class="pl-s">"@rules_detekt//detekt:toolchain_type"</span>,
)</pre></div>
<p dir="auto">Change the <code>WORKSPACE</code> file:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@rules_detekt//detekt:toolchains.bzl&quot;, &quot;rules_detekt_toolchains&quot;)

rules_detekt_toolchains(toolchain = &quot;//mypackage:my_detekt_toolchain&quot;)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@rules_detekt//detekt:toolchains.bzl"</span>, <span class="pl-s">"rules_detekt_toolchains"</span>)

<span class="pl-en">rules_detekt_toolchains</span>(<span class="pl-s1">toolchain</span> <span class="pl-c1">=</span> <span class="pl-s">"//mypackage:my_detekt_toolchain"</span>)</pre></div>
</article></div>