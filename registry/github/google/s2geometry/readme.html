<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">S2 Geometry Library</h1><a id="user-content-s2-geometry-library" class="anchor" aria-label="Permalink: S2 Geometry Library" href="#s2-geometry-library"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Overview</h2><a id="user-content-overview" class="anchor" aria-label="Permalink: Overview" href="#overview"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This is a package for manipulating geometric shapes. Unlike many geometry
libraries, S2 is primarily designed to work with <em>spherical geometry</em>, i.e.,
shapes drawn on a sphere rather than on a planar 2D map. This makes it
especially suitable for working with geographic data.</p>
<p dir="auto">If you want to learn more about the library, start by reading the
<a href="http://s2geometry.io/about/overview" rel="nofollow">overview</a> and <a href="http://s2geometry.io/devguide/cpp/quickstart" rel="nofollow">quick start
document</a>, then read the
introduction to the <a href="http://s2geometry.io/devguide/basic_types" rel="nofollow">basic types</a>.</p>
<p dir="auto">S2 documentation can be found on <a href="http://s2geometry.io" rel="nofollow">s2geometry.io</a>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">API/ABI Stability</h2><a id="user-content-apiabi-stability" class="anchor" aria-label="Permalink: API/ABI Stability" href="#apiabi-stability"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Note that all <a href="https://github.com/google/s2geometry/releases">releases</a> are
version 0.x, so there are
<a href="https://semver.org/#spec-item-4" rel="nofollow">no API or ABI stability guarantees</a>. Starting
with 1.0 we will adhere to <a href="https://semver.org/" rel="nofollow">SemVer</a> and follow the
<a href="https://opensource.google/documentation/policies/library-breaking-change" rel="nofollow">Google OSS breaking change policy</a></p>
<p dir="auto">The Python API is particularly unstable, and it is planned that the SWIGged
API will be replaced by a pybind11 version with more Pythonic names and more
complete functionality.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Requirements for End Users using Bazel</h2><a id="user-content-requirements-for-end-users-using-bazel" class="anchor" aria-label="Permalink: Requirements for End Users using Bazel" href="#requirements-for-end-users-using-bazel"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Build</h2><a id="user-content-build" class="anchor" aria-label="Permalink: Build" href="#build"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This bazel build requires 7.0.0 â€“ bzlmod default. Builds were tested using
C++20 as set in .bazelrc. This setup relies on abseil-cpp, boringssl, and
googletest from the bazel central repository as set in MODULE.bazel.</p>
<p dir="auto">To build and test using bazel, from within s2geometry/src, run:</p>
<p dir="auto"><code>bazel test "//:*"</code></p>
<p dir="auto">To build the libary without testing, from within s2geometry/src, run:</p>
<p dir="auto"><code>bazel build //:s2</code></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Status</h2><a id="user-content-status" class="anchor" aria-label="Permalink: Status" href="#status"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">All tests enumerated in the BUILD.bazel file pass on x86 machines. On
Apple M1, s2loop_measures_test fails due to a 6% excess accumlated error.
This issue may require revision of boringssl or exactfloat.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Requirements for End Users using CMake</h2><a id="user-content-requirements-for-end-users-using-cmake" class="anchor" aria-label="Permalink: Requirements for End Users using CMake" href="#requirements-for-end-users-using-cmake"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>We aim to support all platforms supported by the
<a href="https://opensource.google/documentation/policies/cplusplus-support" rel="nofollow">Google foundational C++ support policy</a></li>
<li><a href="http://www.cmake.org/" rel="nofollow">CMake</a> &gt;= 3.5</li>
<li>A C++ compiler with C++17 support, such as
<a href="https://gcc.gnu.org/" rel="nofollow">g++ &gt;= 7.5</a> or
<a href="https://clang.llvm.org/" rel="nofollow">clang &gt;= 7.0.0</a></li>
<li><a href="https://github.com/abseil/abseil-cpp">Abseil</a> &gt;= LTS
<a href="https://github.com/abseil/abseil-cpp/releases/tag/20250512.1"><code>20250512</code></a>
(standard library extensions)</li>
<li><a href="https://github.com/openssl/openssl">OpenSSL</a> (for its bignum library)</li>
<li><a href="https://github.com/google/googletest">googletest testing framework &gt;= 1.10</a>
(to build tests and example programs, optional)</li>
</ul>
<p dir="auto">On Ubuntu, all of these other than abseil can be installed via apt-get:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="sudo apt-get install cmake googletest libssl-dev"><pre class="notranslate"><code>sudo apt-get install cmake googletest libssl-dev
</code></pre></div>
<p dir="auto">abseil-cpp may need to be installed from source if an LTS release is not
packaged for the platform.  See the use of <code>-DCMAKE_PREFIX_PATH</code> in the
<a href="#building">build instructions below</a>.</p>
<p dir="auto">On macOS, use <a href="http://www.macports.org/" rel="nofollow">MacPorts</a> or
<a href="http://brew.sh/" rel="nofollow">Homebrew</a>.  For MacPorts:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="sudo port install cmake abseil gtest openssl"><pre class="notranslate"><code>sudo port install cmake abseil gtest openssl
</code></pre></div>
<p dir="auto">then use</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cmake -DGOOGLETEST_ROOT=/opt/local/src -DCMAKE_PREFIX_PATH=/opt/local .."><pre class="notranslate"><code>cmake -DGOOGLETEST_ROOT=/opt/local/src -DCMAKE_PREFIX_PATH=/opt/local ..
</code></pre></div>
<p dir="auto">in the build instructions below.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Build and Install</h2><a id="user-content-build-and-install" class="anchor" aria-label="Permalink: Build and Install" href="#build-and-install"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">You may either download the source as a ZIP archive, or <a href="https://help.github.com/articles/cloning-a-repository/">clone the git
repository</a>.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Via ZIP archive</h3><a id="user-content-via-zip-archive" class="anchor" aria-label="Permalink: Via ZIP archive" href="#via-zip-archive"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Download <a href="https://github.com/google/s2geometry/archive/master.zip">ZIP file</a></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cd [parent of directory where you want to put S2]
unzip [path to ZIP file]/s2geometry-master.zip
cd s2geometry-master"><pre class="notranslate"><code>cd [parent of directory where you want to put S2]
unzip [path to ZIP file]/s2geometry-master.zip
cd s2geometry-master
</code></pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Via <code>git clone</code></h3><a id="user-content-via-git-clone" class="anchor" aria-label="Permalink: Via git clone" href="#via-git-clone"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cd [parent of directory where you want to put S2]
git clone https://github.com/google/s2geometry.git
cd s2geometry"><pre class="notranslate"><code>cd [parent of directory where you want to put S2]
git clone https://github.com/google/s2geometry.git
cd s2geometry
</code></pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Building</h3><a id="user-content-building" class="anchor" aria-label="Permalink: Building" href="#building"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">First, <a href="https://github.com/abseil/abseil-cpp/blob/master/CMake/README.md#traditional-cmake-set-up">install Abseil</a>.
It must be configured with <code>-DCMAKE_POSITION_INDEPENDENT_CODE=ON</code>.
s2geometry must be configured to use the same C++ version that
abseil uses.  The easiest way to achieve this is to pass
<code>-DCMAKE_CXX_STANDARD=17</code> to <code>cmake</code> when compiling both abseil and
s2geometry.</p>
<p dir="auto">From the appropriate directory depending on how you got the source:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="mkdir build
cd build
# You can omit -DGOOGLETEST_ROOT to skip tests; see above for macOS.
# Use the same CMAKE_CXX_STANDARD value that was used with absl.
cmake -DGOOGLETEST_ROOT=/usr/src/googletest -DCMAKE_PREFIX_PATH=/path/to/absl/install -DCMAKE_CXX_STANDARD=17 ..
make -j $(nproc)
make test ARGS=&quot;-j$(nproc)&quot;  # If GOOGLETEST_ROOT specified above.
sudo make install"><pre class="notranslate"><code>mkdir build
cd build
# You can omit -DGOOGLETEST_ROOT to skip tests; see above for macOS.
# Use the same CMAKE_CXX_STANDARD value that was used with absl.
cmake -DGOOGLETEST_ROOT=/usr/src/googletest -DCMAKE_PREFIX_PATH=/path/to/absl/install -DCMAKE_CXX_STANDARD=17 ..
make -j $(nproc)
make test ARGS="-j$(nproc)"  # If GOOGLETEST_ROOT specified above.
sudo make install
</code></pre></div>
<p dir="auto">On macOS, <code>sysctl -n hw.logicalcpu</code> is the equivalent of <code>nproc</code>.</p>
<p dir="auto">Disable building of shared libraries with <code>-DBUILD_SHARED_LIBS=OFF</code>.</p>
<p dir="auto">Enable the python interface with <code>-DWITH_PYTHON=ON</code>.</p>
<p dir="auto">If OpenSSL is installed in a non-standard location set <code>OPENSSL_ROOT_DIR</code>
before running configure, for example on macOS:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="OPENSSL_ROOT_DIR=/opt/homebrew/Cellar/openssl@3/3.1.0 cmake -DCMAKE_PREFIX_PATH=/opt/homebrew -DCMAKE_CXX_STANDARD=17"><pre class="notranslate"><code>OPENSSL_ROOT_DIR=/opt/homebrew/Cellar/openssl@3/3.1.0 cmake -DCMAKE_PREFIX_PATH=/opt/homebrew -DCMAKE_CXX_STANDARD=17
</code></pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Installing</h2><a id="user-content-installing" class="anchor" aria-label="Permalink: Installing" href="#installing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">From <code>build</code> subdirectory:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="make install"><pre class="notranslate"><code>make install
</code></pre></div>
<p dir="auto">Prefix it with <code>sudo</code> if needed:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="sudo make install"><pre class="notranslate"><code>sudo make install
</code></pre></div>
<p dir="auto"><em>NOTE</em>: There is not <code>uninstall</code> target but <code>install_manifest.txt</code> may be helpful.</p>
<p dir="auto">All files will be installed at location specified in <code>CMAKE_INSTALL_PREFIX</code> variable.</p>
<p dir="auto">Several suffix variables used for some file groups:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Variable</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CMAKE_INSTALL_INCLUDEDIR</code></td>
<td><code>include</code></td>
<td>For header files</td>
</tr>
<tr>
<td><code>CMAKE_INSTALL_BINDIR</code></td>
<td><code>bin</code></td>
<td>For executables and <code>*.dll</code> files on <code>DLL</code>-based platforms</td>
</tr>
<tr>
<td><code>CMAKE_INSTALL_LIBDIR</code></td>
<td><code>lib</code></td>
<td>For library files (<code>*.so</code>, <code>*.a</code>, <code>*.lib</code> etc)</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">If needed set this variables on command line as <code>cmake</code> arguments with <code>-D</code> prefix or edit from <code>build</code> subdirectory:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="make edit_cache"><pre class="notranslate"><code>make edit_cache
</code></pre></div>
<p dir="auto">For more info read: <a href="https://cmake.org/cmake/help/latest/guide/user-interaction/index.html#the-cmake-cache" rel="nofollow">The CMake Cache</a>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Python</h2><a id="user-content-python" class="anchor" aria-label="Permalink: Python" href="#python"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If you want the Python interface, you need to run cmake using
<code>-DWITH_PYTHON=ON</code>. You will also need to install the following dependencies:</p>
<ul dir="auto">
<li><a href="https://github.com/swig/swig">SWIG 4</a> (for Python support, optional)</li>
<li>python3-dev (for Python support, optional)</li>
</ul>
<p dir="auto">which can be installed via</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="sudo apt-get install swig python3-dev"><pre class="notranslate"><code>sudo apt-get install swig python3-dev
</code></pre></div>
<p dir="auto">or on macOS:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="sudo port install swig"><pre class="notranslate"><code>sudo port install swig
</code></pre></div>
<p dir="auto">Version 4.0 is required, but it should be easy to make it work 3.0 or probably
even 2.0.</p>
<p dir="auto">Python 3 is required.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Creating wheels</h3><a id="user-content-creating-wheels" class="anchor" aria-label="Permalink: Creating wheels" href="#creating-wheels"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">First, make a virtual environment and install <code>build</code> into it:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="python3 -m venv venv
source venv/bin/activate
pip install build"><pre class="notranslate"><code>python3 -m venv venv
source venv/bin/activate
pip install build
</code></pre></div>
<p dir="auto">Then build the wheel:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="python -m build"><pre class="notranslate"><code>python -m build
</code></pre></div>
<p dir="auto">The resulting wheel will be in the <code>dist</code> directory.</p>
<blockquote>
<p dir="auto">If OpenSSL is in a non-standard location make sure to set <code>OPENSSL_ROOT_DIR</code>;
see above for more information.</p>
</blockquote>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Other S2 implementations</h2><a id="user-content-other-s2-implementations" class="anchor" aria-label="Permalink: Other S2 implementations" href="#other-s2-implementations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="https://github.com/golang/geo">Go</a> (Approximately 40% complete.)</li>
<li><a href="https://github.com/google/s2-geometry-library-java">Java</a></li>
<li><a href="https://github.com/Enovea/s2-geometry-kotlin">Kotlin</a> (Complete except binary serialization)</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Disclaimer</h2><a id="user-content-disclaimer" class="anchor" aria-label="Permalink: Disclaimer" href="#disclaimer"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This is not an official Google product.</p>
</article></div>