<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">libgit2 - the Git linkable library</h1><a id="user-content-libgit2---the-git-linkable-library" class="anchor" aria-label="Permalink: libgit2 - the Git linkable library" href="#libgit2---the-git-linkable-library"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://www.bestpractices.dev/projects/9609" rel="nofollow"><img src="https://camo.githubusercontent.com/ae6a47f26708648840c48246652285d03c20b556edc4a525bf353af29b2c90cc/68747470733a2f2f7777772e626573747072616374696365732e6465762f70726f6a656374732f393630392f6261646765" alt="OpenSSF Best Practices" data-canonical-src="https://www.bestpractices.dev/projects/9609/badge" style="max-width: 100%;"></a></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Build Status</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>main</strong> branch builds</td>
<td><a href="https://github.com/libgit2/libgit2/actions/workflows/main.yml?query=event%3Apush+branch%3Amain"><img src="https://github.com/libgit2/libgit2/actions/workflows/main.yml/badge.svg?branch=main&amp;event=push" alt="CI Build" style="max-width: 100%;"></a> <a href="https://github.com/libgit2/libgit2/actions/workflows/experimental.yml?query=event%3Apush+branch%3Amain"><img src="https://github.com/libgit2/libgit2/actions/workflows/experimental.yml/badge.svg?branch=main" alt="Experimental Features" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td><strong>v1.9 branch</strong> builds</td>
<td><a href="https://github.com/libgit2/libgit2/actions/workflows/main.yml?query=event%3Apush+branch%3Amaint%2Fv1.9"><img src="https://github.com/libgit2/libgit2/actions/workflows/main.yml/badge.svg?branch=maint%2Fv1.9&amp;event=push" alt="CI Build" style="max-width: 100%;"></a> <a href="https://github.com/libgit2/libgit2/actions/workflows/experimental.yml?query=event%3Apush+branch%3Amaint%2Fv1.9"><img src="https://github.com/libgit2/libgit2/actions/workflows/experimental.yml/badge.svg?branch=maint%2Fv1.9" alt="Experimental Features" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td><strong>v1.8 branch</strong> builds</td>
<td><a href="https://github.com/libgit2/libgit2/actions/workflows/main.yml?query=event%3Apush+branch%3Amaint%2Fv1.8"><img src="https://github.com/libgit2/libgit2/actions/workflows/main.yml/badge.svg?branch=maint%2Fv1.8&amp;event=push" alt="CI Build" style="max-width: 100%;"></a> <a href="https://github.com/libgit2/libgit2/actions/workflows/experimental.yml?query=event%3Apush+branch%3Amaint%2Fv1.8"><img src="https://github.com/libgit2/libgit2/actions/workflows/experimental.yml/badge.svg?branch=maint%2Fv1.8" alt="Experimental Features" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td><strong>Nightly</strong> builds</td>
<td><a href="https://github.com/libgit2/libgit2/actions/workflows/nightly.yml"><img src="https://github.com/libgit2/libgit2/actions/workflows/nightly.yml/badge.svg?branch=main&amp;event=schedule" alt="Nightly Build" style="max-width: 100%;"></a> <a href="https://scan.coverity.com/projects/639" rel="nofollow"><img src="https://camo.githubusercontent.com/adad569e21e1c35915877df2c28b2b2e11d72d87f97e171253e13af277d981df/68747470733a2f2f7363616e2e636f7665726974792e636f6d2f70726f6a656374732f3633392f62616467652e737667" alt="Coverity Scan Status" data-canonical-src="https://scan.coverity.com/projects/639/badge.svg" style="max-width: 100%;"></a></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><code>libgit2</code> is a portable, pure C implementation of the Git core methods
provided as a linkable library with a solid API, allowing to build Git
functionality into your application.</p>
<p dir="auto"><code>libgit2</code> is used in a variety of places, from GUI clients to hosting
providers ("forges") and countless utilities and applications in
between. Because it's written in C, it can be made available to any
other programming language through "bindings", so you can use it in
<a href="https://github.com/libgit2/rugged">Ruby</a>,
<a href="https://github.com/libgit2/libgit2sharp">.NET</a>,
<a href="http://www.pygit2.org/" rel="nofollow">Python</a>,
<a href="http://nodegit.org" rel="nofollow">Node.js</a>,
<a href="https://github.com/rust-lang/git2-rs">Rust</a>, and more.</p>
<p dir="auto"><code>libgit2</code> is licensed under a <strong>very permissive license</strong> (GPLv2 with
a special Linking Exception). This means that you can link against
the library with any kind of software without making that software
fall under the GPL. Changes to libgit2 would still be covered under
its GPL license.</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Table of Contents</h1><a id="user-content-table-of-contents" class="anchor" aria-label="Permalink: Table of Contents" href="#table-of-contents"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="#using-libgit2">Using libgit2</a></li>
<li><a href="#quick-start">Quick Start</a></li>
<li><a href="#getting-help">Getting Help</a></li>
<li><a href="#what-it-can-do">What It Can Do</a></li>
<li><a href="#optional-dependencies">Optional dependencies</a></li>
<li><a href="#initialization">Initialization</a></li>
<li><a href="#threading">Threading</a></li>
<li><a href="#conventions">Conventions</a></li>
<li><a href="#building-libgit2---using-cmake">Building libgit2 - Using CMake</a>
<ul dir="auto">
<li><a href="#building">Building</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#advanced-usage">Advanced Usage</a></li>
<li><a href="#compiler-and-linker-options">Compiler and linker options</a></li>
<li><a href="#macos">macOS</a></li>
<li><a href="#ios">iOS</a></li>
<li><a href="#android">Android</a></li>
<li><a href="#mingw">MinGW</a></li>
</ul>
</li>
<li><a href="#language-bindings">Language Bindings</a></li>
<li><a href="#how-can-i-contribute">How Can I Contribute?</a></li>
<li><a href="#license">License</a></li>
</ul>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Using libgit2</h1><a id="user-content-using-libgit2" class="anchor" aria-label="Permalink: Using libgit2" href="#using-libgit2"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Most of these instructions assume that you're writing an application
in C and want to use libgit2 directly.  If you're <em>not</em> using C,
and you're writing in a different language or platform like .NET,
Node.js, or Ruby, then there is probably a
"<a href="#language-bindings">language binding</a>" that you can use to take care
of the messy tasks of calling into native code.</p>
<p dir="auto">But if you <em>do</em> want to use libgit2 directly - because you're building
an application in C - then you may be able use an existing binary.
There are packages for the
<a href="https://github.com/Microsoft/vcpkg">vcpkg</a> and
<a href="https://conan.io/center/recipes/libgit2" rel="nofollow">conan</a>
package managers.  And libgit2 is available in
<a href="https://formulae.brew.sh/formula/libgit2" rel="nofollow">Homebrew</a> and most Linux
distributions.</p>
<p dir="auto">However, these versions <em>may</em> be outdated and we recommend using the
latest version if possible.  Thankfully libgit2 is not hard to compile.</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Quick Start</h1><a id="user-content-quick-start" class="anchor" aria-label="Permalink: Quick Start" href="#quick-start"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>Prerequisites</strong> for building libgit2:</p>
<ol dir="auto">
<li><a href="https://cmake.org/" rel="nofollow">CMake</a>, and is recommended to be installed into
your <code>PATH</code>.</li>
<li><a href="https://www.python.org" rel="nofollow">Python</a> is used by our test framework, and
should be installed into your <code>PATH</code>.</li>
<li>C compiler: libgit2 is C90 and should compile on most compilers.
<ul dir="auto">
<li>Windows: Visual Studio is recommended</li>
<li>Mac: Xcode is recommended</li>
<li>Unix: gcc or clang is recommended.</li>
</ul>
</li>
</ol>
<p dir="auto"><strong>Build</strong></p>
<ol dir="auto">
<li>Create a build directory beneath the libgit2 source directory,
and change into it: <code>mkdir build &amp;&amp; cd build</code></li>
<li>Create the cmake build environment: <code>cmake ..</code></li>
<li>Build libgit2: <code>cmake --build .</code></li>
</ol>
<p dir="auto">Trouble with these steps?  Read our <a href="docs/troubleshooting.md">troubleshooting guide</a>.
More detailed build guidance is available below.</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Getting Help</h1><a id="user-content-getting-help" class="anchor" aria-label="Permalink: Getting Help" href="#getting-help"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>Chat with us</strong></p>
<ul dir="auto">
<li>via IRC: join <a href="https://web.libera.chat/#libgit2" rel="nofollow">#libgit2</a> on
<a href="https://libera.chat" rel="nofollow">libera</a>.</li>
<li>via Slack: visit <a href="http://slack.libgit2.org/" rel="nofollow">slack.libgit2.org</a>
to sign up, then join us in <code>#libgit2</code></li>
</ul>
<p dir="auto"><strong>Getting Help</strong></p>
<p dir="auto">If you have questions about the library, please be sure to check out the
<a href="https://libgit2.org/libgit2/" rel="nofollow">API documentation</a>.  If you still have
questions, reach out to us on Slack or post a question on
<a href="http://stackoverflow.com/questions/tagged/libgit2" rel="nofollow">StackOverflow</a>
(with the <code>libgit2</code> tag).</p>
<p dir="auto"><strong>Reporting Bugs</strong></p>
<p dir="auto">Please open a <a href="https://github.com/libgit2/libgit2/issues">GitHub Issue</a>
and include as much information as possible.  If possible, provide
sample code that illustrates the problem you're seeing.  If you're
seeing a bug only on a specific repository, please provide a link to
it if possible.</p>
<p dir="auto">We ask that you not open a GitHub Issue for help, only for bug reports.</p>
<p dir="auto"><strong>Reporting Security Issues</strong></p>
<p dir="auto">Please have a look at SECURITY.md.</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">What It Can Do</h1><a id="user-content-what-it-can-do" class="anchor" aria-label="Permalink: What It Can Do" href="#what-it-can-do"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">libgit2 provides you with the ability to manage Git repositories in the
programming language of your choice.  It's used in production to power many
applications including GitHub.com, Plastic SCM and Azure DevOps.</p>
<p dir="auto">It does not aim to replace the git tool or its user-facing commands. Some
APIs resemble the plumbing commands as those align closely with the
concepts of the Git system, but most commands a user would type are out
of scope for this library to implement directly.</p>
<p dir="auto">The library provides:</p>
<ul dir="auto">
<li>SHA conversions, formatting and shortening</li>
<li>abstracted ODB backend system</li>
<li>commit, tag, tree and blob parsing, editing, and write-back</li>
<li>tree traversal</li>
<li>revision walking</li>
<li>index file (staging area) manipulation</li>
<li>reference management (including packed references)</li>
<li>config file management</li>
<li>high level repository management</li>
<li>thread safety and reentrancy</li>
<li>descriptive and detailed error messages</li>
<li>...and more (over 175 different API calls)</li>
</ul>
<p dir="auto">As libgit2 is purely a consumer of the Git system, we have to
adjust to changes made upstream. This has two major consequences:</p>
<ul dir="auto">
<li>Some changes may require us to change provided interfaces. While
we try to implement functions in a generic way so that no future
changes are required, we cannot promise a completely stable API.</li>
<li>As we have to keep up with changes in behavior made upstream, we
may lag behind in some areas. We usually to document these
incompatibilities in our issue tracker with the label "git change".</li>
</ul>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Optional dependencies</h1><a id="user-content-optional-dependencies" class="anchor" aria-label="Permalink: Optional dependencies" href="#optional-dependencies"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">While the library provides git functionality with very few
dependencies, some recommended dependencies are used for performance
or complete functionality.</p>
<ul dir="auto">
<li>Hash generation: Git uses SHA1DC (collision detecting SHA1) for
its default hash generation. SHA256 support is experimental, and
optimized support is provided by system libraries on macOS and
Windows, or by the HTTPS library on Unix systems when available.</li>
<li>Threading: is provided by the system libraries on Windows, and
pthreads on Unix systems.</li>
<li>HTTPS: is provided by the system libraries on macOS and Windows,
or by OpenSSL or mbedTLS on other Unix systems.</li>
<li>SSH: is provided by <a href="https://libssh2.org/" rel="nofollow">libssh2</a> or by invoking
<a href="https://www.openssh.com" rel="nofollow">OpenSSH</a>.</li>
<li>Unicode: is provided by the system libraries on Windows and macOS.</li>
</ul>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Initialization</h1><a id="user-content-initialization" class="anchor" aria-label="Permalink: Initialization" href="#initialization"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The library needs to keep track of some global state. Call</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="git_libgit2_init();"><pre class="notranslate"><code>git_libgit2_init();
</code></pre></div>
<p dir="auto">before calling any other libgit2 functions. You can call this function many times. A matching number of calls to</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="git_libgit2_shutdown();"><pre class="notranslate"><code>git_libgit2_shutdown();
</code></pre></div>
<p dir="auto">will free the resources.  Note that if you have worker threads, you should
call <code>git_libgit2_shutdown</code> <em>after</em> those threads have exited.  If you
require assistance coordinating this, simply have the worker threads call
<code>git_libgit2_init</code> at startup and <code>git_libgit2_shutdown</code> at shutdown.</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Threading</h1><a id="user-content-threading" class="anchor" aria-label="Permalink: Threading" href="#threading"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">See <a href="docs/threading.md">threading</a> for information</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Conventions</h1><a id="user-content-conventions" class="anchor" aria-label="Permalink: Conventions" href="#conventions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">See <a href="docs/conventions.md">conventions</a> for an overview of the external
and internal API/coding conventions we use.</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Building libgit2 - Using CMake</h1><a id="user-content-building-libgit2---using-cmake" class="anchor" aria-label="Permalink: Building libgit2 - Using CMake" href="#building-libgit2---using-cmake"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Building</h2><a id="user-content-building" class="anchor" aria-label="Permalink: Building" href="#building"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><code>libgit2</code> builds cleanly on most platforms without any external
dependencies as a requirement. <code>libgit2</code> is built using
<a href="https://cmake.org/" rel="nofollow">CMake</a> (version 2.8 or newer) on all platforms.</p>
<p dir="auto">On most systems you can build the library using the following commands</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ mkdir build &amp;&amp; cd build
$ cmake ..
$ cmake --build ."><pre class="notranslate"><code>$ mkdir build &amp;&amp; cd build
$ cmake ..
$ cmake --build .
</code></pre></div>
<p dir="auto">To include the examples in the build, use <code>cmake -DBUILD_EXAMPLES=ON ..</code>
instead of <code>cmake ..</code>. The built executable for the examples can then
be found in <code>build/examples</code>, relative to the toplevel directory.</p>
<p dir="auto">Alternatively you can point the CMake GUI tool to the CMakeLists.txt file and generate platform specific build project or IDE workspace.</p>
<p dir="auto">If you're not familiar with CMake, <a href="https://preshing.com/20170511/how-to-build-a-cmake-based-project/" rel="nofollow">a more detailed explanation</a> may be helpful.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Advanced Options</h2><a id="user-content-advanced-options" class="anchor" aria-label="Permalink: Advanced Options" href="#advanced-options"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">You can specify a number of options to <code>cmake</code> that will change the
way <code>libgit2</code> is built. To use this, specify <code>-Doption=value</code> during
the initial <code>cmake</code> configuration. For example, to enable SHA256
compatibility:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ mkdir build &amp;&amp; cd build
$ cmake -DEXPERIMENTAL_SHA256=ON ..
$ cmake --build ."><pre class="notranslate"><code>$ mkdir build &amp;&amp; cd build
$ cmake -DEXPERIMENTAL_SHA256=ON ..
$ cmake --build .
</code></pre></div>
<p dir="auto">libgit2 options:</p>
<ul dir="auto">
<li><code>EXPERIMENTAL_SHA256=ON</code>: turns on SHA256 compatibility; note that
this is an API-incompatible change, hence why it is labeled
"experimental"</li>
</ul>
<p dir="auto">Build options:</p>
<ul dir="auto">
<li><code>BUILD_EXAMPLES=ON</code>: builds the suite of example code</li>
<li><code>BUILD_FUZZERS=ON</code>: builds the fuzzing suite</li>
<li><code>ENABLE_WERROR=ON</code>: build with <code>-Werror</code> or the equivalent, which turns
compiler warnings into errors in the libgit2 codebase (but not its
dependencies)</li>
</ul>
<p dir="auto">Dependency options:</p>
<ul dir="auto">
<li><code>USE_SSH=type</code>: enables SSH support and optionally selects the provider;
<code>type</code> can be set to <code>libssh2</code> or <code>exec</code> (which will execute an external
OpenSSH command). <code>ON</code> implies <code>libssh2</code>; defaults to <code>OFF</code>.</li>
<li><code>USE_HTTPS=type</code>: enables HTTPS support and optionally selects the
provider; <code>type</code> can be set to <code>OpenSSL</code>, <code>OpenSSL-Dynamic</code> (to not
link against OpenSSL, but load it dynamically), <code>SecureTransport</code>,
<code>Schannel</code> or <code>WinHTTP</code>; the default is <code>SecureTransport</code> on macOS,
<code>WinHTTP</code> on Windows, and whichever of <code>OpenSSL</code> or <code>mbedTLS</code> is
detected on other platforms. Defaults to <code>ON</code>.</li>
<li><code>USE_SHA1=type</code>: selects the SHA1 mechanism to use; <code>type</code> can be set
to <code>CollisionDetection</code>, <code>HTTPS</code> to use the system or HTTPS provider,
or one of <code>OpenSSL</code>, <code>OpenSSL-Dynamic</code>, <code>OpenSSL-FIPS</code> (to use FIPS
compliant routines in OpenSSL), <code>CommonCrypto</code>, or <code>Schannel</code>.
Defaults to <code>CollisionDetection</code>. This option is retained for
backward compatibility and should not be changed.</li>
<li><code>USE_SHA256=type</code>: selects the SHA256 mechanism to use; <code>type</code> can be
set to <code>HTTPS</code> to use the system or HTTPS driver, <code>builtin</code>, or one of
<code>OpenSSL</code>, <code>OpenSSL-Dynamic</code>, <code>OpenSSL-FIPS</code> (to use FIPS compliant
routines in OpenSSL), <code>CommonCrypto</code>, or <code>Schannel</code>. Defaults to <code>HTTPS</code>.</li>
<li><code>USE_GSSAPI=&lt;on/off&gt;</code>: enables GSSAPI for SPNEGO authentication on
Unix. Defaults to <code>OFF</code>.</li>
<li><code>USE_HTTP_PARSER=type</code>: selects the HTTP Parser; either <code>http-parser</code>
for an external
<a href="https://github.com/nodejs/http-parser"><code>http-parser</code></a> dependency,
<code>llhttp</code> for an external <a href="https://github.com/nodejs/llhttp"><code>llhttp</code></a>
dependency, or <code>builtin</code>. Defaults to <code>builtin</code>.</li>
<li><code>REGEX_BACKEND=type</code>: selects the regular expression backend to use;
one of <code>regcomp_l</code>, <code>pcre2</code>, <code>pcre</code>, <code>regcomp</code>, or <code>builtin</code>. The
default is to use <code>regcomp_l</code> where available, PCRE if found, otherwise,
to use the builtin.</li>
<li><code>USE_BUNDLED_ZLIB=type</code>: selects the bundled zlib; either <code>ON</code> or <code>OFF</code>.
Defaults to using the system zlib if available, falling back to the
bundled zlib.</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Locating Dependencies</h2><a id="user-content-locating-dependencies" class="anchor" aria-label="Permalink: Locating Dependencies" href="#locating-dependencies"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The <code>libgit2</code> project uses <code>cmake</code> since it helps with cross-platform
projects, especially those with many dependencies. If your dependencies
are in non-standard places, you may want to use the <code>_ROOT_DIR</code> options
to specify their location. For example, to specify an OpenSSL location:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ cmake -DOPENSSL_ROOT_DIR=/tmp/openssl-3.3.2 .."><pre class="notranslate"><code>$ cmake -DOPENSSL_ROOT_DIR=/tmp/openssl-3.3.2 ..
</code></pre></div>
<p dir="auto">Since these options are general to CMake, their
<a href="https://cmake.org/documentation/" rel="nofollow">documentation</a> may be helpful. If
you have questions about dependencies, please <a href="#getting-help">contact us</a>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Running Tests</h2><a id="user-content-running-tests" class="anchor" aria-label="Permalink: Running Tests" href="#running-tests"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Once built, you can run the tests from the <code>build</code> directory with the command</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ ctest -V"><pre class="notranslate"><code>$ ctest -V
</code></pre></div>
<p dir="auto">Alternatively you can run the test suite directly using,</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ ./libgit2_tests"><pre class="notranslate"><code>$ ./libgit2_tests
</code></pre></div>
<p dir="auto">Invoking the test suite directly is useful because it allows you to execute
individual tests, or groups of tests using the <code>-s</code> flag.  For example, to
run the index tests:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ ./libgit2_tests -sindex"><pre class="notranslate"><code>$ ./libgit2_tests -sindex
</code></pre></div>
<p dir="auto">To run a single test named <code>index::racy::diff</code>, which corresponds to
the test function
<a href="https://github.com/libgit2/libgit2/blob/main/tests/index/racy.c#L23"><code>test_index_racy__diff</code></a>:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ ./libgit2_tests -sindex::racy::diff"><pre class="notranslate"><code>$ ./libgit2_tests -sindex::racy::diff
</code></pre></div>
<p dir="auto">The test suite will print a <code>.</code> for every passing test, and an <code>F</code> for any
failing test.  An <code>S</code> indicates that a test was skipped because it is not
applicable to your platform or is particularly expensive.</p>
<p dir="auto"><strong>Note:</strong> There should be <em>no</em> failing tests when you build an unmodified
source tree from a <a href="https://github.com/libgit2/libgit2/releases">release</a>,
or from the <a href="https://github.com/libgit2/libgit2/tree/main">main branch</a>.
Please contact us or
<a href="https://github.com/libgit2/libgit2/issues">open an issue</a>
if you see test failures.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Installation</h2><a id="user-content-installation" class="anchor" aria-label="Permalink: Installation" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">To install the library you can specify the install prefix by setting:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ cmake .. -DCMAKE_INSTALL_PREFIX=/install/prefix
$ cmake --build . --target install"><pre class="notranslate"><code>$ cmake .. -DCMAKE_INSTALL_PREFIX=/install/prefix
$ cmake --build . --target install
</code></pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Advanced Usage</h2><a id="user-content-advanced-usage" class="anchor" aria-label="Permalink: Advanced Usage" href="#advanced-usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">For more advanced use or questions about CMake please read the
<a href="https://cmake.org/Wiki/CMake_FAQ" rel="nofollow">CMake FAQ</a>.</p>
<p dir="auto">The following CMake variables are declared:</p>
<ul dir="auto">
<li><code>CMAKE_INSTALL_BINDIR</code>: Where to install binaries to.</li>
<li><code>CMAKE_INSTALL_LIBDIR</code>: Where to install libraries to.</li>
<li><code>CMAKE_INSTALL_INCLUDEDIR</code>: Where to install headers to.</li>
<li><code>BUILD_SHARED_LIBS</code>: Build libgit2 as a Shared Library (defaults to ON)</li>
<li><code>BUILD_TESTS</code>: Build the unit and integration test suites (defaults to ON)</li>
<li><code>USE_THREADS</code>: Build libgit2 with threading support (defaults to ON)</li>
</ul>
<p dir="auto">To list all build options and their current value, you can do the
following:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="# Create and set up a build directory
$ mkdir build &amp;&amp; cd build
$ cmake ..

# List all build options and their values
$ cmake -L"><pre class="notranslate"><code># Create and set up a build directory
$ mkdir build &amp;&amp; cd build
$ cmake ..

# List all build options and their values
$ cmake -L
</code></pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Compiler and linker options</h2><a id="user-content-compiler-and-linker-options" class="anchor" aria-label="Permalink: Compiler and linker options" href="#compiler-and-linker-options"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">There are several options that control the behavior of the compiler and
linker. These flags may be useful for cross-compilation or specialized
setups.</p>
<ul dir="auto">
<li><code>CMAKE_C_FLAGS</code>: Set your own compiler flags</li>
<li><code>CMAKE_C_STANDARD</code>: the C standard to compile against; defaults to <code>C90</code></li>
<li><code>CMAKE_C_EXTENSIONS</code>: whether compiler extensions are supported; defaults to <code>OFF</code></li>
<li><code>CMAKE_FIND_ROOT_PATH</code>: Override the search path for libraries</li>
<li><code>ZLIB_LIBRARY</code>, <code>OPENSSL_SSL_LIBRARY</code> AND <code>OPENSSL_CRYPTO_LIBRARY</code>:
Tell CMake where to find those specific libraries</li>
<li><code>LINK_WITH_STATIC_LIBRARIES</code>: Link only with static versions of
system libraries</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">macOS</h2><a id="user-content-macos" class="anchor" aria-label="Permalink: macOS" href="#macos"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If you'd like to work with Xcode, you can generate an Xcode project with "-G Xcode".</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="# Create and set up a build directory
$ mkdir build &amp;&amp; cd build
$ cmake -G Xcode .."><pre class="notranslate"><code># Create and set up a build directory
$ mkdir build &amp;&amp; cd build
$ cmake -G Xcode ..
</code></pre></div>
<div class="markdown-alert markdown-alert-tip" dir="auto"><p class="markdown-alert-title" dir="auto"><svg class="octicon octicon-light-bulb mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</p><p dir="auto">Universal binary support:</p>
<p dir="auto">If you want to build a universal binary for macOS 11.0+, CMake sets it
all up for you if you use <code>-DCMAKE_OSX_ARCHITECTURES="x86_64;arm64"</code>
when configuring.</p>
<p dir="auto">[Deprecated] If you want to build a universal binary for Mac OS X
(10.4.4 ~ 10.6), CMake sets it all up for you if you use
<code>-DCMAKE_OSX_ARCHITECTURES="i386;x86_64"</code> when configuring.</p>
</div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">iOS</h2><a id="user-content-ios" class="anchor" aria-label="Permalink: iOS" href="#ios"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ol dir="auto">
<li>Get an iOS cmake toolchain File:</li>
</ol>
<p dir="auto">You can use a pre-existing toolchain file like <a href="https://github.com/leetal/ios-cmake">ios-cmake</a> or write your own.</p>
<ol start="2" dir="auto">
<li>Specify the toolchain and system Name:</li>
</ol>
<ul dir="auto">
<li>The CMAKE_TOOLCHAIN_FILE variable points to the toolchain file for iOS.</li>
<li>The CMAKE_SYSTEM_NAME should be set to iOS.</li>
</ul>
<ol start="3" dir="auto">
<li>Example Command:</li>
</ol>
<p dir="auto">Assuming you're using the ios-cmake toolchain, the command might look like this:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cmake -G Xcode -DCMAKE_TOOLCHAIN_FILE=path/to/ios.toolchain.cmake -DCMAKE_SYSTEM_NAME=iOS -DPLATFORM=OS64 .."><pre class="notranslate"><code>cmake -G Xcode -DCMAKE_TOOLCHAIN_FILE=path/to/ios.toolchain.cmake -DCMAKE_SYSTEM_NAME=iOS -DPLATFORM=OS64 ..
</code></pre></div>
<ol start="4" dir="auto">
<li>Build the Project:</li>
</ol>
<p dir="auto">After generating the project, open the .xcodeproj file in Xcode, select your iOS device or simulator as the target, and build your project.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Android</h2><a id="user-content-android" class="anchor" aria-label="Permalink: Android" href="#android"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Extract toolchain from NDK using, <code>make-standalone-toolchain.sh</code> script.
Optionally, crosscompile and install OpenSSL inside of it. Then create CMake
toolchain file that configures paths to your crosscompiler (substitute <code>{PATH}</code>
with full path to the toolchain):</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="SET(CMAKE_SYSTEM_NAME Linux)
SET(CMAKE_SYSTEM_VERSION Android)

SET(CMAKE_C_COMPILER   {PATH}/bin/arm-linux-androideabi-gcc)
SET(CMAKE_CXX_COMPILER {PATH}/bin/arm-linux-androideabi-g++)
SET(CMAKE_FIND_ROOT_PATH {PATH}/sysroot/)

SET(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
SET(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
SET(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)"><pre class="notranslate"><code>SET(CMAKE_SYSTEM_NAME Linux)
SET(CMAKE_SYSTEM_VERSION Android)

SET(CMAKE_C_COMPILER   {PATH}/bin/arm-linux-androideabi-gcc)
SET(CMAKE_CXX_COMPILER {PATH}/bin/arm-linux-androideabi-g++)
SET(CMAKE_FIND_ROOT_PATH {PATH}/sysroot/)

SET(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
SET(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
SET(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
</code></pre></div>
<p dir="auto">Add <code>-DCMAKE_TOOLCHAIN_FILE={pathToToolchainFile}</code> to cmake command
when configuring.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">MinGW</h2><a id="user-content-mingw" class="anchor" aria-label="Permalink: MinGW" href="#mingw"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If you want to build the library in MinGW environment with SSH support
enabled, you may need to pass
<code>-DCMAKE_LIBRARY_PATH="${MINGW_PREFIX}/${MINGW_CHOST}/lib/"</code> flag
to CMake when configuring. This is because CMake cannot find the
Win32 libraries in MinGW folders by default and you might see an
error message stating that CMake could not resolve <code>ws2_32</code> library
during configuration.</p>
<p dir="auto">Another option would be to install <code>msys2-w32api-runtime</code> package before
configuring. This package installs the Win32 libraries into <code>/usr/lib</code>
folder which is by default recognized as the library path by CMake.
Please note though that this package is meant for MSYS subsystem which
is different from MinGW.</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Language Bindings</h1><a id="user-content-language-bindings" class="anchor" aria-label="Permalink: Language Bindings" href="#language-bindings"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Here are the bindings to libgit2 that are currently available:</p>
<ul dir="auto">
<li>C++
<ul dir="auto">
<li>libqgit2, Qt bindings <a href="https://projects.kde.org/projects/playground/libs/libqgit2/repository/" rel="nofollow">https://projects.kde.org/projects/playground/libs/libqgit2/repository/</a></li>
</ul>
</li>
<li>Chicken Scheme
<ul dir="auto">
<li>chicken-git <a href="https://wiki.call-cc.org/egg/git" rel="nofollow">https://wiki.call-cc.org/egg/git</a></li>
</ul>
</li>
<li>D
<ul dir="auto">
<li>dlibgit <a href="https://github.com/s-ludwig/dlibgit">https://github.com/s-ludwig/dlibgit</a></li>
</ul>
</li>
<li>Delphi
<ul dir="auto">
<li>GitForDelphi <a href="https://github.com/libgit2/GitForDelphi">https://github.com/libgit2/GitForDelphi</a></li>
<li>libgit2-delphi <a href="https://github.com/todaysoftware/libgit2-delphi">https://github.com/todaysoftware/libgit2-delphi</a></li>
</ul>
</li>
<li>Erlang
<ul dir="auto">
<li>Geef <a href="https://github.com/carlosmn/geef">https://github.com/carlosmn/geef</a></li>
</ul>
</li>
<li>Go
<ul dir="auto">
<li>git2go <a href="https://github.com/libgit2/git2go">https://github.com/libgit2/git2go</a></li>
</ul>
</li>
<li>GObject
<ul dir="auto">
<li>libgit2-glib <a href="https://wiki.gnome.org/Projects/Libgit2-glib" rel="nofollow">https://wiki.gnome.org/Projects/Libgit2-glib</a></li>
</ul>
</li>
<li>Guile
<ul dir="auto">
<li>Guile-Git <a href="https://gitlab.com/guile-git/guile-git" rel="nofollow">https://gitlab.com/guile-git/guile-git</a></li>
</ul>
</li>
<li>Haskell
<ul dir="auto">
<li>hgit2 <a href="https://github.com/jwiegley/gitlib">https://github.com/jwiegley/gitlib</a></li>
</ul>
</li>
<li>Java
<ul dir="auto">
<li>Jagged <a href="https://github.com/ethomson/jagged">https://github.com/ethomson/jagged</a></li>
<li>Git24j <a href="https://github.com/git24j/git24j">https://github.com/git24j/git24j</a></li>
</ul>
</li>
<li>Javascript / WebAssembly ( browser and nodejs )
<ul dir="auto">
<li>WASM-git <a href="https://github.com/petersalomonsen/wasm-git">https://github.com/petersalomonsen/wasm-git</a></li>
</ul>
</li>
<li>Julia
<ul dir="auto">
<li>LibGit2.jl <a href="https://github.com/JuliaLang/julia/tree/master/stdlib/LibGit2">https://github.com/JuliaLang/julia/tree/master/stdlib/LibGit2</a></li>
</ul>
</li>
<li>Lua
<ul dir="auto">
<li>luagit2 <a href="https://github.com/libgit2/luagit2">https://github.com/libgit2/luagit2</a></li>
</ul>
</li>
<li>.NET
<ul dir="auto">
<li>libgit2sharp <a href="https://github.com/libgit2/libgit2sharp">https://github.com/libgit2/libgit2sharp</a></li>
</ul>
</li>
<li>Node.js
<ul dir="auto">
<li>nodegit <a href="https://github.com/nodegit/nodegit">https://github.com/nodegit/nodegit</a></li>
</ul>
</li>
<li>Objective-C
<ul dir="auto">
<li>objective-git <a href="https://github.com/libgit2/objective-git">https://github.com/libgit2/objective-git</a></li>
</ul>
</li>
<li>OCaml
<ul dir="auto">
<li>ocaml-libgit2 <a href="https://github.com/fxfactorial/ocaml-libgit2">https://github.com/fxfactorial/ocaml-libgit2</a></li>
</ul>
</li>
<li>Parrot Virtual Machine
<ul dir="auto">
<li>parrot-libgit2 <a href="https://github.com/letolabs/parrot-libgit2">https://github.com/letolabs/parrot-libgit2</a></li>
</ul>
</li>
<li>Perl
<ul dir="auto">
<li>Git-Raw <a href="https://github.com/jacquesg/p5-Git-Raw">https://github.com/jacquesg/p5-Git-Raw</a></li>
</ul>
</li>
<li>Pharo Smalltalk
<ul dir="auto">
<li>libgit2-pharo-bindings <a href="https://github.com/pharo-vcs/libgit2-pharo-bindings">https://github.com/pharo-vcs/libgit2-pharo-bindings</a></li>
</ul>
</li>
<li>PHP
<ul dir="auto">
<li>php-git2 <a href="https://github.com/RogerGee/php-git2">https://github.com/RogerGee/php-git2</a></li>
</ul>
</li>
<li>Python
<ul dir="auto">
<li>pygit2 <a href="https://github.com/libgit2/pygit2">https://github.com/libgit2/pygit2</a></li>
</ul>
</li>
<li>R
<ul dir="auto">
<li>gert <a href="https://docs.ropensci.org/gert" rel="nofollow">https://docs.ropensci.org/gert</a></li>
<li>git2r <a href="https://github.com/ropensci/git2r">https://github.com/ropensci/git2r</a></li>
</ul>
</li>
<li>Ruby
<ul dir="auto">
<li>Rugged <a href="https://github.com/libgit2/rugged">https://github.com/libgit2/rugged</a></li>
</ul>
</li>
<li>Rust
<ul dir="auto">
<li>git2-rs <a href="https://github.com/rust-lang/git2-rs">https://github.com/rust-lang/git2-rs</a></li>
</ul>
</li>
<li>Swift
<ul dir="auto">
<li>SwiftGit2 <a href="https://github.com/SwiftGit2/SwiftGit2">https://github.com/SwiftGit2/SwiftGit2</a></li>
</ul>
</li>
<li>Tcl
<ul dir="auto">
<li>lg2 <a href="https://github.com/apnadkarni/tcl-libgit2">https://github.com/apnadkarni/tcl-libgit2</a></li>
</ul>
</li>
<li>Vala
<ul dir="auto">
<li>libgit2.vapi <a href="https://github.com/apmasell/vapis/blob/master/libgit2.vapi">https://github.com/apmasell/vapis/blob/master/libgit2.vapi</a></li>
</ul>
</li>
</ul>
<p dir="auto">If you start another language binding to libgit2, please let us know so
we can add it to the list.</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">How Can I Contribute?</h1><a id="user-content-how-can-i-contribute" class="anchor" aria-label="Permalink: How Can I Contribute?" href="#how-can-i-contribute"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">We welcome new contributors!  We have a number of issues marked as
<a href="https://github.com/libgit2/libgit2/issues?q=is%3Aissue+is%3Aopen+label%3A%22up+for+grabs%22">"up for grabs"</a>
and
<a href="https://github.com/libgit2/libgit2/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+is%3Aopen+label%3A%22easy+fix%22">"easy fix"</a>
that are good places to jump in and get started.  There's much more detailed
information in our list of <a href="docs/projects.md">outstanding projects</a>.</p>
<p dir="auto">Please be sure to check the <a href="docs/contributing.md">contribution guidelines</a>
to understand our workflow, and the libgit2
<a href="docs/conventions.md">coding conventions</a>.</p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">License</h1><a id="user-content-license" class="anchor" aria-label="Permalink: License" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><code>libgit2</code> is under GPL2 <strong>with linking exception</strong>. This means you can
link to and use the library from any program, proprietary or open source;
paid or gratis. However, if you modify libgit2 itself, you must distribute
the source to your modified version of libgit2.</p>
<p dir="auto">See the <a href="COPYING">COPYING file</a> for the full license text.</p>
</article></div>