<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">JavaScript and TypeScript rules for Bazel</h1><a id="user-content-javascript-and-typescript-rules-for-bazel" class="anchor" aria-label="Permalink: JavaScript and TypeScript rules for Bazel" href="#javascript-and-typescript-rules-for-bazel"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://circleci.com/gh/zenclabs/bazel-javascript/tree/master" rel="nofollow"><img src="https://camo.githubusercontent.com/60598c291d3165da9920d425ef5ba246965a67d09991e13f62b2762bb9f2ea7c/68747470733a2f2f636972636c6563692e636f6d2f67682f7a656e636c6162732f62617a656c2d6a6176617363726970742f747265652f6d61737465722e7376673f7374796c653d737667" alt="CircleCI" data-canonical-src="https://circleci.com/gh/zenclabs/bazel-javascript/tree/master.svg?style=svg" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto"><g-emoji class="g-emoji" alias="warning">⚠️</g-emoji> Looking for new maintainers</h1><a id="user-content-️-looking-for-new-maintainers" class="anchor" aria-label="Permalink: ⚠️ Looking for new maintainers" href="#️-looking-for-new-maintainers"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Rules</h2><a id="user-content-rules" class="anchor" aria-label="Permalink: Rules" href="#rules"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="#js_library">js_library</a></li>
<li><a href="#js_binary">web_bundle</a></li>
<li><a href="#js_binary">js_binary</a></li>
<li><a href="#ts_library">ts_library</a></li>
<li><a href="#js_script">js_script</a></li>
<li><a href="#js_test">js_test</a></li>
<li><a href="#npm_packages">npm_packages</a></li>
<li><a href="#npm_binary">npm_binary</a></li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Overview</h2><a id="user-content-overview" class="anchor" aria-label="Permalink: Overview" href="#overview"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If you're not already familiar with <a href="https://bazel.build" rel="nofollow">Bazel</a>, install it first.</p>
<p dir="auto">These rules allow you to set up a clean, modular and reusable build infrastructure for your JavaScript and TypeScript code.</p>
<p dir="auto">Read through an introduction <a href="https://docs.google.com/presentation/d/17fQw44C0tzyH8ywWMNmQ4Pvf4Q_pmsjfDYf2MyTKV5I/edit#slide=id.p" rel="nofollow">here</a>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Installation</h2><a id="user-content-installation" class="anchor" aria-label="Permalink: Installation" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">First, install <a href="https://docs.bazel.build/versions/master/install.html" rel="nofollow">Bazel</a> and <a href="https://yarnpkg.com/lang/en/docs/install" rel="nofollow">Yarn</a>.</p>
<p dir="auto">Next, create a <code>WORKSPACE</code> file in your project root containing:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="load(&quot;@bazel_tools//tools/build_defs/repo:git.bzl&quot;, &quot;git_repository&quot;)

# Required for access to js_library, ts_library, js_test, web_bundle, etc.
git_repository(
  name = &quot;bazel_javascript&quot;,
  remote = &quot;https://github.com/zenclabs/bazel-javascript.git&quot;,
  tag = &quot;0.0.28&quot;,
)

# Required for underlying dependencies such as Node and Yarn.
git_repository(
    name = &quot;build_bazel_rules_nodejs&quot;,
    remote = &quot;https://github.com/bazelbuild/rules_nodejs.git&quot;,
    tag = &quot;0.15.0&quot;,
)

load(&quot;@build_bazel_rules_nodejs//:package.bzl&quot;, &quot;rules_nodejs_dependencies&quot;)
rules_nodejs_dependencies()

load(&quot;@build_bazel_rules_nodejs//:defs.bzl&quot;, &quot;node_repositories&quot;)

# By default, the Node and Yarn versions you have installed locally will be
# ignored, and Bazel will install a separate version instead. This helps
# achieve consistency across teams.
#
# See https://github.com/bazelbuild/rules_nodejs if you'd like to use your
# local Node and Yarn binaries instead.
node_repositories(package_json = [])"><pre lang="python" class="notranslate"><code>load("@bazel_tools//tools/build_defs/repo:git.bzl", "git_repository")

# Required for access to js_library, ts_library, js_test, web_bundle, etc.
git_repository(
  name = "bazel_javascript",
  remote = "https://github.com/zenclabs/bazel-javascript.git",
  tag = "0.0.28",
)

# Required for underlying dependencies such as Node and Yarn.
git_repository(
    name = "build_bazel_rules_nodejs",
    remote = "https://github.com/bazelbuild/rules_nodejs.git",
    tag = "0.15.0",
)

load("@build_bazel_rules_nodejs//:package.bzl", "rules_nodejs_dependencies")
rules_nodejs_dependencies()

load("@build_bazel_rules_nodejs//:defs.bzl", "node_repositories")

# By default, the Node and Yarn versions you have installed locally will be
# ignored, and Bazel will install a separate version instead. This helps
# achieve consistency across teams.
#
# See https://github.com/bazelbuild/rules_nodejs if you'd like to use your
# local Node and Yarn binaries instead.
node_repositories(package_json = [])
</code></pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Basic example</h2><a id="user-content-basic-example" class="anchor" aria-label="Permalink: Basic example" href="#basic-example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Suppose you have the following directory structure:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="[workspace]/
  WORKSPACE
  BUILD.bazel
  package.json
  yarn.lock
  src/
    BUILD.bazel
    main.js
    util/
      BUILD.bazel
      constants.js"><pre class="notranslate"><code>[workspace]/
  WORKSPACE
  BUILD.bazel
  package.json
  yarn.lock
  src/
    BUILD.bazel
    main.js
    util/
      BUILD.bazel
      constants.js
</code></pre></div>
<p dir="auto"><code>package.json</code></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="{
  &quot;dependencies&quot;: {
    &quot;textbuilder&quot;: &quot;^1.0.3&quot;
  }
}"><pre lang="json" class="notranslate"><code>{
  "dependencies": {
    "textbuilder": "^1.0.3"
  }
}
</code></pre></div>
<p dir="auto"><code>BUILD.bazel</code></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="package(default_visibility = [&quot;//visibility:public&quot;])

load(&quot;@bazel_javascript//:defs.bzl&quot;, &quot;js_binary&quot;, &quot;npm_packages&quot;)

js_binary(
  name = &quot;app&quot;,
  lib = &quot;//src:main&quot;,
  entry = &quot;main.js&quot;,
)

npm_packages(
  name = &quot;packages&quot;,
  package_json = &quot;:package.json&quot;,
  yarn_lock = &quot;:yarn.lock&quot;,
)"><pre lang="python" class="notranslate"><code>package(default_visibility = ["//visibility:public"])

load("@bazel_javascript//:defs.bzl", "js_binary", "npm_packages")

js_binary(
  name = "app",
  lib = "//src:main",
  entry = "main.js",
)

npm_packages(
  name = "packages",
  package_json = ":package.json",
  yarn_lock = ":yarn.lock",
)
</code></pre></div>
<p dir="auto"><code>src/main.js</code></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="import { GREETING } from &quot;./util/constants&quot;;

console.log(GREETING);"><pre lang="javascript" class="notranslate"><code>import { GREETING } from "./util/constants";

console.log(GREETING);
</code></pre></div>
<p dir="auto"><code>src/BUILD.bazel</code></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="package(default_visibility = [&quot;//visibility:public&quot;])

load(&quot;@bazel_javascript//:defs.bzl&quot;, &quot;js_library&quot;)

js_library(
  name = &quot;main&quot;,
  srcs = [
    &quot;main.js&quot;,
  ],
  deps = [
    &quot;//src/util:constants&quot;,
  ],
)"><pre lang="python" class="notranslate"><code>package(default_visibility = ["//visibility:public"])

load("@bazel_javascript//:defs.bzl", "js_library")

js_library(
  name = "main",
  srcs = [
    "main.js",
  ],
  deps = [
    "//src/util:constants",
  ],
)
</code></pre></div>
<p dir="auto"><code>src/util/constants.js</code></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="import TextBuilder from &quot;textbuilder&quot;;

const t = new TextBuilder();
t.append(&quot;Hello &quot;, process.argv[2] || &quot;Daniel&quot;);
export const GREETING = t.build();"><pre lang="javascript" class="notranslate"><code>import TextBuilder from "textbuilder";

const t = new TextBuilder();
t.append("Hello ", process.argv[2] || "Daniel");
export const GREETING = t.build();
</code></pre></div>
<p dir="auto"><code>src/util/BUILD.bazel</code></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="package(default_visibility = [&quot;//visibility:public&quot;])

load(&quot;@bazel_javascript//:defs.bzl&quot;, &quot;js_library&quot;)

js_library(
  name = &quot;constants&quot;,
  srcs = [
    &quot;constants.js&quot;,
  ],
  deps = [
    &quot;//:packages&quot;,
  ],
)"><pre lang="python" class="notranslate"><code>package(default_visibility = ["//visibility:public"])

load("@bazel_javascript//:defs.bzl", "js_library")

js_library(
  name = "constants",
  srcs = [
    "constants.js",
  ],
  deps = [
    "//:packages",
  ],
)
</code></pre></div>
<p dir="auto">Run and build the binary:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ bazel run //:app John
INFO: Analysed target //:app (0 packages loaded).
INFO: Found 1 target...
Target //:app up-to-date:
  bazel-bin/app.js
INFO: Elapsed time: 0.140s, Critical Path: 0.00s
INFO: Build completed successfully, 1 total action

INFO: Running command line: bazel-bin/app.js John
Hello John"><pre lang="sh" class="notranslate"><code>$ bazel run //:app John
INFO: Analysed target //:app (0 packages loaded).
INFO: Found 1 target...
Target //:app up-to-date:
  bazel-bin/app.js
INFO: Elapsed time: 0.140s, Critical Path: 0.00s
INFO: Build completed successfully, 1 total action

INFO: Running command line: bazel-bin/app.js John
Hello John
</code></pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Rules</h2><a id="user-content-rules-1" class="anchor" aria-label="Permalink: Rules" href="#rules-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">js_library</h3><a id="user-content-js_library" class="anchor" aria-label="Permalink: js_library" href="#js_library"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="js_library(
  name,
  srcs,
  deps = [],
)"><pre lang="python" class="notranslate"><code>js_library(
  name,
  srcs,
  deps = [],
)
</code></pre></div>
<p dir="auto">Used to represent a set of JavaScript files and their dependencies.</p>
<markdown-accessiblity-table><table>
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <p dir="auto">A unique name for this rule (required).</p>
      </td>
    </tr>
    <tr>
      <td><code>srcs</code></td>
      <td>
        <p dir="auto">A list of source files (required).</p>
        <p dir="auto">You may include non-JavaScript files, which will be copy-pasted as is.</p>
      </td>
    </tr>
    <tr>
      <td><code>deps</code></td>
      <td>
        <p dir="auto">A list of labels (optional).</p>
        <p dir="auto">
          This could be any other <code>js_library</code> targets, or at most one <code>npm_packages</code> target.
        </p>
      </td>
    </tr>
  </tbody>
</table></markdown-accessiblity-table>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">ts_library</h3><a id="user-content-ts_library" class="anchor" aria-label="Permalink: ts_library" href="#ts_library"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="ts_library(name, srcs, deps = [], tsconfig = ...)"><pre lang="python" class="notranslate"><code>ts_library(name, srcs, deps = [], tsconfig = ...)
</code></pre></div>
<p dir="auto">Used to generate the compiled JavaScript and declaration files for a set of
TypeScript source files.</p>
<markdown-accessiblity-table><table>
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <p dir="auto">A unique name for this rule (required).</p>
      </td>
    </tr>
    <tr>
      <td><code>srcs</code></td>
      <td>
        <p dir="auto">A list of source files (required).</p>
        <p dir="auto">You may include non-TypeScript files, which will be copy-pasted as is.</p>
      </td>
    </tr>
    <tr>
      <td><code>deps</code></td>
      <td>
        <p dir="auto">A list of labels (optional).</p>
        <p dir="auto">
          This could be any other <code>ts_library</code> targets, or at most one <code>npm_packages</code> target.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>tsconfig</code></td>
      <td>
        <p dir="auto">A custom TypeScript config file (optional).</p>
        <p dir="auto">
          Only compiler options will be used. Some options such as
          <code>paths</code> will be overridden.
        </p>
      </td>
    </tr>
  </tbody>
</table></markdown-accessiblity-table>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">web_bundle</h3><a id="user-content-web_bundle" class="anchor" aria-label="Permalink: web_bundle" href="#web_bundle"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="web_bundle(
  name,
  lib,
  entry,
  html_template,
  mode = &quot;none&quot;,
  split_chunks = 0,
  public_path = &quot;&quot;,
  library_name = &quot;&quot;,
  library_target = &quot;umd&quot;,
)"><pre lang="python" class="notranslate"><code>web_bundle(
  name,
  lib,
  entry,
  html_template,
  mode = "none",
  split_chunks = 0,
  public_path = "",
  library_name = "",
  library_target = "umd",
)
</code></pre></div>
<p dir="auto">Used to compile a <code>js_library</code> to a JavaScript bundle to include in an HTML page.</p>
<p dir="auto">You can run a webpack-dev-server with <code>bazel run //target_server</code> (append <code>_server</code> to your target name).
Live reloading is supported if you use <a href="https://github.com/bazelbuild/bazel-watcher"><code>ibazel</code></a>.</p>
<markdown-accessiblity-table><table>
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <p dir="auto">A unique name for this rule (required).</p>
      </td>
    </tr>
    <tr>
      <td><code>lib</code></td>
      <td>
        <p dir="auto">A <code>js_library</code> target (required).</p>
      </td>
    </tr>
    <tr>
      <td><code>entry</code></td>
      <td>
        <p dir="auto">The path of the entrypoint within the <code>js_library</code> target (required).</p>
        <p dir="auto">
          For example if the <code>js_library</code> includes a single file <code>main.js</code>,
          entry should be set to <code>"main.js"</code>.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>output</code></td>
      <td>
        <p dir="auto">The name of the JS file(s) to generate (optional).</p>
        <p dir="auto">By default, the name will be <code>bundle.js</code>.</p>
      </td>
    </tr>
    <tr>
      <td><code>html_template</code></td>
      <td>
        <p dir="auto">An HTML file template (optional).</p>
        <p dir="auto">The generated JavaScript bundle will be injected with a <code>&lt;script&gt;</code> tag.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>mode</code></td>
      <td>
        <p dir="auto">Configuration mode for webpack (default <code>none</code>).</p>
        <p dir="auto">
          See <a href="https://webpack.js.org/concepts/mode" rel="nofollow">Webpack documentation</a> for details.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>split_chunks</code></td>
      <td>
        <p dir="auto">Whether to split the bundle into chunks.</p>
        <p dir="auto">
          See <a href="https://webpack.js.org/plugins/split-chunks-plugin/#defaults" rel="nofollow">Webpack documentation</a> for details.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>public_path</code></td>
      <td>
        <p dir="auto">Public path where the bundle will be served from (required if <code>split_chunks=1</code>).</p>
        <p dir="auto">
          For example if your JavaScript files will be served from <a href="https://yourdomain.com/js/" rel="nofollow">https://yourdomain.com/js/</a>,
          set <code>public_path</code> to <code>"/js/"</code>.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>library_name</code></td>
      <td>
        <p dir="auto">The name of a library to generate (optional).</p>
        <p dir="auto">
          This is only necessary if you're building a JavaScript library to be used by a third-party.
        </p>
        <p dir="auto">
          See <a href="https://webpack.js.org/configuration/output/#output-library" rel="nofollow">Webpack documentation</a> for details.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>library_target</code></td>
      <td>
        <p dir="auto">The type of library to generate (default <code>"umd"</code>). Use along with <code>library_name</code>.</p>
        <p dir="auto">
          See <a href="https://webpack.js.org/configuration/output/#output-librarytarget" rel="nofollow">Webpack documentation</a> for details.
        </p>
      </td>
    </tr>
  </tbody>
</table></markdown-accessiblity-table>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">js_binary</h3><a id="user-content-js_binary" class="anchor" aria-label="Permalink: js_binary" href="#js_binary"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Similar to <code>web_bundle</code>, but produces an executable JavaScript file (using Node).</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">js_script</h3><a id="user-content-js_script" class="anchor" aria-label="Permalink: js_script" href="#js_script"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="js_script(cmd, lib)"><pre lang="python" class="notranslate"><code>js_script(cmd, lib)
</code></pre></div>
<p dir="auto">Used to run a script (similarly to <code>scripts</code> in <code>package.json</code>).</p>
<markdown-accessiblity-table><table>
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>cmd</code></td>
      <td>
        <p dir="auto">The command to run (required).</p>
      </td>
    </tr>
    <tr>
      <td><code>lib</code></td>
      <td>
        <p dir="auto">A <code>js_library</code> target (required).</p>
        <p dir="auto">The script will execute in the target's compiled directory.</p>
      </td>
    </tr>
  </tbody>
</table></markdown-accessiblity-table>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">js_test</h3><a id="user-content-js_test" class="anchor" aria-label="Permalink: js_test" href="#js_test"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="js_test(cmd, lib)"><pre lang="python" class="notranslate"><code>js_test(cmd, lib)
</code></pre></div>
<p dir="auto">Used to define a test. Arguments are identical to <code>js_script</code>.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">npm_packages</h3><a id="user-content-npm_packages" class="anchor" aria-label="Permalink: npm_packages" href="#npm_packages"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="npm_packages(name, package_json, yarn_lock)"><pre lang="python" class="notranslate"><code>npm_packages(name, package_json, yarn_lock)
</code></pre></div>
<p dir="auto">Used to define NPM dependencies. Bazel will download the packages in its own internal directory.</p>
<markdown-accessiblity-table><table>
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <p dir="auto">A unique name for this rule (required).</p>
      </td>
    </tr>
    <tr>
      <td><code>package_json</code></td>
      <td>
        <p dir="auto">A package.json file (required).</p>
      </td>
    </tr>
    <tr>
      <td><code>yarn_lock</code></td>
      <td>
        <p dir="auto">A yarn.lock file (required).</p>
      </td>
    </tr>
  </tbody>
</table></markdown-accessiblity-table>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">npm_binary</h3><a id="user-content-npm_binary" class="anchor" aria-label="Permalink: npm_binary" href="#npm_binary"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="npm_binary(install, binary)"><pre lang="python" class="notranslate"><code>npm_binary(install, binary)
</code></pre></div>
<p dir="auto">Used to invoke an NPM binary (from <code>node_modules/.bin/[binary]</code>).</p>
<markdown-accessiblity-table><table>
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <p dir="auto">A unique name for this rule (required).</p>
      </td>
    </tr>
    <tr>
      <td><code>install</code></td>
      <td>
        <p dir="auto">An <code>npm_packages</code> target (required).</p>
      </td>
    </tr>
    <tr>
      <td><code>binary</code></td>
      <td>
        <p dir="auto">The name of the binary to execute (required).</p>
      </td>
    </tr>
  </tbody>
</table></markdown-accessiblity-table>
</article></div>