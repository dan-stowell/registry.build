<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">pixelmatch-cpp17</h1><a id="user-content-pixelmatch-cpp17" class="anchor" aria-label="Permalink: pixelmatch-cpp17" href="#pixelmatch-cpp17"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://github.com/jwmcglynn/pixelmatch-cpp17/actions/workflows/main.yml"><img src="https://github.com/jwmcglynn/pixelmatch-cpp17/actions/workflows/main.yml/badge.svg?branch=main" alt="Build Status" style="max-width: 100%;"></a> <a href="https://opensource.org/licenses/ISC" rel="nofollow"><img src="https://camo.githubusercontent.com/1ad0b5f120b3e87d7eedfbf7bf12392ec6ab05bafef6e137820d21d993152e99/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4953432d626c75652e737667" alt="License: ISC" data-canonical-src="https://img.shields.io/badge/License-ISC-blue.svg" style="max-width: 100%;"></a> <a href="https://codecov.io/gh/jwmcglynn/pixelmatch-cpp17" rel="nofollow"><img src="https://camo.githubusercontent.com/10d003535fbe7938ec9db5a83d6977336b774f8d827dae3475313098e79e67fb/68747470733a2f2f636f6465636f762e696f2f67682f6a776d63676c796e6e2f706978656c6d617463682d63707031372f6272616e63682f6d61696e2f67726170682f62616467652e7376673f746f6b656e3d30584d55483346305244" alt="codecov" data-canonical-src="https://codecov.io/gh/jwmcglynn/pixelmatch-cpp17/branch/main/graph/badge.svg?token=0XMUH3F0RD" style="max-width: 100%;"></a></p>
<p dir="auto">A C++17 port of the JavaScript pixelmatch library, providing a small pixel-level image comparison library.</p>
<p dir="auto">Features accurate <strong>anti-aliased pixels detection</strong> and <strong>perceptual color difference metrics</strong>.</p>
<p dir="auto">Based on <a href="https://github.com/mapbox/pixelmatch">mapbox/pixelmatch</a>.  pixelmatch-cpp17 is around <strong>300 lines of code</strong>, and has <strong>no dependencies</strong>, operating on RGBA-encoded buffers.</p>
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="#include &lt;pixelmatch/pixelmatch.h&gt;

pixelmatch::Options options;
options.threshold = 0.1f;

const std::vector&lt;uint8_t&gt; img1 = ...;
const std::vector&lt;uint8_t&gt; img2 = ...;
std::vector&lt;uint8_t&gt; diffImage(img1.size());

const int numDiffPixels = pixelmatch::pixelmatch(img1, img2, diffImage, width, height, stride, options);"><pre>#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>pixelmatch/pixelmatch.h<span class="pl-pds">&gt;</span></span>

pixelmatch::Options options;
options.threshold = <span class="pl-c1">0</span>.<span class="pl-c1">1f</span>;

<span class="pl-k">const</span> std::vector&lt;<span class="pl-c1">uint8_t</span>&gt; img1 = ...;
<span class="pl-k">const</span> std::vector&lt;<span class="pl-c1">uint8_t</span>&gt; img2 = ...;
std::vector&lt;<span class="pl-c1">uint8_t</span>&gt; <span class="pl-en">diffImage</span>(img1.size());

<span class="pl-k">const</span> <span class="pl-k">int</span> numDiffPixels = pixelmatch::pixelmatch(img1, img2, diffImage, width, height, stride, options);</pre></div>
<p dir="auto">Compared to <a href="https://github.com/mapbox/pixelmatch-cpp">mapbox/pixelmatch-cpp</a>, pixelmatch-cpp17 ports the latest features from the JavaScript library, and is built with production-grade practices, including thorough test coverage and fuzz-testing.  Build files are included for Bazel and CMake, but contributions for other build systems are welcome.</p>
<p dir="auto">Implements ideas from the following papers:</p>
<ul dir="auto">
<li><a href="http://www.progmat.uaem.mx:8080/artVol2Num2/Articulo3Vol2Num2.pdf" rel="nofollow">Measuring perceived color difference using YIQ NTSC transmission color space in mobile applications</a> (2010, Yuriy Kotsarenko, Fernando Ramos)</li>
<li><a href="https://www.researchgate.net/publication/234126755_Anti-aliased_Pixel_and_Intensity_Slope_Detector" rel="nofollow">Anti-aliased pixel and intensity slope detector</a> (2009, Vytautas Vyšniauskas)</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Example output</h2><a id="user-content-example-output" class="anchor" aria-label="Permalink: Example output" href="#example-output"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>expected</th>
<th>actual</th>
<th>diff</th>
</tr>
</thead>
<tbody>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="tests/testdata/4a.png"><img src="tests/testdata/4a.png" alt="" style="max-width: 100%;"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="tests/testdata/4b.png"><img src="tests/testdata/4b.png" alt="" style="max-width: 100%;"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="tests/testdata/4diff.png"><img src="tests/testdata/4diff.png" alt="1diff" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="tests/testdata/3a.png"><img src="tests/testdata/3a.png" alt="" style="max-width: 100%;"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="tests/testdata/3b.png"><img src="tests/testdata/3b.png" alt="" style="max-width: 100%;"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="tests/testdata/3diff.png"><img src="tests/testdata/3diff.png" alt="1diff" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="tests/testdata/6a.png"><img src="tests/testdata/6a.png" alt="" style="max-width: 100%;"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="tests/testdata/6b.png"><img src="tests/testdata/6b.png" alt="" style="max-width: 100%;"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="tests/testdata/6diff.png"><img src="tests/testdata/6diff.png" alt="1diff" style="max-width: 100%;"></a></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">API</h2><a id="user-content-api" class="anchor" aria-label="Permalink: API" href="#api"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">pixelmatch(img1, img2, output, width, height, strideInPixels[, options])</h3><a id="user-content-pixelmatchimg1-img2-output-width-height-strideinpixels-options" class="anchor" aria-label="Permalink: pixelmatch(img1, img2, output, width, height, strideInPixels[, options])" href="#pixelmatchimg1-img2-output-width-height-strideinpixels-options"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><code>img1</code>, <code>img2</code> — Image data of the images to compare, as a RGBA-encoded byte array. <strong>Note:</strong> image dimensions must be equal.</li>
<li><code>output</code> — Image data to write the diff to, or <code>std::nullopt</code> if you don't need a diff image.</li>
<li><code>width</code>, <code>height</code> — Width and height of the images. Note that <em>all three images</em> need to have the same dimensions.</li>
<li><code>strideInPixels</code> — Stride of the images. Note that <em>all three images</em> need to have the same stride.</li>
<li><code>options</code> is a struct with the following fields:
<ul dir="auto">
<li><code>threshold</code> — Matching threshold, ranges from <code>0.0f</code> to <code>1.0f</code>. Smaller values make the comparison more sensitive. <code>0.1</code> by default.</li>
<li><code>includeAA</code> — If <code>true</code>, disables detecting and ignoring anti-aliased pixels. <code>false</code> by default.</li>
<li><code>alpha</code> — Blending factor of unchanged pixels in the diff output. Ranges from <code>0</code> for pure white to <code>1</code> for original brightness. <code>0.1</code> by default.</li>
<li><code>aaColor</code> — The color of anti-aliased pixels in the diff output as an RGBA color. <code>(255, 255, 0, 255)</code> by default.</li>
<li><code>diffColor</code> — The color of differing pixels in the diff output as an RGBA color <code>(255, 0, 0, 255)</code> by default.</li>
<li><code>diffColorAlt</code> — An alternative color to use for dark on light differences to differentiate between "added" and "removed" parts. If not provided, all differing pixels use the color specified by <code>diffColor</code>. <code>std::nullopt</code> by default.</li>
<li><code>diffMask</code> — Draw the diff over a transparent background (a mask), rather than over the original image. Will not draw anti-aliased pixels (if detected).</li>
</ul>
</li>
</ul>
<p dir="auto">Compares two images, writes the output diff and returns the number of mismatched pixels.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Usage</h2><a id="user-content-usage" class="anchor" aria-label="Permalink: Usage" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Bazel</h3><a id="user-content-bazel" class="anchor" aria-label="Permalink: Bazel" href="#bazel"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>Bazel 7.0.0 or newer is required for bzlmod.</li>
</ul>
<p dir="auto">Add the following to your <code>MODULE.bazel</code> file:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="bazel_dep(name = &quot;pixelmatch-cpp17&quot;, version = &quot;1.0.3&quot;)"><pre><span class="pl-en">bazel_dep</span>(<span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"pixelmatch-cpp17"</span>, <span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"1.0.3"</span>)</pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">CMake</h3><a id="user-content-cmake" class="anchor" aria-label="Permalink: CMake" href="#cmake"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">To take a dependency on <code>pixelmatch-cpp17</code> with <code>FetchContent</code>, add the following
to your project's <code>CMakeLists.txt</code>:</p>
<div class="highlight highlight-source-cmake notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="include(FetchContent)
FetchContent_Declare(
  pixelmatch-cpp17
  GIT_REPOSITORY https://github.com/jwmcglynn/pixelmatch-cpp17.git
  GIT_TAG &lt;commit or tag&gt;
)
FetchContent_MakeAvailable(pixelmatch-cpp17)

target_link_libraries(your_target PRIVATE pixelmatch-cpp17)"><pre><span class="pl-k">include</span>(FetchContent)
FetchContent_Declare(
  pixelmatch-cpp17
  GIT_REPOSITORY https://github.com/jwmcglynn/pixelmatch-cpp17.git
  GIT_TAG &lt;commit <span class="pl-k">or</span> tag&gt;
)
FetchContent_MakeAvailable(pixelmatch-cpp17)

<span class="pl-k">target_link_libraries</span>(your_target <span class="pl-e">PRIVATE</span> pixelmatch-cpp17)</pre></div>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">Running the tests</h4><a id="user-content-running-the-tests" class="anchor" aria-label="Permalink: Running the tests" href="#running-the-tests"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This repository also provides CMake build files.  A typical workflow is:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="cmake -S . -B build -DPIXELMATCH_BUILD_TESTS=ON
cmake --build build
ctest --test-dir build"><pre>cmake -S <span class="pl-c1">.</span> -B build -DPIXELMATCH_BUILD_TESTS=ON
cmake --build build
ctest --test-dir build</pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Calling from C++</h3><a id="user-content-calling-from-c" class="anchor" aria-label="Permalink: Calling from C++" href="#calling-from-c"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">In your test file, include pixelmatch with:</p>
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="#include &lt;pixelmatch/pixelmatch.h&gt;"><pre>#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>pixelmatch/pixelmatch.h<span class="pl-pds">&gt;</span></span></pre></div>
<p dir="auto">Then, you can use the <code>pixelmatch::pixelmatch</code> function.</p>
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// Pass an options struct to configure the comparison. If not specified, defaults will be used.
pixelmatch::Options options;
options.threshold = 0.1f;

// Load two images as RGBA-encoded byte arrays. The images must have the same dimensions and stride.
const std::vector&lt;uint8_t&gt; img1 = ...;
const std::vector&lt;uint8_t&gt; img2 = ...;
// Output image will be saved in this buffer.
std::vector&lt;uint8_t&gt; diffImage(img1.size());

// Pass the image buffers and call with the width, height, and stride of the images.
const int numDiffPixels = pixelmatch::pixelmatch(img1, img2, diffImage, width, height, stride, options);"><pre><span class="pl-c"><span class="pl-c">//</span> Pass an options struct to configure the comparison. If not specified, defaults will be used.</span>
pixelmatch::Options options;
options.threshold = <span class="pl-c1">0</span>.<span class="pl-c1">1f</span>;

<span class="pl-c"><span class="pl-c">//</span> Load two images as RGBA-encoded byte arrays. The images must have the same dimensions and stride.</span>
<span class="pl-k">const</span> std::vector&lt;<span class="pl-c1">uint8_t</span>&gt; img1 = ...;
<span class="pl-k">const</span> std::vector&lt;<span class="pl-c1">uint8_t</span>&gt; img2 = ...;
<span class="pl-c"><span class="pl-c">//</span> Output image will be saved in this buffer.</span>
std::vector&lt;<span class="pl-c1">uint8_t</span>&gt; <span class="pl-en">diffImage</span>(img1.size());

<span class="pl-c"><span class="pl-c">//</span> Pass the image buffers and call with the width, height, and stride of the images.</span>
<span class="pl-k">const</span> <span class="pl-k">int</span> numDiffPixels = pixelmatch::pixelmatch(img1, img2, diffImage, width, height, stride, options);</pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Projects using pixelmatch-cpp17</h2><a id="user-content-projects-using-pixelmatch-cpp17" class="anchor" aria-label="Permalink: Projects using pixelmatch-cpp17" href="#projects-using-pixelmatch-cpp17"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>Python bindings: <a href="https://github.com/cubao/pybind11_pixelmatch">https://github.com/cubao/pybind11_pixelmatch</a></li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Documentation</h2><a id="user-content-documentation" class="anchor" aria-label="Permalink: Documentation" href="#documentation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="docs/code_coverage.md">Code Coverage</a></li>
<li><a href="docs/fuzz_testing.md">Fuzz Testing</a></li>
</ul>
</article></div>