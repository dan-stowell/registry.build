<div id="readme" class="adoc" data-path="README.adoc"><article class="markdown-body entry-content container-lg" itemprop="text"><div dir="auto">
<p dir="auto"><a href="https://www.boost.org/doc/libs/master/libs/url/doc/html/" rel="nofollow"><span><img src="https://raw.githubusercontent.com/vinniefalco/url/master/doc/images/repo-logo.png" alt="Boost.URL" style="max-width: 100%; height: auto;"></span></a></p>
</div>
<markdown-accessiblity-table><table>





<thead>
<tr>
<th>Branch</th>
<th><a href="https://github.com/boostorg/url/tree/master"><code>master</code></a></th>
<th><a href="https://github.com/boostorg/url/tree/develop"><code>develop</code></a></th>
</tr>
</thead>
<tbody>
<tr>
<td><p dir="auto"><a href="https://www.boost.org/doc/libs/master/libs/url/doc/html/" rel="nofollow">Docs</a></p></td>
<td><p dir="auto"><a href="https://www.boost.org/doc/libs/master/libs/url/doc/html/" rel="nofollow"><span><img src="https://camo.githubusercontent.com/270f8b586f79ddb79068282e8f4ed31929d52b6c846172f4d0816795f02f2b7f/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6d61737465722d627269676874677265656e2e737667" alt="Documentation" data-canonical-src="https://img.shields.io/badge/docs-master-brightgreen.svg" style="max-width: 100%; height: auto;"></span></a></p></td>
<td><p dir="auto"><a href="https://www.boost.org/doc/libs/develop/libs/url/doc/html/" rel="nofollow"><span><img src="https://camo.githubusercontent.com/5a09f985b02146a7852b967910a139a6c1ec2cf84c4ee02f205f7e560d849465/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d646576656c6f702d627269676874677265656e2e737667" alt="Documentation" data-canonical-src="https://img.shields.io/badge/docs-develop-brightgreen.svg" style="max-width: 100%; height: auto;"></span></a></p></td>
</tr>
<tr>
<td><p dir="auto"><a href="https://github.com/">GitHub Actions</a></p></td>
<td><p dir="auto"><a href="https://github.com/boostorg/url/actions/workflows/ci.yml"><span><img src="https://github.com/boostorg/url/actions/workflows/ci.yml/badge.svg?branch=master" alt="CI" style="max-width: 100%; height: auto;"></span></a></p></td>
<td><p dir="auto"><a href="https://github.com/boostorg/url/actions/workflows/ci.yml"><span><img src="https://github.com/boostorg/url/actions/workflows/ci.yml/badge.svg?branch=develop" alt="CI" style="max-width: 100%; height: auto;"></span></a></p></td>
</tr>
<tr>
<td><p dir="auto"><a href="https://drone.io/" rel="nofollow">Drone</a></p></td>
<td><p dir="auto"><a href="https://drone.cpp.al/boostorg/url" rel="nofollow"><span><img src="https://camo.githubusercontent.com/6fd5e40f3c9d4534a0845417c695ec29b7a123f35d5d439b097666c37e48114a/68747470733a2f2f64726f6e652e6370702e616c2f6170692f6261646765732f626f6f73746f72672f75726c2f7374617475732e7376673f7265663d726566732f68656164732f6d6173746572" alt="Build Status" data-canonical-src="https://drone.cpp.al/api/badges/boostorg/url/status.svg?ref=refs/heads/master" style="max-width: 100%; height: auto;"></span></a></p></td>
<td><p dir="auto"><a href="https://drone.cpp.al/boostorg/url" rel="nofollow"><span><img src="https://camo.githubusercontent.com/c78425ecef2f93f8a7d540220d34807f27a686e760625d710400224eb75641db/68747470733a2f2f64726f6e652e6370702e616c2f6170692f6261646765732f626f6f73746f72672f75726c2f7374617475732e7376673f7265663d726566732f68656164732f646576656c6f70" alt="Build Status" data-canonical-src="https://drone.cpp.al/api/badges/boostorg/url/status.svg?ref=refs/heads/develop" style="max-width: 100%; height: auto;"></span></a></p></td>
</tr>
<tr>
<td><p dir="auto"><a href="https://www.boost.org/development/tests/master/developer/summary.html" rel="nofollow">Matrix</a></p></td>
<td><p dir="auto"><a href="http://www.boost.org/development/tests/master/developer/url.html" rel="nofollow"><span><img src="https://camo.githubusercontent.com/c3a25e592a3c481c49a6efd97645226a0eacccecf2e20f9e797d2461e54be5b1/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6d61747269782d6d61737465722d627269676874677265656e2e737667" alt="Matrix" data-canonical-src="https://img.shields.io/badge/matrix-master-brightgreen.svg" style="max-width: 100%; height: auto;"></span></a></p></td>
<td><p dir="auto"><a href="http://www.boost.org/development/tests/develop/developer/url.html" rel="nofollow"><span><img src="https://camo.githubusercontent.com/a9ae1ad0d898f2cf5105a5df9ee6cbccb7bdf50dfe6434465b3792d2569d994b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6d61747269782d646576656c6f702d627269676874677265656e2e737667" alt="Matrix" data-canonical-src="https://img.shields.io/badge/matrix-develop-brightgreen.svg" style="max-width: 100%; height: auto;"></span></a></p></td>
</tr>
<tr>
<td><p dir="auto"><a href="https://codecov.io" rel="nofollow">Codecov</a></p></td>
<td><p dir="auto"><a href="https://codecov.io/gh/boostorg/url/branch/master" rel="nofollow"><span><img src="https://camo.githubusercontent.com/1da954b8e3a2dadb5757c9fe1c1adc28c7c24fcdd2357f5c1c64aec186badaf5/68747470733a2f2f636f6465636f762e696f2f67682f626f6f73746f72672f75726c2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/boostorg/url/branch/master/graph/badge.svg" style="max-width: 100%; height: auto;"></span></a></p></td>
<td><p dir="auto"><a href="https://codecov.io/gh/boostorg/url/branch/develop" rel="nofollow"><span><img src="https://camo.githubusercontent.com/eebeb945c13c068879ebb3c8e0fbf176c0fab6a20c84dc8c655c8df912efec72/68747470733a2f2f636f6465636f762e696f2f67682f626f6f73746f72672f75726c2f6272616e63682f646576656c6f702f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/boostorg/url/branch/develop/graph/badge.svg" style="max-width: 100%; height: auto;"></span></a></p></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-boost-url" class="heading-element" dir="auto">Boost.URL</h2><a id="user-content-boosturl" class="anchor" aria-label="Permalink: Boost.URL" href="#boosturl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">Boost.URL is a portable C++ library which provides containers and algorithms which model a "URL," more formally described using the
<a href="https://datatracker.ietf.org/doc/html/rfc3986" rel="nofollow">Uniform Resource Identifier (URI)</a>
specification (henceforth referred to as <em>rfc3986</em>).
A URL is a compact sequence of characters that identifies an abstract or physical resource.
For example, this is a valid URL:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="https://www.example.com/path/to/file.txt?userid=1001&amp;pages=3&amp;results=full#page1"><pre class="notranslate"><code>https://www.example.com/path/to/file.txt?userid=1001&amp;pages=3&amp;results=full#page1</code></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">This library understands the grammars related to URLs and provides functionality to validate, parse, examine, and modify urls, and apply normalization or resolution algorithms.</p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-features" class="heading-element" dir="auto">Features</h3><a id="user-content-features" class="anchor" aria-label="Permalink: Features" href="#features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">While the library is general purpose, special care has been taken to ensure that the implementation and data representation are friendly to network programs which need to handle URLs efficiently and securely, including the case where the inputs come from untrusted sources.
Interfaces are provided for using error codes instead of exceptions as needed, and most algorithms have the means to opt-out of dynamic memory allocation.
Another feature of the library is that all modifications leave the URL in a valid state.
Code which uses this library is easy to read, flexible, and performant.</p>
</div>
<div dir="auto">
<p dir="auto">Network programs such as those using Boost.Asio or Boost.Beast often encounter the need to process, generate, or modify URLs.
This library provides a very much needed modular component for handling these use-cases.</p>
</div>
<div dir="auto">
<p dir="auto">Boost.URL offers these features:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">C++11 as only requirement</p>
</li>
<li>
<p dir="auto">Fast compilation, few templates</p>
</li>
<li>
<p dir="auto">Strict compliance with <em>rfc3986</em></p>
</li>
<li>
<p dir="auto">Containers that maintain valid URLs</p>
</li>
<li>
<p dir="auto">Parsing algorithms that work without exceptions</p>
</li>
<li>
<p dir="auto">Control over storage and allocation for URLs</p>
</li>
<li>
<p dir="auto">Support for <code>-fno-exceptions</code>, detected automatically</p>
</li>
<li>
<p dir="auto">Features that work well on embedded devices</p>
</li>
</ul>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">Note</div>
</td>
<td>
<div dir="auto">
<p dir="auto">Currently, the library does not handle
<a href="https://www.rfc-editor.org/rfc/rfc3987.html" rel="nofollow">Internationalized Resource Identifiers (IRIs)</a>.
These are different from URLs, come from Unicode strings instead of low-ASCII strings, and are covered by a separate specification.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-requirements" class="heading-element" dir="auto">Requirements</h3><a id="user-content-requirements" class="anchor" aria-label="Permalink: Requirements" href="#requirements"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The library requires a compiler supporting at least C++11.</p>
</div>
<div dir="auto">
<p dir="auto">Aliases for standard types, such as <em>error_code</em> or <code>string_view</code>, use their Boost equivalents.</p>
</div>
<div dir="auto">
<p dir="auto">Boost.URL works great on embedded devices.
It can be used in a way that avoids all dynamic memory allocations.
Furthermore, it offers alternative interfaces that work without exceptions if desired.</p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-tested-compilers" class="heading-element" dir="auto">Tested Compilers</h3><a id="user-content-tested-compilers" class="anchor" aria-label="Permalink: Tested Compilers" href="#tested-compilers"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Boost.URL has been tested with the following compilers:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">clang: 3.8, 4, 5, 6, 7, 8, 9, 10, 11, 12</p>
</li>
<li>
<p dir="auto">gcc: 4.8, 4.9, 5, 6, 7, 8, 9, 10, 11</p>
</li>
<li>
<p dir="auto">msvc: 14.1, 14.2, 14.3</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">and these architectures: x86, x64, ARM64, S390x.</p>
</div>
<div dir="auto">
<p dir="auto">We do not test and support gcc 8.0.1.</p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-quality-assurance" class="heading-element" dir="auto">Quality Assurance</h3><a id="user-content-quality-assurance" class="anchor" aria-label="Permalink: Quality Assurance" href="#quality-assurance"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The development infrastructure for the library includes these per-commit analyses:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Coverage reports</p>
</li>
<li>
<p dir="auto">Compilation and tests on Drone.io and GitHub Actions</p>
</li>
<li>
<p dir="auto">Regular code audits for security</p>
</li>
</ul>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-nomenclature" class="heading-element" dir="auto">Nomenclature</h3><a id="user-content-nomenclature" class="anchor" aria-label="Permalink: Nomenclature" href="#nomenclature"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Various names have been used historically to refer to different flavors of resource identifiers, including <em>URI</em>, <em>URL</em>, <em>URN</em>, and even <em>IRI</em>.
Over time, the distinction between URIs and URLs has disappeared when discussed in technical documents and informal works.
In this library we use the term <em>URL</em> to refer to all strings which are valid according to the top-level grammar rules found in <em>rfc3986</em>.</p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-abnf" class="heading-element" dir="auto">ABNF</h4><a id="user-content-abnf" class="anchor" aria-label="Permalink: ABNF" href="#abnf"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">This documentation uses the
<a href="https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form" rel="nofollow">Augmented Backus-Naur Form</a>
(ABNF) notation of
<a href="https://datatracker.ietf.org/doc/html/rfc5234" rel="nofollow">rfc5234</a>
to specify particular grammars used by algorithms and containers.
While a complete understanding of the notation is not a requirement for using the library, it may help for an understanding of how valid components of URLs are defined.
In particular, this is of interest to users who wish to compose parsing algorithms using the combinators provided by the library.</p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-visual-studio-solution-generation" class="heading-element" dir="auto">Visual Studio Solution Generation</h3><a id="user-content-visual-studio-solution-generation" class="anchor" aria-label="Permalink: Visual Studio Solution Generation" href="#visual-studio-solution-generation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="cmake -G &quot;Visual Studio 17 2022&quot; -A Win32 -B bin -D BUILD_TESTING=ON -D CMAKE_TOOLCHAIN_FILE=cmake/toolchains/msvc.cmake
cmake -G &quot;Visual Studio 17 2022&quot; -A x64 -B bin64 -D BUILD_TESTING=ON -D CMAKE_TOOLCHAIN_FILE=cmake/toolchains/msvc.cmake"><pre>cmake -G <span class="pl-s"><span class="pl-pds">"</span>Visual Studio 17 2022<span class="pl-pds">"</span></span> -A Win32 -B bin -D BUILD_TESTING=ON -D CMAKE_TOOLCHAIN_FILE=cmake/toolchains/msvc.cmake
cmake -G <span class="pl-s"><span class="pl-pds">"</span>Visual Studio 17 2022<span class="pl-pds">"</span></span> -A x64 -B bin64 -D BUILD_TESTING=ON -D CMAKE_TOOLCHAIN_FILE=cmake/toolchains/msvc.cmake</pre></div>
</div>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-quick-look" class="heading-element" dir="auto">Quick Look</h2><a id="user-content-quick-look" class="anchor" aria-label="Permalink: Quick Look" href="#quick-look"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-integration" class="heading-element" dir="auto">Integration</h3><a id="user-content-integration" class="anchor" aria-label="Permalink: Integration" href="#integration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">Note</div>
</td>
<td>
<div dir="auto">
<p dir="auto">Sample code and identifiers used throughout are written as if the following declarations are in effect:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="#include &lt;boost/url.hpp&gt;
using namespace boost::urls;"><pre>#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>boost/url.hpp<span class="pl-pds">&gt;</span></span>
<span class="pl-k">using</span> <span class="pl-k">namespace</span> <span class="pl-en">boost</span>::urls<span class="pl-k">;</span></pre></div>
</div>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto">We begin by including the library header file which brings all the symbols into scope.</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="#include &lt;boost/url.hpp&gt;"><pre>#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>boost/url.hpp<span class="pl-pds">&gt;</span></span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Alternatively, individual headers may be included to obtain the declarations for specific types.</p>
</div>
<div dir="auto">
<p dir="auto">Boost.URL is a compiled library.
You need to install binaries in a location that can be found by your linker and link your program with the Boost.URL built library.
If you followed the [@<a href="http://www.boost.org/doc/libs/release/more/getting_started/index.html" rel="nofollow">http://www.boost.org/doc/libs/release/more/getting_started/index.html</a> Boost Getting Started]
instructions, that’s already been done for you.</p>
</div>
<div dir="auto">
<p dir="auto">For example, if you are using CMake, you can use the following commands to find and link the library:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-cmake notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="find_package(Boost REQUIRED COMPONENTS url)
target_link_libraries(my_program PRIVATE Boost::url)"><pre><span class="pl-c1">find_package</span>(<span class="pl-s">Boost</span> <span class="pl-s">REQUIRED</span> <span class="pl-s">COMPONENTS</span> <span class="pl-s">url</span>)
<span class="pl-c1">target_link_libraries</span>(<span class="pl-s">my_program</span> <span class="pl-c1">PRIVATE</span> <span class="pl-s">Boost::url</span>)</pre></div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-parsing" class="heading-element" dir="auto">Parsing</h3><a id="user-content-parsing" class="anchor" aria-label="Permalink: Parsing" href="#parsing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Say you have the following URL that you want to parse:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="boost::core::string_view s = &quot;https://user:pass@example.com:443/path/to/my%2dfile.txt?id=42&amp;name=John%20Doe+Jingleheimer%2DSchmidt#page%20anchor&quot;;"><pre>boost::core::string_view s = <span class="pl-s"><span class="pl-pds">"</span>https://user:pass@example.com:443/path/to/my%2dfile.txt?id=42&amp;name=John%20Doe+Jingleheimer%2DSchmidt#page%20anchor<span class="pl-pds">"</span></span>;</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">In this example, <code>string_view</code> is an alias to <code>boost::core::string_view</code>, a
<code>string_view</code> implementation that is implicitly convertible from and to <code>std::string_view</code>.</p>
</div>
<div dir="auto">
<p dir="auto">You can parse the string by calling this function:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="boost::system::result&lt;url_view&gt; r = parse_uri( s );"><pre>boost::system::result&lt;url_view&gt; r = parse_uri( s );</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The function <em>parse_uri</em> returns an object of type <code>result&lt;url_view&gt;</code>
which is a container resembling a variant that holds either an error or an object.
A number of functions are available to parse different types of URL.</p>
</div>
<div dir="auto">
<p dir="auto">We can immediately call <code>result::value</code> to obtain a <code>url_view</code>.</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="url_view u = r.value();"><pre>url_view u = r.value();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Or simply</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="url_view u = *r;"><pre>url_view u = *r;</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">for unchecked access.</p>
</div>
<div dir="auto">
<p dir="auto">When there are no errors, <code>result::value</code>
returns an instance of <em>url_view</em>, which holds the parsed result.</p>
</div>
<div dir="auto">
<p dir="auto"><code>result::value</code> throws an exception on a parsing error.
Alternatively, the functions <code>result::has_value</code> and <code>result::has_error</code> could also be used to check if the string has been parsed without errors.</p>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">Note</div>
</td>
<td>
<div dir="auto">
<p dir="auto">It is worth noting that <em>parse_uri</em> does not allocate any memory dynamically.
Like a <code>string_view</code>, a <em>url_view</em> does not retain ownership of the underlying string buffer.</p>
</div>
<div dir="auto">
<p dir="auto">As long as the contents of the original string are unmodified, constructed URL views always contain a valid URL in its correctly serialized form.</p>
</div>
<div dir="auto">
<p dir="auto">If the input does not match the URL grammar, an error code is reported through <em>result</em> rather than exceptions.
Exceptions only thrown on excessive input length.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-accessing" class="heading-element" dir="auto">Accessing</h3><a id="user-content-accessing" class="anchor" aria-label="Permalink: Accessing" href="#accessing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Accessing the parts of the URL is easy:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="url_view u( &quot;https://user:pass@example.com:443/path/to/my%2dfile.txt?id=42&amp;name=John%20Doe+Jingleheimer%2DSchmidt#page%20anchor&quot; );
assert(u.scheme() == &quot;https&quot;);
assert(u.authority().buffer() == &quot;user:pass@example.com:443&quot;);
assert(u.userinfo() == &quot;user:pass&quot;);
assert(u.user() == &quot;user&quot;);
assert(u.password() == &quot;pass&quot;);
assert(u.host() == &quot;example.com&quot;);
assert(u.port() == &quot;443&quot;);
assert(u.path() == &quot;/path/to/my-file.txt&quot;);
assert(u.query() == &quot;id=42&amp;name=John Doe Jingleheimer-Schmidt&quot;);
assert(u.fragment() == &quot;page anchor&quot;);"><pre>url_view <span class="pl-en">u</span>( <span class="pl-s"><span class="pl-pds">"</span>https://user:pass@example.com:443/path/to/my%2dfile.txt?id=42&amp;name=John%20Doe+Jingleheimer%2DSchmidt#page%20anchor<span class="pl-pds">"</span></span> );
<span class="pl-en">assert</span>(u.scheme() == "https");
<span class="pl-en">assert</span>(u.authority().buffer() == "user:pass@example.com:443");
<span class="pl-en">assert</span>(u.userinfo() == "user:pass");
<span class="pl-en">assert</span>(u.user() == "user");
<span class="pl-en">assert</span>(u.password() == "pass");
<span class="pl-en">assert</span>(u.host() == "example.com");
<span class="pl-en">assert</span>(u.port() == "443");
<span class="pl-en">assert</span>(u.path() == "/path/to/my-file.txt");
<span class="pl-en">assert</span>(u.query() == "id=42&amp;name=John Doe Jingleheimer-Schmidt");
<span class="pl-en">assert</span>(u.fragment() == "page anchor");</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">URL paths can be further divided into path segments with the function <code>url_view::segments</code>.</p>
</div>
<div dir="auto">
<p dir="auto">Although URL query strings are often used to represent key/value pairs, this interpretation is not defined by <em>rfc3986</em>.
Users can treat the query as a single entity.
<em>url_view</em> provides the function
<code>url_view::params</code> to extract this view of key/value pairs.</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="for (auto seg: u.segments())
std::cout &lt;&lt; seg &lt;&lt; &quot;\n&quot;;
std::cout &lt;&lt; &quot;\n&quot;;

for (auto param: u.params())
std::cout &lt;&lt; param.key &lt;&lt; &quot;: &quot; &lt;&lt; param.value &lt;&lt; &quot;\n&quot;;
std::cout &lt;&lt; &quot;\n&quot;;"><pre><span class="pl-k">for</span> (<span class="pl-k">auto</span> seg: u.segments())
std::cout &lt;&lt; seg &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>;
std::cout &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>;

<span class="pl-k">for</span> (<span class="pl-k">auto</span> param: u.params())
std::cout &lt;&lt; param.key &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span>: <span class="pl-pds">"</span></span> &lt;&lt; param.value &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>;
std::cout &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>;</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The output is:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="path
to
my-file.txt

id: 42
name: John Doe Jingleheimer-Schmidt"><pre class="notranslate"><code>path
to
my-file.txt

id: 42
name: John Doe Jingleheimer-Schmidt</code></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">These functions return views referring to substrings and sub-ranges of the underlying URL.
By simply referencing the relevant portion of the URL string internally, its components can represent percent-decoded strings and be converted to other types without any previous memory allocation.</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="std::string h = u.host();
assert(h == &quot;example.com&quot;);"><pre>std::string h = u.host();
<span class="pl-en">assert</span>(h == <span class="pl-s"><span class="pl-pds">"</span>example.com<span class="pl-pds">"</span></span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">A special <code>string_token</code> type can also be used to specify how a portion of the URL should be encoded and returned.</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="std::string h = &quot;host: &quot;;
u.host(string_token::append_to(h));
assert(h == &quot;host: example.com&quot;);"><pre>std::string h = <span class="pl-s"><span class="pl-pds">"</span>host: <span class="pl-pds">"</span></span>;
u.host(string_token::append_to(h));
<span class="pl-en">assert</span>(h == <span class="pl-s"><span class="pl-pds">"</span>host: example.com<span class="pl-pds">"</span></span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">These functions might also return empty strings</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="url_view u1 = parse_uri( &quot;http://www.example.com&quot; ).value();
assert(u1.fragment().empty());
assert(!u1.has_fragment());"><pre>url_view u1 = parse_uri( <span class="pl-s"><span class="pl-pds">"</span>http://www.example.com<span class="pl-pds">"</span></span> ).value();
<span class="pl-en">assert</span>(u1.fragment().empty());
<span class="pl-en">assert</span>(!u1.has_fragment());</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">for both empty and absent components</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="url_view u2 = parse_uri( &quot;http://www.example.com/#&quot; ).value();
assert(u2.fragment().empty());
assert(u2.has_fragment());"><pre>url_view u2 = parse_uri( <span class="pl-s"><span class="pl-pds">"</span>http://www.example.com/#<span class="pl-pds">"</span></span> ).value();
<span class="pl-en">assert</span>(u2.fragment().empty());
<span class="pl-en">assert</span>(u2.has_fragment());</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Many components do not have corresponding functions such as
<code>has_authority</code> to check for their existence.
This happens because some URL components are mandatory.</p>
</div>
<div dir="auto">
<p dir="auto">When applicable, the encoded components can also be directly accessed through a <code>string_view</code> without any need to allocate memory:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="std::cout &lt;&lt;
    &quot;url       : &quot; &lt;&lt; u                     &lt;&lt; &quot;\n&quot;
    &quot;scheme    : &quot; &lt;&lt; u.scheme()            &lt;&lt; &quot;\n&quot;
    &quot;authority : &quot; &lt;&lt; u.encoded_authority() &lt;&lt; &quot;\n&quot;
    &quot;userinfo  : &quot; &lt;&lt; u.encoded_userinfo()  &lt;&lt; &quot;\n&quot;
    &quot;user      : &quot; &lt;&lt; u.encoded_user()      &lt;&lt; &quot;\n&quot;
    &quot;password  : &quot; &lt;&lt; u.encoded_password()  &lt;&lt; &quot;\n&quot;
    &quot;host      : &quot; &lt;&lt; u.encoded_host()      &lt;&lt; &quot;\n&quot;
    &quot;port      : &quot; &lt;&lt; u.port()              &lt;&lt; &quot;\n&quot;
    &quot;path      : &quot; &lt;&lt; u.encoded_path()      &lt;&lt; &quot;\n&quot;
    &quot;query     : &quot; &lt;&lt; u.encoded_query()     &lt;&lt; &quot;\n&quot;
    &quot;fragment  : &quot; &lt;&lt; u.encoded_fragment()  &lt;&lt; &quot;\n&quot;;"><pre>std::cout &lt;&lt;
    <span class="pl-s"><span class="pl-pds">"</span>url       : <span class="pl-pds">"</span></span> &lt;&lt; u                     &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>scheme    : <span class="pl-pds">"</span></span> &lt;&lt; u.scheme()            &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>authority : <span class="pl-pds">"</span></span> &lt;&lt; u.encoded_authority() &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>userinfo  : <span class="pl-pds">"</span></span> &lt;&lt; u.encoded_userinfo()  &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>user      : <span class="pl-pds">"</span></span> &lt;&lt; u.encoded_user()      &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>password  : <span class="pl-pds">"</span></span> &lt;&lt; u.encoded_password()  &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>host      : <span class="pl-pds">"</span></span> &lt;&lt; u.encoded_host()      &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>port      : <span class="pl-pds">"</span></span> &lt;&lt; u.port()              &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>path      : <span class="pl-pds">"</span></span> &lt;&lt; u.encoded_path()      &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>query     : <span class="pl-pds">"</span></span> &lt;&lt; u.encoded_query()     &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>fragment  : <span class="pl-pds">"</span></span> &lt;&lt; u.encoded_fragment()  &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>;</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The output is:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="url : https://user:pass@example.com:443/path/to/my%2dfile.txt?id=42&amp;name=John%20Doe+Jingleheimer%2DSchmidt#page%20anchor
scheme : https
authority : user:pass@example.com:443
userinfo : user:pass
user : user
password : pass
host : example.com
port : 443
path : /path/to/my%2dfile.txt
query : id=42&amp;name=John%20Doe+Jingleheimer%2DSchmidt
fragment : page%20anchor"><pre class="notranslate"><code>url : https://user:pass@example.com:443/path/to/my%2dfile.txt?id=42&amp;name=John%20Doe+Jingleheimer%2DSchmidt#page%20anchor
scheme : https
authority : user:pass@example.com:443
userinfo : user:pass
user : user
password : pass
host : example.com
port : 443
path : /path/to/my%2dfile.txt
query : id=42&amp;name=John%20Doe+Jingleheimer%2DSchmidt
fragment : page%20anchor</code></pre></div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-percent-encoding" class="heading-element" dir="auto">Percent-Encoding</h3><a id="user-content-percent-encoding" class="anchor" aria-label="Permalink: Percent-Encoding" href="#percent-encoding"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">An instance of <code>decode_view</code> provides a number of functions to persist a decoded string:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="decode_view dv(&quot;id=42&amp;name=John%20Doe%20Jingleheimer%2DSchmidt&quot;);
std::cout &lt;&lt; dv &lt;&lt; &quot;\n&quot;;"><pre>decode_view <span class="pl-en">dv</span>(<span class="pl-s"><span class="pl-pds">"</span>id=42&amp;name=John%20Doe%20Jingleheimer%2DSchmidt<span class="pl-pds">"</span></span>);
std::cout &lt;&lt; dv &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>;</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The output is:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="id=42&amp;name=John Doe Jingleheimer-Schmidt"><pre class="notranslate"><code>id=42&amp;name=John Doe Jingleheimer-Schmidt</code></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><code>decode_view</code> and its decoding functions are designed to perform no memory allocations unless the algorithm where its being used needs the result to be in another container.
The design also permits recycling objects to reuse their memory, and at least minimize the number of allocations by deferring them until the result is in fact needed by the application.</p>
</div>
<div dir="auto">
<p dir="auto">In the example above, the memory owned by <code>str</code> can be reused to store other results.
This is also useful when manipulating URLs:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="u1.set_host(u2.host());"><pre>u1.set_host(u2.host());</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">If <code>u2.host()</code> returned a value type, then two memory allocations would be necessary for this operation.
Another common use case is converting URL path segments into filesystem paths:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="boost::filesystem::path p;
for (auto seg: u.segments())
p.append(seg.begin(), seg.end());
std::cout &lt;&lt; &quot;path: &quot; &lt;&lt; p &lt;&lt; &quot;\n&quot;;"><pre>boost::filesystem::path p;
<span class="pl-k">for</span> (<span class="pl-k">auto</span> seg: u.segments())
p.append(seg.begin(), seg.end());
std::cout &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span>path: <span class="pl-pds">"</span></span> &lt;&lt; p &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>;</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The output is:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="path: &quot;path/to/my-file.txt&quot;"><pre class="notranslate"><code>path: "path/to/my-file.txt"</code></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">In this example, only the internal allocations of <code>filesystem::path</code> need to happen.
In many common use cases, no allocations are necessary at all, such as finding the appropriate route for a URL in a web server:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="auto match = [](
std::vector&lt;std::string&gt; const&amp; route,
url_view u)
{
auto segs = u.segments();
if (route.size() != segs.size())
return false;
return std::equal(
route.begin(),
route.end(),
segs.begin());
};"><pre><span class="pl-k">auto</span> match = [](
std::vector&lt;std::string&gt; <span class="pl-k">const</span>&amp; route,
url_view u)
{
<span class="pl-k">auto</span> segs = u.<span class="pl-c1">segments</span>();
<span class="pl-k">if</span> (route.<span class="pl-c1">size</span>() != segs.<span class="pl-c1">size</span>())
<span class="pl-k">return</span> <span class="pl-c1">false</span>;
<span class="pl-k">return</span> <span class="pl-c1">std::equal</span>(
route.<span class="pl-c1">begin</span>(),
route.<span class="pl-c1">end</span>(),
segs.<span class="pl-c1">begin</span>());
};</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">This allows us to easily match files in the document root directory of a web server:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="std::vector&lt;std::string&gt; route =
{&quot;community&quot;, &quot;reviews.html&quot;};
if (match(route, u))
{
handle_route(route, u);
}"><pre>std::vector&lt;std::string&gt; route =
{<span class="pl-s"><span class="pl-pds">"</span>community<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>reviews.html<span class="pl-pds">"</span></span>};
<span class="pl-k">if</span> (match(route, u))
{
<span class="pl-c1">handle_route</span>(route, u);
}</pre></div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-compound-elements" class="heading-element" dir="auto">Compound elements</h3><a id="user-content-compound-elements" class="anchor" aria-label="Permalink: Compound elements" href="#compound-elements"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The path and query parts of the URL are treated specially by the library.
While they can be accessed as individual encoded strings, they can also be accessed through special view types.</p>
</div>
<div dir="auto">
<p dir="auto">This code calls <code>encoded_segments</code> to obtain the path segments as a container that returns encoded strings:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="segments_view segs = u.encoded_segments();
for( auto v : segs )
{
std::cout &lt;&lt; v &lt;&lt; &quot;\n&quot;;
}"><pre>segments_view segs = u.encoded_segments();
<span class="pl-k">for</span>( <span class="pl-k">auto</span> v : segs )
{
std::cout &lt;&lt; v &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>;
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The output is:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="path to my-file.txt"><pre class="notranslate"><code>path to my-file.txt</code></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">As with other <code>url_view</code> functions which return encoded strings, the encoded segments container does not allocate memory.
Instead, it returns views to the corresponding portions of the underlying encoded buffer referenced by the URL.</p>
</div>
<div dir="auto">
<p dir="auto">As with other library functions, <code>decode_view</code> permits accessing elements of composed elements while avoiding memory allocations entirely:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="segments_view segs = u.encoded_segments();
for( pct_string_view v : segs )
{
decode_view dv = *v;
std::cout &lt;&lt; dv &lt;&lt; &quot;\n&quot;;
}"><pre>segments_view segs = u.encoded_segments();
<span class="pl-k">for</span>( pct_string_view v : segs )
{
decode_view dv = *v;
std::cout &lt;&lt; dv &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>;
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The output is:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="path to my-file.txt"><pre class="notranslate"><code>path to my-file.txt</code></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Or with the encoded query parameters:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="params_encoded_view params_ref = u.encoded_params();

for( auto v : params_ref )
{
    decode_view dk(v.key);
    decode_view dv(v.value);
    std::cout &lt;&lt;
        &quot;key = &quot; &lt;&lt; dk &lt;&lt;
        &quot;, value = &quot; &lt;&lt; dv &lt;&lt; &quot;\n&quot;;
}"><pre>params_encoded_view params_ref = u.encoded_params();

<span class="pl-k">for</span>( <span class="pl-k">auto</span> v : params_ref )
{
    decode_view <span class="pl-smi">dk</span>(v.<span class="pl-smi">key</span>);
    decode_view <span class="pl-smi">dv</span>(v.<span class="pl-smi">value</span>);
    std::cout &lt;&lt;
        <span class="pl-s"><span class="pl-pds">"</span>key = <span class="pl-pds">"</span></span> &lt;&lt; dk &lt;&lt;
        <span class="pl-s"><span class="pl-pds">"</span>, value = <span class="pl-pds">"</span></span> &lt;&lt; dv &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>;
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The output is:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="key = id, value = 42
key = name, value = John Doe"><pre class="notranslate"><code>key = id, value = 42
key = name, value = John Doe</code></pre></div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-modifying" class="heading-element" dir="auto">Modifying</h3><a id="user-content-modifying" class="anchor" aria-label="Permalink: Modifying" href="#modifying"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The library provides the containers <code>url</code> and <code>static_url</code> which supporting modification of the URL contents.
A <code>url</code> or <code>static_url</code> must be constructed from an existing <code>url_view</code>.</p>
</div>
<div dir="auto">
<p dir="auto">Unlike the <code>url_view</code>, which does not gain ownership of the underlying character buffer, the <code>url</code> container uses the default allocator to control a resizable character buffer which it owns.</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="url u = parse_uri( s ).value();"><pre>url u = parse_uri( s ).value();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">On the other hand, a <code>static_url</code> has fixed-capacity storage and does not require dynamic memory allocations.</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="static_url&lt;1024&gt; su = parse_uri( s ).value();"><pre>static_url&lt;<span class="pl-c1">1024</span>&gt; su = parse_uri( s ).value();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Objects of type <code>url</code> are <a href="https://en.cppreference.com/w/cpp/concepts/regular" rel="nofollow">std::regular</a>.
Similarly to built-in types, such as <code>int</code>, a <code>url</code> is copyable, movable, assignable, default constructible, and equality comparable.
They support all the inspection functions of <code>url_view</code>, and also provide functions to modify all components of the URL.</p>
</div>
<div dir="auto">
<p dir="auto">Changing the scheme is easy:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="u.set_scheme( &quot;https&quot; );"><pre>u.set_scheme( <span class="pl-s"><span class="pl-pds">"</span>https<span class="pl-pds">"</span></span> );</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Or we can use a predefined constant:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="u.set_scheme_id( scheme::https ); // equivalent to u.set_scheme( &quot;https&quot; );"><pre>u.set_scheme_id( scheme::https ); <span class="pl-c"><span class="pl-c">//</span> equivalent to u.set_scheme( "https" );</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The scheme must be valid, however, or an exception is thrown.
All modifying functions perform validation on their input.</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Attempting to set the URL scheme or port to an invalid string results in an exception.</p>
</li>
<li>
<p dir="auto">Attempting to set other URL components to invalid strings will get the original input properly percent-encoded for that component.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">It is not possible for a <code>url</code> to hold syntactically illegal text.</p>
</div>
<div dir="auto">
<p dir="auto">Modification functions return a reference to the object, so chaining is possible:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="u.set_host_ipv4( ipv4_address( &quot;192.168.0.1&quot; ) )
    .set_port_number( 8080 )
    .remove_userinfo();
std::cout &lt;&lt; u &lt;&lt; &quot;\n&quot;;"><pre>u.set_host_ipv4( ipv4_address( <span class="pl-s"><span class="pl-pds">"</span>192.168.0.1<span class="pl-pds">"</span></span> ) )
    .set_port_number( <span class="pl-c1">8080</span> )
    .remove_userinfo();
std::cout &lt;&lt; u &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>;</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The output is:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="https://192.168.0.1:8080/path/to/my%2dfile.txt?id=42&amp;name=John%20Doe#page%20anchor"><pre class="notranslate"><code>https://192.168.0.1:8080/path/to/my%2dfile.txt?id=42&amp;name=John%20Doe#page%20anchor</code></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">All non-const operations offer the strong exception safety guarantee.</p>
</div>
<div dir="auto">
<p dir="auto">The path segment and query parameter containers returned by a <code>url</code> offer modifiable range functionality, using member functions of the container:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="params_ref p = u.params();
p.replace(p.find(&quot;name&quot;), {&quot;name&quot;, &quot;John Doe&quot;});
std::cout &lt;&lt; u &lt;&lt; &quot;\n&quot;;"><pre>params_ref p = u.params();
p.replace(p.find(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>), {<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>John Doe<span class="pl-pds">"</span></span>});
std::cout &lt;&lt; u &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>;</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The output is:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="https://192.168.0.1:8080/path/to/my%2dfile.txt?id=42&amp;name=Vinnie%20Falco#page%20anchor"><pre class="notranslate"><code>https://192.168.0.1:8080/path/to/my%2dfile.txt?id=42&amp;name=Vinnie%20Falco#page%20anchor</code></pre></div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-formatting" class="heading-element" dir="auto">Formatting</h3><a id="user-content-formatting" class="anchor" aria-label="Permalink: Formatting" href="#formatting"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Algorithms to format URLs construct a mutable URL by parsing and applying arguments to a URL template.
The following example uses the <code>format</code>
function to construct an absolute URL:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="url u = format(&quot;{}://{}:{}/rfc/{}&quot;, &quot;https&quot;, &quot;www.ietf.org&quot;, 80, &quot;rfc2396.txt&quot;);
assert(u.buffer() == &quot;https://www.ietf.org:80/rfc/rfc2396.txt&quot;);"><pre>url u = format(<span class="pl-s"><span class="pl-pds">"</span>{}://{}:{}/rfc/{}<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>https<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>www.ietf.org<span class="pl-pds">"</span></span>, <span class="pl-c1">80</span>, <span class="pl-s"><span class="pl-pds">"</span>rfc2396.txt<span class="pl-pds">"</span></span>);
<span class="pl-en">assert</span>(u.buffer() == "https:<span class="pl-c"><span class="pl-c">//</span>www.ietf.org:80/rfc/rfc2396.txt");</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The rules for a format URL string are the same as for a <code>std::format_string</code>, where replacement fields are delimited by curly braces.
The URL type is inferred from the format string.</p>
</div>
<div dir="auto">
<p dir="auto">The URL components to which replacement fields belong are identified before replacement is applied and any invalid characters for that formatted argument are percent-escaped:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="url u = format(&quot;https://{}/{}&quot;, &quot;www.boost.org&quot;, &quot;Hello world!&quot;);
assert(u.buffer() == &quot;https://www.boost.org/Hello%20world!&quot;);"><pre>url u = format(<span class="pl-s"><span class="pl-pds">"</span>https://{}/{}<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>www.boost.org<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Hello world!<span class="pl-pds">"</span></span>);
<span class="pl-en">assert</span>(u.buffer() == "https:<span class="pl-c"><span class="pl-c">//</span>www.boost.org/Hello%20world!");</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Delimiters in the URL template, such as <code>":"</code>, <code>"//"</code>, <code>"?"</code>, and <code>"#"</code>, unambiguously associate each replacement field to a URL component.
All other characters are normalized to ensure the URL is valid:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="url u = format(&quot;{}:{}&quot;, &quot;mailto&quot;, &quot;someone@example.com&quot;);
assert(u.buffer() == &quot;mailto:someone@example.com&quot;);
assert(u.scheme() == &quot;mailto&quot;);
assert(u.path() == &quot;someone@example.com&quot;);"><pre>url u = format(<span class="pl-s"><span class="pl-pds">"</span>{}:{}<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>mailto<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>someone@example.com<span class="pl-pds">"</span></span>);
<span class="pl-en">assert</span>(u.buffer() == "mailto:someone@example.com");
<span class="pl-en">assert</span>(u.scheme() == "mailto");
<span class="pl-en">assert</span>(u.path() == "someone@example.com");</pre></div>
</div>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="url u = format(&quot;{}{}&quot;, &quot;mailto:&quot;, &quot;someone@example.com&quot;);
assert(u.buffer() == &quot;mailto%3Asomeone@example.com&quot;);
assert(!u.has_scheme());
assert(u.path() == &quot;mailto:someone@example.com&quot;);
assert(u.encoded_path() == &quot;mailto%3Asomeone@example.com&quot;);"><pre>url u = format(<span class="pl-s"><span class="pl-pds">"</span>{}{}<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>mailto:<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>someone@example.com<span class="pl-pds">"</span></span>);
<span class="pl-en">assert</span>(u.buffer() == "mailto%3Asomeone@example.com");
<span class="pl-en">assert</span>(!u.has_scheme());
<span class="pl-en">assert</span>(u.path() == "mailto:someone@example.com");
<span class="pl-en">assert</span>(u.encoded_path() == "mailto%3Asomeone@example.com");</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The function <code>format_to</code> can be used to format URLs into any modifiable URL container.</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="static_url&lt;50&gt; u;
format_to(u, &quot;{}://{}:{}/rfc/{}&quot;, &quot;https&quot;, &quot;www.ietf.org&quot;, 80, &quot;rfc2396.txt&quot;);
assert(u.buffer() == &quot;https://www.ietf.org:80/rfc/rfc2396.txt&quot;);"><pre>static_url&lt;<span class="pl-c1">50</span>&gt; u;
<span class="pl-en">format_to</span>(u, <span class="pl-s"><span class="pl-pds">"</span>{}://{}:{}/rfc/{}<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>https<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>www.ietf.org<span class="pl-pds">"</span></span>, <span class="pl-c1">80</span>, <span class="pl-s"><span class="pl-pds">"</span>rfc2396.txt<span class="pl-pds">"</span></span>);
<span class="pl-en">assert</span>(u.buffer() == "https:<span class="pl-c"><span class="pl-c">//</span>www.ietf.org:80/rfc/rfc2396.txt");</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">As with <code>std::format</code>, positional and named arguments are supported.</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="url u = format(&quot;{0}://{2}:{1}/{3}{4}{3}&quot;, &quot;https&quot;, 80, &quot;www.ietf.org&quot;, &quot;abra&quot;, &quot;cad&quot;);
assert(u.buffer() == &quot;https://www.ietf.org:80/abracadabra&quot;);"><pre>url u = format(<span class="pl-s"><span class="pl-pds">"</span>{0}://{2}:{1}/{3}{4}{3}<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>https<span class="pl-pds">"</span></span>, <span class="pl-c1">80</span>, <span class="pl-s"><span class="pl-pds">"</span>www.ietf.org<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>abra<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>cad<span class="pl-pds">"</span></span>);
<span class="pl-en">assert</span>(u.buffer() == "https:<span class="pl-c"><span class="pl-c">//</span>www.ietf.org:80/abracadabra");</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The <code>arg</code> function can be used to associate names with arguments:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="url u = format(&quot;https://example.com/~{username}&quot;, arg(&quot;username&quot;, &quot;mark&quot;));
assert(u.buffer() == &quot;https://example.com/~mark&quot;);"><pre>url u = format(<span class="pl-s"><span class="pl-pds">"</span>https://example.com/~{username}<span class="pl-pds">"</span></span>, arg(<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>mark<span class="pl-pds">"</span></span>));
<span class="pl-en">assert</span>(u.buffer() == "https:<span class="pl-c"><span class="pl-c">//</span>example.com/~mark");</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">A second overload based on <code>std::initializer_list</code>
is provided for both <code>format</code> and <code>format_to</code>.</p>
</div>
<div dir="auto">
<p dir="auto">These overloads can help with lists of named arguments:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="boost::core::string_view fmt = &quot;{scheme}://{host}:{port}/{dir}/{file}&quot;;
url u = format(fmt, {{&quot;scheme&quot;, &quot;https&quot;}, {&quot;port&quot;, 80}, {&quot;host&quot;, &quot;example.com&quot;}, {&quot;dir&quot;, &quot;path/to&quot;}, {&quot;file&quot;, &quot;file.txt&quot;}});
assert(u.buffer() == &quot;https://example.com:80/path/to/file.txt&quot;);"><pre>boost::core::string_view fmt = <span class="pl-s"><span class="pl-pds">"</span>{scheme}://{host}:{port}/{dir}/{file}<span class="pl-pds">"</span></span>;
url u = format(fmt, {{<span class="pl-s"><span class="pl-pds">"</span>scheme<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>https<span class="pl-pds">"</span></span>}, {<span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span>, <span class="pl-c1">80</span>}, {<span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>example.com<span class="pl-pds">"</span></span>}, {<span class="pl-s"><span class="pl-pds">"</span>dir<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>path/to<span class="pl-pds">"</span></span>}, {<span class="pl-s"><span class="pl-pds">"</span>file<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>file.txt<span class="pl-pds">"</span></span>}});
<span class="pl-en">assert</span>(u.buffer() == "https:<span class="pl-c"><span class="pl-c">//</span>example.com:80/path/to/file.txt");</span></pre></div>
</div>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-documentation" class="heading-element" dir="auto">Documentation</h2><a id="user-content-documentation" class="anchor" aria-label="Permalink: Documentation" href="#documentation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">The complete library documentation is available online at <a href="https://www.boost.org/doc/libs/master/libs/url/doc/html/index.html" rel="nofollow">boost.org</a>.</p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-acknowledgments" class="heading-element" dir="auto">Acknowledgments</h2><a id="user-content-acknowledgments" class="anchor" aria-label="Permalink: Acknowledgments" href="#acknowledgments"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">This library wouldn’t be where it is today without the help of
<a href="https://github.com/pdimov">Peter Dimov</a>, for design advice and general assistance.</p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-license" class="heading-element" dir="auto">License</h2><a id="user-content-license" class="anchor" aria-label="Permalink: License" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">Distributed under the Boost Software License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
<a href="https://www.boost.org/LICENSE_1_0.txt" rel="nofollow">https://www.boost.org/LICENSE_1_0.txt</a>)</p>
</div>
</div>
</div></article></div>