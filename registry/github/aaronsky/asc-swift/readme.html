<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">App Store Connect</h1><a id="user-content-app-store-connect" class="anchor" aria-label="Permalink: App Store Connect" href="#app-store-connect"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://github.com/aaronsky/asc-swift/actions?query=workflow%253A%2522CI%2522"><img src="https://github.com/aaronsky/asc-swift/workflows/CI/badge.svg" alt="Test Status" style="max-width: 100%;"></a></p>
<p dir="auto">A Swift library for accessing Apple's <a href="https://developer.apple.com/documentation/appstoreconnectapi" rel="nofollow">App Store Connect API</a> and <a href="https://developer.apple.com/documentation/enterpriseprogramapi" rel="nofollow">Enterprise Program API</a>.</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import AppStoreConnect
import AppStoreAPI

let privateKey = try JWT.PrivateKey(contentsOf: URL(filePath: &quot;...&quot;))
let client = AppStoreConnectClient(
    authenticator: JWT(
        keyID: &quot;...&quot;,
        issuerID: &quot;...&quot;,
        expiryDuration: 20 * 60, // 20 minutes
        privateKey: privateKey
    )
)

let apps = try await client.send(Resources.v1.apps.get())
print(apps)"><pre><span class="pl-k">import</span> AppStoreConnect
<span class="pl-k">import</span> AppStoreAPI

<span class="pl-k">let</span> <span class="pl-s1">privateKey</span> <span class="pl-c1">=</span> <span class="pl-c1"><span class="pl-k">try</span></span> <span class="pl-smi">JWT</span><span class="pl-kos">.</span><span class="pl-en">PrivateKey</span><span class="pl-kos">(</span>contentsOf<span class="pl-kos">:</span> <span class="pl-en">URL</span><span class="pl-kos">(</span>filePath<span class="pl-kos">:</span> <span class="pl-s">"</span><span class="pl-s">...</span><span class="pl-s">"</span><span class="pl-kos">)</span><span class="pl-kos">)</span>
<span class="pl-k">let</span> <span class="pl-s1">client</span> <span class="pl-c1">=</span> <span class="pl-en">AppStoreConnectClient</span><span class="pl-kos">(</span>
    authenticator<span class="pl-kos">:</span> <span class="pl-en">JWT</span><span class="pl-kos">(</span>
        keyID<span class="pl-kos">:</span> <span class="pl-s">"</span><span class="pl-s">...</span><span class="pl-s">"</span><span class="pl-kos">,</span>
        issuerID<span class="pl-kos">:</span> <span class="pl-s">"</span><span class="pl-s">...</span><span class="pl-s">"</span><span class="pl-kos">,</span>
        expiryDuration<span class="pl-kos">:</span> <span class="pl-c1">20</span> <span class="pl-c1">*</span> <span class="pl-c1">60</span><span class="pl-kos">,</span> // 20 minutes
        privateKey<span class="pl-kos">:</span> privateKey
    <span class="pl-kos">)</span>
<span class="pl-kos">)</span>

<span class="pl-k">let</span> <span class="pl-s1">apps</span> <span class="pl-c1">=</span> <span class="pl-c1"><span class="pl-k">try</span></span> <span class="pl-k">await</span> client<span class="pl-kos">.</span><span class="pl-en">send</span><span class="pl-kos">(</span><span class="pl-smi">Resources</span><span class="pl-kos">.</span>v1<span class="pl-kos">.</span>apps<span class="pl-kos">.</span><span class="pl-en">get</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">)</span>
<span class="pl-en">print</span><span class="pl-kos">(</span>apps<span class="pl-kos">)</span></pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Installation</h2><a id="user-content-installation" class="anchor" aria-label="Permalink: Installation" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This project supports Swift 6.0 and higher, and has minimum requirements of iOS 16, macOS 13, tvOS 16, and watchOS 9. It strives to be fully supported for deployment on all other platforms outlined by Swift.org <a href="https://www.swift.org/platform-support/#deployment-only" rel="nofollow">Platform Support page</a>, such as the various Linux flavors and Windows. App Store Connect API version 4.0 and Enterprise Program 1.0 are supported.</p>
<p dir="auto">The package defines two products: <code>AppStoreConnect</code> and <code>EnterpriseProgram</code>. Each product provides the <code>AppStoreConnect</code> module, which contains the client and authentication logic, and either the <code>AppStoreAPI</code> or <code>EnterpriseAPI</code> modules, respectively. To integrate with App Store Connect, you would add a dependency on the <code>"AppStoreConnect"</code> product. To use the Enterprise Program API, add the <code>"EnterpriseProgram"</code> product as a target dependency instead. Finally, both products can be made dependencies of the same target without significant conflict. See the <a href="/Examples/invite_user/InviteUser.swift">invite_user</a> sample for a rough example of this.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Swift Package Manager</h3><a id="user-content-swift-package-manager" class="anchor" aria-label="Permalink: Swift Package Manager" href="#swift-package-manager"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">To use <code>AppStoreConnect</code> in your project, add the following line to the dependencies in your <code>Package.swift</code> file:</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content=".package(url: &quot;https://github.com/aaronsky/asc-swift&quot;, from: &quot;1.0.0&quot;),"><pre><span class="pl-kos">.</span><span class="pl-k">package</span><span class="pl-kos">(</span>url<span class="pl-kos">:</span> <span class="pl-s">"</span><span class="pl-s">https://github.com/aaronsky/asc-swift</span><span class="pl-s">"</span><span class="pl-kos">,</span> from<span class="pl-kos">:</span> <span class="pl-s">"</span><span class="pl-s">1.0.0</span><span class="pl-s">"</span><span class="pl-kos">)</span><span class="pl-kos">,</span></pre></div>
<p dir="auto">Then, include <code>"AppStoreConnect"</code> as a dependency of your target:</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content=".target(name: &quot;&lt;target&gt;&quot;, dependencies: [
    .product(name: &quot;AppStoreConnect&quot;, package: &quot;AppStoreConnect&quot;),
]),"><pre><span class="pl-kos">.</span>target<span class="pl-kos">(</span>name<span class="pl-kos">:</span> <span class="pl-s">"</span><span class="pl-s">&lt;target&gt;</span><span class="pl-s">"</span><span class="pl-kos">,</span> dependencies<span class="pl-kos">:</span> <span class="pl-kos">[</span>
    <span class="pl-kos">.</span>product<span class="pl-kos">(</span>name<span class="pl-kos">:</span> <span class="pl-s">"</span><span class="pl-s">AppStoreConnect</span><span class="pl-s">"</span><span class="pl-kos">,</span> <span class="pl-k">package</span><span class="pl-kos">:</span> <span class="pl-s">"</span><span class="pl-s">AppStoreConnect</span><span class="pl-s">"</span><span class="pl-kos">)</span><span class="pl-kos">,</span>
<span class="pl-kos">]</span><span class="pl-kos">)</span><span class="pl-kos">,</span></pre></div>
<p dir="auto">Finally, add <code>import AppStoreConnect</code> to your code to import the client, and <code>import AppStoreAPI</code> to import the API bindings.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Bazel</h3><a id="user-content-bazel" class="anchor" aria-label="Permalink: Bazel" href="#bazel"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This project is available on the <a href="https://registry.bazel.build/modules/asc_swift" rel="nofollow">Bazel Central Registry</a>. Much like other modules there, all that's required to add the dependency is to insert the following line into your <code>MODULE.bazel</code>. Note that this requires your project to be using <a href="https://bazel.build/external/overview#bzlmod" rel="nofollow">Bzlmod</a>.</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="bazel_dep(name = &quot;asc_swift&quot;, version = &quot;&lt;version&gt;&quot;)"><pre><span class="pl-en">bazel_dep</span>(<span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"asc_swift"</span>, <span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"&lt;version&gt;"</span>)</pre></div>
<p dir="auto">An example of how to set this up can be found in <a href="/Examples/bzlmod/MODULE.bazel"><code>Examples/bzlmod</code></a>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Usage</h2><a id="user-content-usage" class="anchor" aria-label="Permalink: Usage" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Authentication</h3><a id="user-content-authentication" class="anchor" aria-label="Permalink: Authentication" href="#authentication"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Neither the App Store Connect API nor Enterprise Program API have any methods that allow for unauthorized requests. To make it easy to authenticate with App Store Connect, this library offers the aforementioned <code>JWT</code> type to handle signing and rotating JSON Web Tokens automatically when they expire. For example:</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import AppStoreConnect

let privateKey = try JWT.PrivateKey(contentsOf: URL(filePath: &quot;...&quot;))
let client = AppStoreConnectClient(
    authenticator: JWT(
        keyID: &quot;...&quot;,
        issuerID: &quot;...&quot;,
        expiryDuration: 20 * 60, // 20 minutes
        privateKey: privateKey
    )
)"><pre><span class="pl-k">import</span> AppStoreConnect

<span class="pl-k">let</span> <span class="pl-s1">privateKey</span> <span class="pl-c1">=</span> <span class="pl-c1"><span class="pl-k">try</span></span> <span class="pl-smi">JWT</span><span class="pl-kos">.</span><span class="pl-en">PrivateKey</span><span class="pl-kos">(</span>contentsOf<span class="pl-kos">:</span> <span class="pl-en">URL</span><span class="pl-kos">(</span>filePath<span class="pl-kos">:</span> <span class="pl-s">"</span><span class="pl-s">...</span><span class="pl-s">"</span><span class="pl-kos">)</span><span class="pl-kos">)</span>
<span class="pl-k">let</span> <span class="pl-s1">client</span> <span class="pl-c1">=</span> <span class="pl-en">AppStoreConnectClient</span><span class="pl-kos">(</span>
    authenticator<span class="pl-kos">:</span> <span class="pl-en">JWT</span><span class="pl-kos">(</span>
        keyID<span class="pl-kos">:</span> <span class="pl-s">"</span><span class="pl-s">...</span><span class="pl-s">"</span><span class="pl-kos">,</span>
        issuerID<span class="pl-kos">:</span> <span class="pl-s">"</span><span class="pl-s">...</span><span class="pl-s">"</span><span class="pl-kos">,</span>
        expiryDuration<span class="pl-kos">:</span> <span class="pl-c1">20</span> <span class="pl-c1">*</span> <span class="pl-c1">60</span><span class="pl-kos">,</span> // 20 minutes
        privateKey<span class="pl-kos">:</span> privateKey
    <span class="pl-kos">)</span>
<span class="pl-kos">)</span></pre></div>
<div class="markdown-alert markdown-alert-note" dir="auto"><p class="markdown-alert-title" dir="auto"><svg class="octicon octicon-info mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p><p dir="auto"><code>JWT</code> instances are bound to the API they are intended for, as credentials are not portable between teams. The designated default is the App Store Connect API. To use the Enterprise Program API, provide <code>api: .enterpriseProgram</code> as the first argument to the <code>JWT</code> initializer.</p>
</div>
<p dir="auto">You can learn more about creating the necessary credentials for the App Store Connect API at Apple's documentation page via <a href="https://developer.apple.com/documentation/appstoreconnectapi/creating_api_keys_for_app_store_connect_api" rel="nofollow">Creating API Keys for App Store Connect API</a>, or the corresponding Enterprise Program API documentation <a href="https://developer.apple.com/documentation/enterpriseprogramapi/creating-api-keys-for-enterprise-program-api" rel="nofollow">here</a>. All App Store Connect and Enterprise Program APIs are scoped to the credentials of the pre-configured key, so you can't use this API to make queries against the entire App Store.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Handling Errors and Rate Limiting</h3><a id="user-content-handling-errors-and-rate-limiting" class="anchor" aria-label="Permalink: Handling Errors and Rate Limiting" href="#handling-errors-and-rate-limiting"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">In many cases where the API would respond with an error, the API will include an <code>ErrorResponse</code> object describing the failure in detail. This object also contains properties that can be used to diagnose the root cause of issues if they are due to malformed requests. If the API responds with an error, <code>AppStoreConnectClient</code> will throw <code>Response.Error.requestFailure</code> for your consideration. This error contains the <code>ErrorResponse</code> returned from the API, the HTTP status code, and the underlying response.</p>
<p dir="auto">Additionally, Apple imposes a rate limit on all API clients. If the API produces a rate limit error, <code>AppStoreConnectClient</code> will throw <code>Response.Error.rateLimitExceeded</code> for your convenience. This error contains the <code>ErrorResponse</code> returned from the API, a <code>Response.Rate</code> containing call limit and remaining call information, and the underlying response.</p>
<p dir="auto">For example:</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="do {
    let apps = try await client.send(Resources.v1.apps.get())
} catch Response.Error.requestFailure(let error, let statusCode, let response) {
    print(&quot;Received an error: \(error)&quot;)
} catch Response.Error.rateLimitExceeded(let error, let rate, let response) {
    print(&quot;Client has exceeded the rate limit&quot;)
} catch {
    print(&quot;An unexpected error occurred: \(error.localizedDescription)&quot;)
}"><pre><span class="pl-k">do</span> <span class="pl-kos">{</span>
    <span class="pl-k">let</span> <span class="pl-s1">apps</span> <span class="pl-c1">=</span> <span class="pl-c1"><span class="pl-k">try</span></span> <span class="pl-k">await</span> client<span class="pl-kos">.</span><span class="pl-en">send</span><span class="pl-kos">(</span><span class="pl-smi">Resources</span><span class="pl-kos">.</span>v1<span class="pl-kos">.</span>apps<span class="pl-kos">.</span><span class="pl-en">get</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span> <span class="pl-k">catch</span> <span class="pl-smi">Response</span><span class="pl-kos">.</span><span class="pl-smi">Error</span><span class="pl-kos">.</span>requestFailure<span class="pl-kos">(</span><span class="pl-s1"><span class="pl-k">let</span> error</span><span class="pl-kos">,</span> <span class="pl-s1"><span class="pl-k">let</span> statusCode</span><span class="pl-kos">,</span> <span class="pl-s1"><span class="pl-k">let</span> response</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-en">print</span><span class="pl-kos">(</span><span class="pl-s">"</span><span class="pl-s">Received an error: </span><span class="pl-kos">\(</span>error<span class="pl-kos">)</span><span class="pl-s">"</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span> <span class="pl-k">catch</span> <span class="pl-smi">Response</span><span class="pl-kos">.</span><span class="pl-smi">Error</span><span class="pl-kos">.</span>rateLimitExceeded<span class="pl-kos">(</span><span class="pl-s1"><span class="pl-k">let</span> error</span><span class="pl-kos">,</span> <span class="pl-s1"><span class="pl-k">let</span> rate</span><span class="pl-kos">,</span> <span class="pl-s1"><span class="pl-k">let</span> response</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-en">print</span><span class="pl-kos">(</span><span class="pl-s">"</span><span class="pl-s">Client has exceeded the rate limit</span><span class="pl-s">"</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span> <span class="pl-k">catch</span> <span class="pl-kos">{</span>
    <span class="pl-en">print</span><span class="pl-kos">(</span><span class="pl-s">"</span><span class="pl-s">An unexpected error occurred: </span><span class="pl-kos">\(</span>error<span class="pl-kos">.</span>localizedDescription<span class="pl-kos">)</span><span class="pl-s">"</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span></pre></div>
<p dir="auto">You can learn more about how to handle errors from the App Store Connect API at Apple's documentation page via <a href="https://developer.apple.com/documentation/appstoreconnectapi/interpreting_and_handling_errors" rel="nofollow">Interpreting and Handling Errors</a>. You can learn more about rate limiting at Apple's documentation page via <a href="https://developer.apple.com/documentation/appstoreconnectapi/identifying_rate_limits" rel="nofollow">Identifying Rate Limits</a>. Corresponding documentation for the Enterprise Program API can be found <a href="https://developer.apple.com/documentation/enterpriseprogramapi/interpreting-and-handling-errors" rel="nofollow">here</a> and <a href="https://developer.apple.com/documentation/enterpriseprogramapi/identifying-rate-limits" rel="nofollow">here</a>, respectively.</p>
<p dir="auto">Finally, <code>AppStoreConnectClient</code> can automatically retry API errors with a status code of 500. Pass a <code>RetryStrategy</code> value to the <code>retry:</code> parameter on any <code>AppStoreConnectClient</code> method. Supported values are <code>.never</code> (default), <code>.fixedInterval</code>, <code>.exponentialBackoff</code>, or a <code>.custom</code> handler.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Paging Large Data Sets</h3><a id="user-content-paging-large-data-sets" class="anchor" aria-label="Permalink: Paging Large Data Sets" href="#paging-large-data-sets"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">All requests for resource collections (apps, builds, beta groups, etc.) support pagination. Responses for paginated resources will contain a <code>links</code> property of type <code>PagedDocumentLinks</code>, with "reference" URLs for <code>first</code>, <code>next</code>, and <code>self</code>. You can also find more information about the per-page limit and total count of resources in the response's <code>meta</code> field of type <code>PagingInformation</code>. You typically shouldn't require any of this information for typical pagination.</p>
<p dir="auto">The most common application for pagination is paging forward from the first "page". For example:</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="for try await appsPage in client.pages(Resources.v1.apps.get()) {
    print(appsPage)
}"><pre><span class="pl-k">for</span> <span class="pl-c1"><span class="pl-k">try</span></span> <span class="pl-k">await</span> <span class="pl-s1">appsPage</span> <span class="pl-k">in</span> client<span class="pl-kos">.</span><span class="pl-en">pages</span><span class="pl-kos">(</span><span class="pl-smi">Resources</span><span class="pl-kos">.</span>v1<span class="pl-kos">.</span>apps<span class="pl-kos">.</span><span class="pl-en">get</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-en">print</span><span class="pl-kos">(</span>appsPage<span class="pl-kos">)</span>
<span class="pl-kos">}</span></pre></div>
<p dir="auto">You can also page forward manually using the <code>send(_:pageAfter:retry:)</code> method on <code>AppStoreConnectClient</code>.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Uploading Assets</h3><a id="user-content-uploading-assets" class="anchor" aria-label="Permalink: Uploading Assets" href="#uploading-assets"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">App Store Connect employs a three-step process to upload assets such as previews, screenshots, and routing coverage files as app metadata. The process can be described from a high level as:</p>
<ol dir="auto">
<li>Make a reservation for the asset</li>
<li>Upload the asset in chunks defined by the API</li>
<li>Commit the reservation</li>
</ol>
<p dir="auto">The process has several fault points and is outlined in detail on Apple's documentation page, <a href="https://developer.apple.com/documentation/appstoreconnectapi/uploading_assets_to_app_store_connect" rel="nofollow">Uploading Assets to App Store Connect</a>. This library includes two examples of how to upload assets, <a href="./Examples/upload_preview/UploadPreview.swift"><code>upload_preview</code></a> and <a href="./Examples/upload_screenshot/UploadScreenshot.swift"><code>upload_screenshot</code></a>, as well as <a href="./Sources/AppStoreConnect/AppStoreConnect.docc/Articles/UploadingFiles.md">one detailed article</a>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Contributing</h2><a id="user-content-contributing" class="anchor" aria-label="Permalink: Contributing" href="#contributing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This project's primary goal is to cover the entire API surface exposed by the official App Store Connect API and Enterprise Program API. Otherwise, it's being developed to aid in internal application development by the authors. Therefore, until the package's version stabilizes with v1, there isn't a strong roadmap beyond those stated goals. However, contributions are always welcome. If you want to get involved or you just want to offer feedback, please see <a href="https://github.com/aaronsky/asc-swift/blob/main/.github/CONTRIBUTING.md"><code>CONTRIBUTING.md</code></a> for details.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">License</h2><a id="user-content-license" class="anchor" aria-label="Permalink: License" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This library is released under the BSD-2 license.</p>
<p dir="auto">See <a href="https://github.com/aaronsky/asc-swift/blob/master/LICENSE">LICENSE</a> for the full text.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Credits</h2><a id="user-content-credits" class="anchor" aria-label="Permalink: Credits" href="#credits"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The technical direction of this library was driven by prior work on <a href="https://github.com/cidertool/asc-go">asc-go</a> and <a href="https://github.com/aaronsky/appstoreconnect">appstoreconnect</a>, as well as a fully-fledged example produced by <a href="https://github.com/AvdLee">@AvdLee</a> et al. in <a href="https://github.com/AvdLee/appstoreconnect-swift-sdk">appstoreconnect-swift-sdk</a>. Client design was driven by prior work on <a href="https://github.com/aaronsky/buildkite-swift">buildkite-swift</a> and <a href="https://github.com/aaronsky/wanikani-swift">wanikani-swift</a>. App Store Connect, the App Store Connect API, and the Enterprise Program API are property of Apple.</p>
</article></div>