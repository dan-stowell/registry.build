<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Yams</h1><a id="user-content-yams" class="anchor" aria-label="Permalink: Yams" href="#yams"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/jpsim/Yams/main/yams.jpg"><img src="https://raw.githubusercontent.com/jpsim/Yams/main/yams.jpg" alt="Yams" style="max-width: 100%;"></a></p>
<p dir="auto">A sweet and swifty <a href="http://yaml.org/" rel="nofollow">YAML</a> parser built on
<a href="https://github.com/yaml/libyaml">LibYAML</a>.</p>
<p dir="auto"><a href="https://github.com/jpsim/Yams/actions?query=workflow%3ASwiftPM"><img src="https://github.com/jpsim/Yams/workflows/SwiftPM/badge.svg" alt="SwiftPM" style="max-width: 100%;"></a>
<a href="https://github.com/jpsim/Yams/actions?query=workflow%3Axcodebuild"><img src="https://github.com/jpsim/Yams/workflows/xcodebuild/badge.svg" alt="xcodebuild" style="max-width: 100%;"></a>
<a href="https://github.com/jpsim/Yams/actions?query=workflow%3A%22pod+lib+lint%22"><img src="https://github.com/jpsim/Yams/workflows/pod%20lib%20lint/badge.svg" alt="pod lib lint" style="max-width: 100%;"></a>
<a href="https://github.com/jpsim/Yams/actions?query=workflow%3ANightly"><img src="https://github.com/jpsim/Yams/workflows/Nightly/badge.svg" alt="Nightly" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/jpsim/Yams" rel="nofollow"><img src="https://camo.githubusercontent.com/fc6dc564fb859f113b5a4a19dec8e3f8842c7d6fea8bfafdfe1b3060fcda137e/68747470733a2f2f636f6465636f762e696f2f67682f6a7073696d2f59616d732f6272616e63682f6d61696e2f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/jpsim/Yams/branch/main/graph/badge.svg" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Installation</h2><a id="user-content-installation" class="anchor" aria-label="Permalink: Installation" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Building Yams requires Xcode 14.0+ or a Swift 5.7+ toolchain with the
Swift Package Manager or CMake and Ninja.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">CMake</h3><a id="user-content-cmake" class="anchor" aria-label="Permalink: CMake" href="#cmake"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">CMake 3.17.2 or newer is required, along with Ninja 1.9.0 or newer.</p>
<p dir="auto">When building for non-Apple platforms:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cmake -B /path/to/build -G Ninja -S /path/to/yams -DCMAKE_BUILD_TYPE=Release -DFoundation_DIR=/path/to/foundation/build/cmake/modules
cmake --build /path/to/build"><pre class="notranslate"><code>cmake -B /path/to/build -G Ninja -S /path/to/yams -DCMAKE_BUILD_TYPE=Release -DFoundation_DIR=/path/to/foundation/build/cmake/modules
cmake --build /path/to/build
</code></pre></div>
<p dir="auto">To build for Apple platforms (macOS, iOS, tvOS, watchOS), there is no
need to separately build Foundation because it is included as part of
the SDK:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cmake -B /path/to/build -G Ninja -S /path/to/yams -DCMAKE_BUILD_TYPE=Release
cmake --build /path/to/build"><pre class="notranslate"><code>cmake -B /path/to/build -G Ninja -S /path/to/yams -DCMAKE_BUILD_TYPE=Release
cmake --build /path/to/build
</code></pre></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Swift Package Manager</h3><a id="user-content-swift-package-manager" class="anchor" aria-label="Permalink: Swift Package Manager" href="#swift-package-manager"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Add <code>.package(url: "https://github.com/jpsim/Yams.git", from: "6.0.1")</code> to your
<code>Package.swift</code> file's <code>dependencies</code>.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">CocoaPods</h3><a id="user-content-cocoapods" class="anchor" aria-label="Permalink: CocoaPods" href="#cocoapods"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Add <code>pod 'Yams'</code> to your <code>Podfile</code>.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Carthage</h3><a id="user-content-carthage" class="anchor" aria-label="Permalink: Carthage" href="#carthage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Add <code>github "jpsim/Yams"</code> to your <code>Cartfile</code>.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Bazel</h3><a id="user-content-bazel" class="anchor" aria-label="Permalink: Bazel" href="#bazel"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">In your WORKSPACE file</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="YAMS_GIT_SHA = &quot;SOME_SHA&quot;
http_archive(
    name = &quot;com_github_jpsim_yams&quot;,
    urls = [
        &quot;https://github.com/jpsim/Yams/archive/%s.zip&quot; % YAMS_GIT_SHA,
    ],
    strip_prefix = &quot;Yams-%s&quot; % YAMS_GIT_SHA,
)"><pre lang="WORKSPACE" class="notranslate"><code>YAMS_GIT_SHA = "SOME_SHA"
http_archive(
    name = "com_github_jpsim_yams",
    urls = [
        "https://github.com/jpsim/Yams/archive/%s.zip" % YAMS_GIT_SHA,
    ],
    strip_prefix = "Yams-%s" % YAMS_GIT_SHA,
)
</code></pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Usage</h2><a id="user-content-usage" class="anchor" aria-label="Permalink: Usage" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Yams has three groups of conversion APIs:
one for use with <a href="#codable-types"><code>Codable</code> types</a>,
another for <a href="#swift-standard-library-types">Swift Standard Library types</a>,
and a third one for a <a href="#yamsnode">Yams-native</a> representation.</p>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto"><code>Codable</code> types</h4><a id="user-content-codable-types" class="anchor" aria-label="Permalink: Codable types" href="#codable-types"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>Codable is an <a href="https://developer.apple.com/documentation/foundation/archives_and_serialization/encoding_and_decoding_custom_types" rel="nofollow">encoding &amp; decoding strategy introduced in Swift 4</a>
enabling easy conversion between YAML and other Encoders like
<a href="https://developer.apple.com/documentation/foundation/jsonencoder" rel="nofollow">JSONEncoder</a> and <a href="https://developer.apple.com/documentation/foundation/propertylistencoder" rel="nofollow">PropertyListEncoder</a>.</li>
<li>Lowest computational overhead, equivalent to <code>Yams.Node</code>.</li>
<li><strong>Encoding: <code>YAMLEncoder.encode(_:)</code></strong>
Produces a YAML <code>String</code> from an instance of type conforming to <code>Encodable</code>.</li>
<li><strong>Decoding: <code>YAMLDecoder.decode(_:from:)</code></strong>
Decodes an instance of type conforming to <code>Decodable</code> from YAML <code>String</code> or
<code>Data</code>.</li>
</ul>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import Foundation
import Yams

struct S: Codable {
    var p: String
}

let s = S(p: &quot;test&quot;)
let encoder = YAMLEncoder()
let encodedYAML = try encoder.encode(s)
encodedYAML == &quot;&quot;&quot;
p: test

&quot;&quot;&quot;
let decoder = YAMLDecoder()
let decoded = try decoder.decode(S.self, from: encodedYAML)
s.p == decoded.p"><pre><span class="pl-k">import</span> Foundation
<span class="pl-k">import</span> Yams

<span class="pl-k">struct</span> <span class="pl-smi">S</span><span class="pl-kos">:</span> <span class="pl-smi">Codable</span> <span class="pl-kos">{</span>
    <span class="pl-k">var</span> <span class="pl-s1"><span class="pl-c1">p</span></span><span class="pl-kos">:</span> <span class="pl-smi">String</span>
<span class="pl-kos">}</span>

<span class="pl-k">let</span> <span class="pl-s1">s</span> <span class="pl-c1">=</span> <span class="pl-en">S</span><span class="pl-kos">(</span>p<span class="pl-kos">:</span> <span class="pl-s">"</span><span class="pl-s">test</span><span class="pl-s">"</span><span class="pl-kos">)</span>
<span class="pl-k">let</span> <span class="pl-s1">encoder</span> <span class="pl-c1">=</span> <span class="pl-en">YAMLEncoder</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
<span class="pl-k">let</span> <span class="pl-s1">encodedYAML</span> <span class="pl-c1">=</span> <span class="pl-c1"><span class="pl-k">try</span></span> encoder<span class="pl-kos">.</span><span class="pl-en">encode</span><span class="pl-kos">(</span>s<span class="pl-kos">)</span>
encodedYAML <span class="pl-c1">==</span> <span class="pl-s">"""</span><span class="pl-s"></span>
<span class="pl-s">p: test</span>
<span class="pl-s"></span>
<span class="pl-s"></span><span class="pl-s">"""</span>
<span class="pl-k">let</span> <span class="pl-s1">decoder</span> <span class="pl-c1">=</span> <span class="pl-en">YAMLDecoder</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
<span class="pl-k">let</span> <span class="pl-s1">decoded</span> <span class="pl-c1">=</span> <span class="pl-c1"><span class="pl-k">try</span></span> decoder<span class="pl-kos">.</span><span class="pl-en">decode</span><span class="pl-kos">(</span><span class="pl-smi">S</span><span class="pl-kos">.</span>self<span class="pl-kos">,</span> from<span class="pl-kos">:</span> encodedYAML<span class="pl-kos">)</span>
s<span class="pl-kos">.</span>p <span class="pl-c1">==</span> decoded<span class="pl-kos">.</span>p</pre></div>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">Swift Standard Library types</h4><a id="user-content-swift-standard-library-types" class="anchor" aria-label="Permalink: Swift Standard Library types" href="#swift-standard-library-types"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>The type of Swift Standard Library is inferred from the contents of the
internal <code>Yams.Node</code> representation by matching regular expressions.</li>
<li>This method has the largest computational overhead When decoding YAML, because
the type inference of all objects is done up-front.</li>
<li>It may be easier to use in such a way as to handle objects created from
<code>JSONSerialization</code> or if the input is already standard library types
(<code>Any</code>, <code>Dictionary</code>, <code>Array</code>, etc.).</li>
<li><strong>Encoding: <code>Yams.dump(object:)</code></strong>
Produces a YAML <code>String</code> from an instance of Swift Standard Library types.</li>
<li><strong>Decoding: <code>Yams.load(yaml:)</code></strong>
Produces an instance of Swift Standard Library types as <code>Any</code> from YAML
<code>String</code>.</li>
</ul>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// [String: Any]
let dictionary: [String: Any] = [&quot;key&quot;: &quot;value&quot;]
let mapYAML: String = try Yams.dump(object: dictionary)
mapYAML == &quot;&quot;&quot;
key: value

&quot;&quot;&quot;
let loadedDictionary = try Yams.load(yaml: mapYAML) as? [String: Any]

// [Any]
let array: [Int] = [1, 2, 3]
let sequenceYAML: String = try Yams.dump(object: array)
sequenceYAML == &quot;&quot;&quot;
- 1
- 2
- 3

&quot;&quot;&quot;
let loadedArray: [Int]? = try Yams.load(yaml: sequenceYAML) as? [Int]

// Any
let string = &quot;string&quot;
let scalarYAML: String = try Yams.dump(object: string)
scalarYAML == &quot;&quot;&quot;
string

&quot;&quot;&quot;
let loadedString: String? = try Yams.load(yaml: scalarYAML) as? String"><pre>// [String: Any]
<span class="pl-k">let</span> <span class="pl-s1">dictionary</span><span class="pl-kos">:</span> <span class="pl-kos">[</span><span class="pl-smi">String</span><span class="pl-kos">:</span> <span class="pl-smi">Any</span><span class="pl-kos">]</span> <span class="pl-c1">=</span> <span class="pl-kos">[</span><span class="pl-s">"</span><span class="pl-s">key</span><span class="pl-s">"</span><span class="pl-kos">:</span> <span class="pl-s">"</span><span class="pl-s">value</span><span class="pl-s">"</span><span class="pl-kos">]</span>
<span class="pl-k">let</span> <span class="pl-s1">mapYAML</span><span class="pl-kos">:</span> <span class="pl-smi">String</span> <span class="pl-c1">=</span> <span class="pl-c1"><span class="pl-k">try</span></span> <span class="pl-smi">Yams</span><span class="pl-kos">.</span><span class="pl-en">dump</span><span class="pl-kos">(</span>object<span class="pl-kos">:</span> dictionary<span class="pl-kos">)</span>
mapYAML <span class="pl-c1">==</span> <span class="pl-s">"""</span><span class="pl-s"></span>
<span class="pl-s">key: value</span>
<span class="pl-s"></span>
<span class="pl-s"></span><span class="pl-s">"""</span>
<span class="pl-k">let</span> <span class="pl-s1">loadedDictionary</span> <span class="pl-c1">=</span> <span class="pl-c1"><span class="pl-k">try</span></span> <span class="pl-smi">Yams</span><span class="pl-kos">.</span><span class="pl-en">load</span><span class="pl-kos">(</span>yaml<span class="pl-kos">:</span> mapYAML<span class="pl-kos">)</span> <span class="pl-k">as?</span> <span class="pl-kos">[</span><span class="pl-smi">String</span><span class="pl-kos">:</span> <span class="pl-smi">Any</span><span class="pl-kos">]</span>

// [Any]
<span class="pl-k">let</span> <span class="pl-s1">array</span><span class="pl-kos">:</span> <span class="pl-kos">[</span><span class="pl-smi">Int</span><span class="pl-kos">]</span> <span class="pl-c1">=</span> <span class="pl-kos">[</span><span class="pl-c1">1</span><span class="pl-kos">,</span> <span class="pl-c1">2</span><span class="pl-kos">,</span> <span class="pl-c1">3</span><span class="pl-kos">]</span>
<span class="pl-k">let</span> <span class="pl-s1">sequenceYAML</span><span class="pl-kos">:</span> <span class="pl-smi">String</span> <span class="pl-c1">=</span> <span class="pl-c1"><span class="pl-k">try</span></span> <span class="pl-smi">Yams</span><span class="pl-kos">.</span><span class="pl-en">dump</span><span class="pl-kos">(</span>object<span class="pl-kos">:</span> array<span class="pl-kos">)</span>
sequenceYAML <span class="pl-c1">==</span> <span class="pl-s">"""</span><span class="pl-s"></span>
<span class="pl-s">- 1</span>
<span class="pl-s">- 2</span>
<span class="pl-s">- 3</span>
<span class="pl-s"></span>
<span class="pl-s"></span><span class="pl-s">"""</span>
<span class="pl-k">let</span> <span class="pl-s1">loadedArray</span><span class="pl-kos">:</span> <span class="pl-kos">[</span><span class="pl-smi">Int</span><span class="pl-kos">]</span><span class="pl-c1"><span class="pl-c1">?</span></span> <span class="pl-c1">=</span> <span class="pl-c1"><span class="pl-k">try</span></span> <span class="pl-smi">Yams</span><span class="pl-kos">.</span><span class="pl-en">load</span><span class="pl-kos">(</span>yaml<span class="pl-kos">:</span> sequenceYAML<span class="pl-kos">)</span> <span class="pl-k">as?</span> <span class="pl-kos">[</span><span class="pl-smi">Int</span><span class="pl-kos">]</span>

// Any
<span class="pl-k">let</span> <span class="pl-s1">string</span> <span class="pl-c1">=</span> <span class="pl-s">"</span><span class="pl-s">string</span><span class="pl-s">"</span>
<span class="pl-k">let</span> <span class="pl-s1">scalarYAML</span><span class="pl-kos">:</span> <span class="pl-smi">String</span> <span class="pl-c1">=</span> <span class="pl-c1"><span class="pl-k">try</span></span> <span class="pl-smi">Yams</span><span class="pl-kos">.</span><span class="pl-en">dump</span><span class="pl-kos">(</span>object<span class="pl-kos">:</span> string<span class="pl-kos">)</span>
scalarYAML <span class="pl-c1">==</span> <span class="pl-s">"""</span><span class="pl-s"></span>
<span class="pl-s">string</span>
<span class="pl-s"></span>
<span class="pl-s"></span><span class="pl-s">"""</span>
<span class="pl-k">let</span> <span class="pl-s1">loadedString</span><span class="pl-kos">:</span> <span class="pl-smi">String</span><span class="pl-c1"><span class="pl-c1">?</span></span> <span class="pl-c1">=</span> <span class="pl-c1"><span class="pl-k">try</span></span> <span class="pl-smi">Yams</span><span class="pl-kos">.</span><span class="pl-en">load</span><span class="pl-kos">(</span>yaml<span class="pl-kos">:</span> scalarYAML<span class="pl-kos">)</span> <span class="pl-k">as?</span> <span class="pl-smi">String</span></pre></div>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto"><code>Yams.Node</code></h4><a id="user-content-yamsnode" class="anchor" aria-label="Permalink: Yams.Node" href="#yamsnode"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>Yams' native model representing <a href="http://www.yaml.org/spec/1.2/spec.html#id2764044" rel="nofollow">Nodes of YAML</a> which provides all
functions such as detection and customization of the YAML format.</li>
<li>Depending on how it is used, computational overhead can be minimized.</li>
<li><strong>Encoding: <code>Yams.serialize(node:)</code></strong>
Produces a YAML <code>String</code> from an instance of <code>Node</code>.</li>
<li><strong>Decoding <code>Yams.compose(yaml:)</code></strong>
Produces an instance of <code>Node</code> from YAML <code>String</code>.</li>
</ul>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="var map: Yams.Node = [
    &quot;array&quot;: [
        1, 2, 3
    ]
]
map.mapping?.style = .flow
map[&quot;array&quot;]?.sequence?.style = .flow
let yaml = try Yams.serialize(node: map)
yaml == &quot;&quot;&quot;
{array: [1, 2, 3]}

&quot;&quot;&quot;
let node = try Yams.compose(yaml: yaml)
map == node"><pre><span class="pl-k">var</span> <span class="pl-s1">map</span><span class="pl-kos">:</span> <span class="pl-smi">Yams</span><span class="pl-kos">.</span><span class="pl-smi">Node</span> <span class="pl-c1">=</span> <span class="pl-kos">[</span>
    <span class="pl-s">"</span><span class="pl-s">array</span><span class="pl-s">"</span><span class="pl-kos">:</span> <span class="pl-kos">[</span>
        <span class="pl-c1">1</span><span class="pl-kos">,</span> <span class="pl-c1">2</span><span class="pl-kos">,</span> <span class="pl-c1">3</span>
    <span class="pl-kos">]</span>
<span class="pl-kos">]</span>
map<span class="pl-kos">.</span>mapping<span class="pl-c1"><span class="pl-c1">?</span></span><span class="pl-kos">.</span>style <span class="pl-c1">=</span> <span class="pl-kos">.</span>flow
<span class="pl-en">map</span><span class="pl-kos">[</span><span class="pl-s">"</span><span class="pl-s">array</span><span class="pl-s">"</span><span class="pl-kos">]</span><span class="pl-c1"><span class="pl-c1">?</span></span><span class="pl-kos">.</span>sequence<span class="pl-c1"><span class="pl-c1">?</span></span><span class="pl-kos">.</span>style <span class="pl-c1">=</span> <span class="pl-kos">.</span>flow
<span class="pl-k">let</span> <span class="pl-s1">yaml</span> <span class="pl-c1">=</span> <span class="pl-c1"><span class="pl-k">try</span></span> <span class="pl-smi">Yams</span><span class="pl-kos">.</span><span class="pl-en">serialize</span><span class="pl-kos">(</span>node<span class="pl-kos">:</span> map<span class="pl-kos">)</span>
yaml <span class="pl-c1">==</span> <span class="pl-s">"""</span><span class="pl-s"></span>
<span class="pl-s">{array: [1, 2, 3]}</span>
<span class="pl-s"></span>
<span class="pl-s"></span><span class="pl-s">"""</span>
<span class="pl-k">let</span> <span class="pl-s1">node</span> <span class="pl-c1">=</span> <span class="pl-c1"><span class="pl-k">try</span></span> <span class="pl-smi">Yams</span><span class="pl-kos">.</span><span class="pl-en">compose</span><span class="pl-kos">(</span>yaml<span class="pl-kos">:</span> yaml<span class="pl-kos">)</span>
map <span class="pl-c1">==</span> node</pre></div>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">Integrating with <a href="https://developer.apple.com/documentation/combine" rel="nofollow">Combine</a></h4><a id="user-content-integrating-with-combine" class="anchor" aria-label="Permalink: Integrating with Combine" href="#integrating-with-combine"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">When Apple's Combine framework is available, <code>YAMLDecoder</code> conforms to the
<code>TopLevelDecoder</code> protocol, which allows it to be used with the
<code>decode(type:decoder:)</code> operator:</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import Combine
import Foundation
import Yams

func fetchBook(from url: URL) -&gt; AnyPublisher&lt;Book, Error&gt; {
    URLSession.shared.dataTaskPublisher(for: url)
        .map(\.data)
        .decode(type: Book.self, decoder: YAMLDecoder())
        .eraseToAnyPublisher()
}"><pre><span class="pl-k">import</span> Combine
<span class="pl-k">import</span> Foundation
<span class="pl-k">import</span> Yams

<span class="pl-en">func</span> fetchBook<span class="pl-kos">(</span>from url<span class="pl-kos">:</span> <span class="pl-smi">URL</span><span class="pl-kos">)</span> <span class="pl-c1">-&gt;</span> <span class="pl-smi">AnyPublisher</span><span class="pl-c1">&lt;</span><span class="pl-smi">Book</span><span class="pl-kos">,</span> <span class="pl-smi">Error</span><span class="pl-c1">&gt;</span> <span class="pl-kos">{</span>
    <span class="pl-smi">URLSession</span><span class="pl-kos">.</span>shared<span class="pl-kos">.</span><span class="pl-en">dataTaskPublisher</span><span class="pl-kos">(</span>for<span class="pl-kos">:</span> url<span class="pl-kos">)</span>
        <span class="pl-kos">.</span><span class="pl-en">map</span><span class="pl-kos">(</span>\<span class="pl-kos">.</span>data<span class="pl-kos">)</span>
        <span class="pl-kos">.</span><span class="pl-en">decode</span><span class="pl-kos">(</span>type<span class="pl-kos">:</span> <span class="pl-smi">Book</span><span class="pl-kos">.</span>self<span class="pl-kos">,</span> decoder<span class="pl-kos">:</span> <span class="pl-en">YAMLDecoder</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">)</span>
        <span class="pl-kos">.</span><span class="pl-en">eraseToAnyPublisher</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span></pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">License</h2><a id="user-content-license" class="anchor" aria-label="Permalink: License" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Both Yams and libYAML are MIT licensed.</p>
</article></div>