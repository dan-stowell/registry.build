<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">libfastjson</h1><a id="user-content-libfastjson" class="anchor" aria-label="Permalink: libfastjson" href="#libfastjson"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>NOTE: libfastjson is a fork from json-c, and is currently under development.</strong></p>
<p dir="auto">The aim of this project is <strong>not</strong> to provide a slightly modified clone
of json-c. It's aim is to provide</p>
<ul dir="auto">
<li>a <strong>small</strong> library with essential json handling functions</li>
<li>sufficiently good json support (not 100% standards compliant)</li>
<li>be very fast in processing</li>
</ul>
<p dir="auto">In order to reach these goals, we reduce the features of json-c. For
similarities and differences, see the file DIFFERENCES.</p>
<p dir="auto"><strong>IMPORTANT</strong>
The current API is <strong>not</strong> stable and will change until version 1.0.0 is
reached. We plan to reach it by summer 2016 at latest. With 1.0.0, the API
will be stable. Until then, everything may change. Of course, we will not
deliberatly break things but we need freedom to restructure.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Building on Unix with <code>git</code>, <code>gcc</code> and <code>autotools</code></h2><a id="user-content-building-on-unix-with-git-gcc-and-autotools" class="anchor" aria-label="Permalink: Building on Unix with git, gcc and autotools" href="#building-on-unix-with-git-gcc-and-autotools"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Prerequisites:</p>
<ul dir="auto">
<li><code>gcc</code>, <code>clang</code>, or another C compiler</li>
<li><code>libtool</code></li>
</ul>
<p dir="auto">If you're not using a release tarball, you'll also need:</p>
<ul dir="auto">
<li><code>autoconf</code> (<code>autoreconf</code>)</li>
<li><code>automake</code></li>
</ul>
<p dir="auto">Make sure you have a complete <code>libtool</code> install, including <code>libtoolize</code>.</p>
<p dir="auto"><code>libfastjson</code> GitHub repo: <a href="https://github.com/rsyslog/libfastjson">https://github.com/rsyslog/libfastjson</a></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="$ git clone https://github.com/rsyslog/libfastjson.git
$ cd libfastjson
$ sh autogen.sh"><pre>$ git clone https://github.com/rsyslog/libfastjson.git
$ <span class="pl-c1">cd</span> libfastjson
$ sh autogen.sh</pre></div>
<p dir="auto">followed by</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="$ ./configure
$ make
$ make install"><pre>$ ./configure
$ make
$ make install</pre></div>
<p dir="auto">To build and run the test programs:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="$ make check"><pre>$ make check</pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Linking to <code>libfastjson</code></h2><a id="user-content-linking-to-libfastjson" class="anchor" aria-label="Permalink: Linking to libfastjson" href="#linking-to-libfastjson"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If your system has <code>pkgconfig</code>,
then you can just add this to your <code>makefile</code>:</p>
<div class="highlight highlight-source-makefile notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="CFLAGS += $(shell pkg-config --cflags libfastjson)
LDFLAGS += $(shell pkg-config --libs libfastjson)"><pre><span class="pl-smi">CFLAGS</span> += <span class="pl-s">$(<span class="pl-c1">shell</span> pkg-config --cflags libfastjson)</span>
<span class="pl-smi">LDFLAGS</span> += <span class="pl-s">$(<span class="pl-c1">shell</span> pkg-config --libs libfastjson)</span></pre></div>
<p dir="auto">Without <code>pkgconfig</code>, you would do something like this:</p>
<div class="highlight highlight-source-makefile notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="LIBFASTJSON_DIR=/path/to/json_c/install
CFLAGS += -I$(LIBFASTJSON_DIR)/include/libfastjson
LDFLAGS+= -L$(LIBFASTJSON_DIR)/lib -lfastjson"><pre><span class="pl-smi">LIBFASTJSON_DIR</span>=/path/to/json_c/install
<span class="pl-smi">CFLAGS</span> += -I<span class="pl-s">$(<span class="pl-smi">LIBFASTJSON_DIR</span>)</span>/include/libfastjson
<span class="pl-smi">LDFLAGS+</span>= -L<span class="pl-s">$(<span class="pl-smi">LIBFASTJSON_DIR</span>)</span>/lib -lfastjson</pre></div>
</article></div>