<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto"><code>rules_boost</code> -- Bazel build rules for <a href="https://www.boost.org" rel="nofollow">Boost</a></h1><a id="user-content-rules_boost----bazel-build-rules-for-boost" class="anchor" aria-label="Permalink: rules_boost -- Bazel build rules for Boost" href="#rules_boost----bazel-build-rules-for-boost"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">NOTE: Most parts of <code>rules_boost</code> have been migrated to the <a href="https://registry.bazel.build/" rel="nofollow">Bazel Central Registry</a>.</h2><a id="user-content-note-most-parts-of-rules_boost-have-been-migrated-to-the-bazel-central-registry" class="anchor" aria-label="Permalink: NOTE: Most parts of rules_boost have been migrated to the Bazel Central Registry." href="#note-most-parts-of-rules_boost-have-been-migrated-to-the-bazel-central-registry"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Instead of using <code>rules_boost</code>, consider making use of <a href="https://registry.bazel.build/search?q=boost" rel="nofollow">the Boost packages</a> in the Bazel Central Registry (BCR).</p>
<p dir="auto">Among other advantages, the BCR supports using different Boost versions, while <code>rules_boost</code> always only supports one specific Boost version.</p>
<p dir="auto">If a certain Boost library or version is missing you can make a "module wanted" request in the <a href="https://github.com/bazelbuild/bazel-central-registry/issues">BCR issue tracker</a>.</p>
<p dir="auto">This repository remains for compatibility for users who predate BCR, and as a reference for a few the missing parts that have not been migrated to BCR so far. The work in this repository contributed towards the Boost packaging efforts in BCR, but it is now considered legacy and new users are recommended to migrate to BCR. If you are interested in contributing to the Bazel Boost support effort consider, invest your time in the BCR approach instead of this repository.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Using <code>rules_boost</code></h2><a id="user-content-using-rules_boost" class="anchor" aria-label="Permalink: Using rules_boost" href="#using-rules_boost"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Copy this into your Bazel <code>MODULE.bazel</code> file to add this repo as an external dependency, making sure to update to the <a href="https://github.com/nelhage/rules_boost/commits/master">latest commit</a> per the instructions below.</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="
# Boost
# Famous C++ library that has given rise to many new additions to the C++ Standard Library
# Makes @boost available for use: For example, add `@boost//:algorithm` to your deps.
# For more, see https://github.com/nelhage/rules_boost and https://www.boost.org
bazel_dep(name = &quot;rules_boost&quot;, repo_name = &quot;com_github_nelhage_rules_boost&quot;)
archive_override(
    module_name = &quot;rules_boost&quot;,
    urls = [&quot;https://github.com/nelhage/rules_boost/archive/refs/heads/master.tar.gz&quot;],
    strip_prefix = &quot;rules_boost-master&quot;,
    # It is recommended to edit the above URL and the below sha256 to point to a specific version of this repository.
    # integrity = &quot;sha256-...&quot;,
)

non_module_boost_repositories = use_extension(&quot;@com_github_nelhage_rules_boost//:boost/repositories.bzl&quot;, &quot;non_module_dependencies&quot;)
use_repo(
    non_module_boost_repositories,
    &quot;boost&quot;,
)"><pre><span class="pl-c"># Boost</span>
<span class="pl-c"># Famous C++ library that has given rise to many new additions to the C++ Standard Library</span>
<span class="pl-c"># Makes @boost available for use: For example, add `@boost//:algorithm` to your deps.</span>
<span class="pl-c"># For more, see https://github.com/nelhage/rules_boost and https://www.boost.org</span>
<span class="pl-en">bazel_dep</span>(<span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"rules_boost"</span>, <span class="pl-s1">repo_name</span> <span class="pl-c1">=</span> <span class="pl-s">"com_github_nelhage_rules_boost"</span>)
<span class="pl-en">archive_override</span>(
    <span class="pl-s1">module_name</span> <span class="pl-c1">=</span> <span class="pl-s">"rules_boost"</span>,
    <span class="pl-s1">urls</span> <span class="pl-c1">=</span> [<span class="pl-s">"https://github.com/nelhage/rules_boost/archive/refs/heads/master.tar.gz"</span>],
    <span class="pl-s1">strip_prefix</span> <span class="pl-c1">=</span> <span class="pl-s">"rules_boost-master"</span>,
    <span class="pl-c"># It is recommended to edit the above URL and the below sha256 to point to a specific version of this repository.</span>
    <span class="pl-c"># integrity = "sha256-...",</span>
)

<span class="pl-s1">non_module_boost_repositories</span> <span class="pl-c1">=</span> <span class="pl-en">use_extension</span>(<span class="pl-s">"@com_github_nelhage_rules_boost//:boost/repositories.bzl"</span>, <span class="pl-s">"non_module_dependencies"</span>)
<span class="pl-en">use_repo</span>(
    <span class="pl-s1">non_module_boost_repositories</span>,
    <span class="pl-s">"boost"</span>,
)</pre></div>
<p dir="auto">You can now use libraries in <code>deps</code> through the <code>@boost</code> repository, for example <code>@boost//:algorithm</code>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">If you're using the Apple or Android-specific rules...</h2><a id="user-content-if-youre-using-the-apple-or-android-specific-rules" class="anchor" aria-label="Permalink: If you're using the Apple or Android-specific rules..." href="#if-youre-using-the-apple-or-android-specific-rules"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">As with all platform-dependent C/C++ in Bazel, you'll need to use Bazel 7+ (and a similarly recent version of rules_apple) for per-platform configuration to work automatically out of the box. (Please file a PR to delete this section if Bazel 7 is now so old as to be standard.)</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Suggestion: Updates</h2><a id="user-content-suggestion-updates" class="anchor" aria-label="Permalink: Suggestion: Updates" href="#suggestion-updates"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Improvements come frequently to the underlying libraries, including security patches, so we'd recommend keeping up-to-date.</p>
<p dir="auto">We'd strongly recommend you set up <a href="https://github.com/renovatebot/renovate">Renovate</a> (or similar) at some point to keep this dependency (and others) up-to-date by default. [We aren't affiliated with Renovate or anything, but we think it's awesome. It watches for new versions and sends you PRs for review or automated testing. It's free and easy to set up. It's been astoundingly useful in our codebase, and we've worked with the wonderful maintainer to make things great for Bazel use. And it's used in official Bazel repositories--and this one!]</p>
<p dir="auto">If not now, maybe come back to this step later, or watch this repo for updates. [Or hey, maybe give us a quick star, while you're thinking about watching.] Like Abseil, we live at head; the latest commit to the main branch is the commit you want. So don't rely on release notifications; use <a href="https://github.com/renovatebot/renovate">Renovate</a> or poll manually for new commits.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Configuration of Sub-Libraries</h2><a id="user-content-configuration-of-sub-libraries" class="anchor" aria-label="Permalink: Configuration of Sub-Libraries" href="#configuration-of-sub-libraries"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">ASIO</h3><a id="user-content-asio" class="anchor" aria-label="Permalink: ASIO" href="#asio"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">SSL Support</h4><a id="user-content-ssl-support" class="anchor" aria-label="Permalink: SSL Support" href="#ssl-support"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">These rules implement support for Boost ASIO's SSL support. To use
ASIO-SSL, you must depend on the <code>"@boost//:asio_ssl"</code> target, instead
of <code>"@boost//:asio"</code>. ASIO-SSL depends on OpenSSL; By default,
<code>rules_boost</code> will download and build the latest
<a href="https://boringssl.googlesource.com/boringssl/" rel="nofollow">BoringSSL</a> commit; To
use a different OpenSSL implementation, create a remote named
<code>openssl</code> before calling <code>boost_deps</code>. This remote must make available
OpenSSL's libssl at <code>@boringssl//:ssl</code>.</p>
<div class="markdown-heading" dir="auto"><h4 class="heading-element" dir="auto">io_uring support</h4><a id="user-content-io_uring-support" class="anchor" aria-label="Permalink: io_uring support" href="#io_uring-support"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">To enable io_uring for asio, use <code>--@boost//:asio_has_io_uring</code>.
Optionally, pass<code>--@boost//:asio_disable_epoll</code> to use io_uring
for all operations.</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Beast</h3><a id="user-content-beast" class="anchor" aria-label="Permalink: Beast" href="#beast"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Boost Beast uses <code>beast::string_view</code> for things like request/response headers,
which by default is a type alias of <code>boost::string_view</code>. If you're using a
C++17 compiler that supports <code>std::string_view</code> you can use
<code>--@boost//:beast_use_std_string_view</code> to make <code>beast::string_view</code> instead be a
type alias of <code>std::string_view</code>.</p>
<hr>
<p dir="auto">Based in part on rules from <a href="https://github.com/mzhaom/trunk">https://github.com/mzhaom/trunk</a>.</p>
</article></div>